define("apps/enhance/controls/control-config",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true})}));define("apps/enhance/controls/index",["require","exports","./qp-calendar","./qp-hyper-icon","./qp-datetime-edit","./qp-check-box","./qp-drop-down","./qp-button","./qp-icon","./qp-screen-title","./qp-tool-bar","./qp-long-run","./qp-datetime-edit-utc","./qp-gauge"],(function(e,t,i,n,r,o,a,s,l,u,c,p,d,h){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.configure=void 0;function f(e){e.globalResources([i.QpCalendarCustomElement,n.QpHyperIconCustomElement,r.QpDatetimeEditCustomElement,d.QpDatetimeEditUtcCustomElement,o.QpCheckBoxCustomElement,a.QpDropDownCustomElement,s.QpButtonCustomElement,l.QpIconCustomElement,u.QpScreenTitleCustomElement,c.QpToolBarCustomElement,p.QpLongRunCustomElement,h.QpGaugeCustomElement])}t.configure=f}));define("apps/enhance/controls/qp-button",["require","exports","tslib","./qp-icon","aurelia-framework","../services/control-helper","aurelia-logging","aurelia-event-aggregator","plugins/happeded-on-body"],(function(e,t,i,n,r,o,a,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.QpButtonCustomElement=void 0;var u=a.getLogger("button");var c=function(){function e(e,t,i){this.element=e;this.icon=t;this.eventAggregator=i;this.pushed=false;this.imageSrc="";this.currentMouseType="normal";this.menuOpen=false;this.currentMode="normal";this.isMouseOver=false}t=e;e.prototype.configChanged=function(e,i){if(i===undefined){o.applyDefaultValues(e,t.defaultConfig)}if(this.config.toggleMode)this.pushed=this.config.pushed;if(!this.config.images)this.config.images={};if(this.config.imageUrl)this.config.images.normal=this.config.imageUrl;else if(this.config.imageSet&&this.config.imageKey)this.config.images.normal=this.config.imageSet+"@"+this.config.imageKey;if(!this.config.images.hover)this.config.images.hover=this.config.images.normal;if(!this.config.images.dropDown)this.config.images.dropDown=this.config.images.pushed;if(!this.config.images.pushed)this.config.images.pushed=this.config.images.dropDown;if(!this.config.images.pushed)this.config.images.pushed=this.config.images.hover;if(!this.config.images.disabled)this.config.images.disabled=this.config.images.normal;this.imageSrc=this.config.images[this.currentMode]};e.prototype.imageSrcChanged=function(e,t){if(!this.config){this.imageSrc=undefined;return}if(this.config.enabled&&this.currentMode==="disabled"){this.currentMode="normal"}else if(!this.config.enabled){this.currentMode="disabled"}else{switch(this.currentMouseType){case"hover":this.currentMode=this.currentMouseType;break;case"pushed":if(this.menuOpen)this.currentMode="dropDown";else this.currentMode=this.currentMouseType;break;case"normal":if(this.pushed)this.currentMode="pushed";else this.currentMode=this.currentMouseType;break}}this.imageSrc=this.config.images[this.currentMode]};e.prototype.handleState=function(e){if(!this.config.enabled)return;switch(e.type){case"mouseover":this.currentMouseType="hover";break;case"mouseout":if(this.menuOpen)this.currentMouseType="pushed";else this.currentMouseType="normal";break;case"mousedown":if(document.activeElement)document.activeElement.blur();this.currentMouseType="pushed";break;case"mouseup":if(this.pushed)this.currentMouseType="pushed";else if(this.menuOpen)this.currentMouseType="pushed";else this.currentMouseType="hover";break}};e.prototype.processMouseOver=function(e){this.isMouseOver=true;this.handleState(e)};e.prototype.processMouseOut=function(e){this.isMouseOver=false;this.handleState(e)};e.prototype.processMouseDown=function(e){this.handleState(e);return true};e.prototype.processMouseUp=function(e){this.handleState(e)};e.prototype.detached=function(){var e;(e=this.documentMouseDownSubscription)===null||e===void 0?void 0:e.dispose();this.documentMouseDownSubscription=undefined};e.prototype.processClick=function(e,t){var i=this;var n,r;if(t===void 0){t=false}if(this.config.action){this.eventAggregator.publish("execute-command",this.config.action);return undefined}if(!((n=this.config)===null||n===void 0?void 0:n.enabled))return true;if(this.config.toggleMode){this.pushed=!this.pushed}if(this.config.options){this.menuOpen=!this.menuOpen;this.isMouseOver=false}var o={event:e,value:this.pushed,isMenuItem:t,config:this.config};this.documentMouseDownSubscription=this.eventAggregator.subscribe(l.MOUSE_DOWN_REACHED_BODY,(function(){i.menuOpen=false;i.isMouseOver=false}));var a=new CustomEvent("buttonpressed",{bubbles:true,detail:o});this.element.dispatchEvent(a);if((r=this.config)===null||r===void 0?void 0:r.captureClick){e.stopPropagation();return undefined}return true};e.prototype.processMenuClick=function(e){return this.processClick(e,true)};var t;e.defaultConfig={enabled:true,dialogResult:0};i.__decorate([r.bindable,i.__metadata("design:type",Object)],e.prototype,"config",void 0);i.__decorate([r.bindable,i.__metadata("design:type",Boolean)],e.prototype,"pushed",void 0);i.__decorate([r.observable({changeHandler:"imageSrcChanged"}),i.__metadata("design:type",String)],e.prototype,"currentMouseType",void 0);e=t=i.__decorate([r.customElement("qp-button"),r.autoinject,i.__metadata("design:paramtypes",[Element,n.QpIconCustomElement,s.EventAggregator])],e);return e}();t.QpButtonCustomElement=c}));define("text!apps/enhance/controls/qp-button.css",[],(function(){return"button.qp-button div.btn-inner {\r\n\tpadding-top: 1px;\r\n}\r\n\r\nbutton.qp-button div.btn-inner qp-icon.icon-menu {\r\n\tpadding-left: 5px;\r\n}\r\n\r\nqp-button div.glue-to {\r\n\tposition: fixed;\r\n\tz-index: 1000;\r\n}\r\n\r\nqp-button div.glue-to div.options-panel {\r\n\tbackground-color: white;\r\n\tz-index: 1000;\r\n\tmax-width: 412px;\r\n\tmax-height: 269px;\r\n}\r\n\r\nqp-button div.drop-down__options-pane {\r\n\topacity: 1 !important;\r\n\tmin-width: 210px;\r\n\tcolor: rgba(0, 0, 0, 0.87);\r\n}\r\n\r\nqp-button div.drop-down__options-pane div {\r\n\theight: 26px;\r\n\tline-height: 26px;\r\n}\r\n\r\nbutton.qp-button {\r\n\tfont-weight: 400;\r\n\tfont-size: 13px;\r\n\tbackground-color: #D2D4D7;\r\n\tpadding: 2px 6px 3px 6px;\r\n\tborder: 1px solid #D2D4D7;\r\n\theight: 24px;\r\n\tmin-width: 60px;\r\n\tvertical-align: middle;\r\n\topacity: 0.87;\r\n\twhite-space: nowrap;\r\n\tcursor: pointer;\r\n\toverflow: hidden;\r\n\ttext-transform: uppercase;\r\n\twidth: inherit;\r\n}\r\n\r\nbutton.qp-button[disabled] {\r\n\tcolor: #333333 !important;\r\n\topacity: 0.26 !important;\r\n}\r\n\r\nbutton.qp-button:not([disabled]):hover,\r\nbutton.qp-button.pushed {\r\n\topacity: 0.87;\r\n\tbackground-color: var(--primary-color, #007ACC) !important;\r\n\tborder-color: var(--primary-color, #007ACC) !important;\r\n\tcolor: #FFFFFF;\r\n}\r\nbutton.qp-button.ButtonT {\r\n\tbackground-color: transparent;\r\n\tborder: none;\r\n}\r\nbutton.qp-button:not([disabled]):active {\r\n\topacity: 1;\r\n}\r\n\r\nbutton.qp-button:focus {\r\n\tborder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n}\r\n"}));define("text!apps/enhance/controls/qp-button.html",[],(function(){return'<template show.bind="!config.hidden"><require from="./qp-button.css"></require><require from="./qp-options"></require><button id="${config.id}" name="${config.name}" type="button" ref="buttonElement" tabindex="${config.tabIndex}" class="qp-button ${config.class} ${pushed ? \'pushed\' : \'\'};" disabled.bind="config.enabled == false || config.disabled" click.capture="processClick($event)" mouseover.delegate="processMouseOver($event)" mouseout.delegate="processMouseOut($event)" mousedown.delegate="processMouseDown($event)" mouseup.delegate="processMouseUp($event)"><div class="btn-inner" css="${config.style}" data-cmd="${config.commandName}"><qp-icon imagesrc.bind="imageSrc"></qp-icon><span if.bind="!imageSrc" style="padding-top:1px">${config.text || config.displayName}</span><qp-icon if.bind="config.options" imagesrc="control@ArrowDown" class="icon-menu"></qp-icon></div></button><div glue-to.bind="buttonElement" if.bind="config.options && menuOpen" class="glue-to"><div class="options-panel"><qp-options config.bind="config" options-for.bind="buttonElement" valuechanged.delegate="processMenuClick($event)"></qp-options></div></div></template>'}));define("apps/enhance/controls/qp-calendar",["require","exports","tslib","aurelia-framework","../services/control-helper","aurelia-logging"],(function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.QpCalendarCustomElement=t.StringToIntValueConverter=void 0;var a=o.getLogger("qp-calendar");var s=function(){function e(){}e.prototype.toView=function(e){return e==null?"":e.toString()};e.prototype.fromView=function(e){return parseInt(e)};return e}();t.StringToIntValueConverter=s;var l=7;var u=12;var c=864e5;var p=4;var d=6;var h=13;var f=100;var g=50;var m=.25;var v=3;var b=.5;var y=function(){function e(e){var i=this;this.elem=e;this.timer=undefined;this.down=false;this.required=false;this.year=NaN;this.month=NaN;this.monthNames=[];this.shortMonthNames=[];this.shortDayNames=[];this.yearFix=0;this.firstDayOfWeek=0;this.locale="en-US";this.enableMonthChange=true;this.allowClicks=false;this._bindMouseUpYearSel=function(e){return i.onMouseUpYearSel(e)};this._bindMouseDownYearSel=function(e){return i.onMouseDownYearSel(e)};this.formats={showDOWHeader:true,showOtherMonthDays:true,showWeekNumber:true,nextPrevFormat:0};if(r.dateFormatInfo){this.monthNames=r.dateFormatInfo.monthNames.split(",");this.shortMonthNames=r.dateFormatInfo.abbrMonthNames.split(",");this.shortDayNames=r.dateFormatInfo.abbrDayNames.split(",");this.yearFix=r.dateFormatInfo.yearFix?r.dateFormatInfo.yearFix:0}else{this.monthNames=t._MN;this.shortMonthNames=t._SMN;this.shortDayNames=t._SDN}this.todayDate=new Date;this.todayString=this.todayDateToString()}t=e;Object.defineProperty(e.prototype,"monthPanel",{get:function(){return S(new Date(this.year,this.month,1),this.firstDayOfWeek)},enumerable:false,configurable:true});e.prototype.selectTheDate=function(e,t){this.value=e;this.syncMonthYear();this.monthPaneEle&&this.monthPaneEle.focus();this.commitSelection(this.value);t&&t.stopPropagation();return false};e.prototype.selectCustomItem=function(e,t){this.value=e;this.commitSelection(this.value);t&&t.stopPropagation();return false};e.prototype.onChangeYearSel=function(e){this.closeYearSel();e.blur()};e.prototype.onScrollYearSel=function(e){var t=this;if(e.oldScrollTop===e.scrollTop||e.oldScrollTop==null){return}var i=e.clientHeight;if(e.scrollTop>=i*(1-m)||e.scrollTop<=i*m){if(e.scrollTop>=i*(1-m)){e.oldScrollTop=Math.round(i*(1-m));e.scrollTop=e.oldScrollTop;if(!this.down){clearTimeout(this.timer);this.timer=setTimeout((function(){return t.scrollBackToCenter(t.yearSelection)}),f);this.scrollDown()}else if(!this.timer){this.timer=setInterval((function(){return t.scrollDown()}),g)}}else{if(e.scrollTop<=i*m){e.oldScrollTop=Math.round(i*m);e.scrollTop=e.oldScrollTop;if(!this.down){clearTimeout(this.timer);this.timer=setTimeout((function(){return t.scrollBackToCenter(t.yearSelection)}),f);this.scrollUp()}else if(!this.timer){this.timer=setInterval((function(){return t.scrollUp()}),g)}}}}else{clearInterval(this.timer);this.timer=undefined;e.oldScrollTop=e.scrollTop}};e.prototype.scrollUp=function(){this.year--;this.renderSelectForIE()};e.prototype.scrollDown=function(){this.year++;this.renderSelectForIE()};e.prototype.renderSelectForIE=function(){var e=this;if(r.browser.isIE||r.browser.isIE11){setTimeout((function(){var t,i;(t=e.yearSelection)===null||t===void 0?void 0:t.add(document.createElement("option"),null);(i=e.yearSelection)===null||i===void 0?void 0:i.remove(e.yearSelection.options.length-1)}),0)}};e.prototype.scrollBackToCenter=function(e){var t=this;if(!e)return;clearInterval(this.timer);this.timer=undefined;var i=e.clientHeight;var n=i*b-e.scrollTop?i*b-e.scrollTop<0?-1:1:0;e.oldScrollTop=undefined;e.scrollTop=(i-n*i*b)*b;var r=0;this.timer=setInterval((function(){e.scrollTop=(i-n*(v-r)*i*b/v)*b;r++;if(r>v){e.oldScrollTop=e.scrollTop;clearInterval(t.timer);t.timer=undefined;return}}),g)};e.prototype.onMouseOut=function(e){if(r.browser.isIE||r.browser.isIE11){this.onMouseUpYearSel(e)}};e.prototype.onMouseUpYearSel=function(e){if(this.down){this.down=false;this.scrollBackToCenter(this.yearSelection)}};e.prototype.onMouseDownYearSel=function(e){this.down=true};e.prototype.onKeyDownYearSel=function(e){switch(e.key){case"PageUp":this.year-=h;e.preventDefault();e.stopPropagation();break;case"PageDown":this.year+=h;e.preventDefault();e.stopPropagation();break;case"Up":case"ArrowUp":this.year--;this.renderSelectForIE();break;case"Down":case"ArrowDown":this.year++;this.renderSelectForIE();break}};e.prototype.onFocusYearSel=function(e){if(!e)return;this.yearSelection=e;this.openYearSel();this.yearSelection.scrollTop=Math.round(e.clientHeight*b);this.yearSelection.oldScrollTop=this.yearSelection.scrollTop;this.yearSelection.addEventListener("mouseup",this._bindMouseUpYearSel);this.yearSelection.addEventListener("mousedown",this._bindMouseDownYearSel)};e.prototype.onBlurYearSel=function(e){var t,i;(t=this.yearSelection)===null||t===void 0?void 0:t.removeEventListener("mouseup",this._bindMouseUpYearSel);(i=this.yearSelection)===null||i===void 0?void 0:i.removeEventListener("mousedown",this._bindMouseDownYearSel);this.closeYearSel();clearInterval(this.timer);e.oldScrollTop=undefined;this.timer=undefined;this.down=false};e.prototype.closeYearSel=function(){this.yearSelection.size=1;this.yearSelection.classList.remove("opened");this.yearSelection.classList.add("closed")};e.prototype.openYearSel=function(){this.yearSelection.size=h;this.yearSelection.classList.remove("closed");this.yearSelection.classList.add("opened")};e.prototype.syncMonthYear=function(){if(this.value instanceof Date){this.month=this.value.getMonth();this.year=this.value.getFullYear()}else{this.month=this.todayDate.getMonth();this.year=this.todayDate.getFullYear()}};e.prototype.commitSelection=function(e){var t=new CustomEvent("valuechanged",{bubbles:true,detail:{value:this.value}});this.elem.dispatchEvent(t)};e.prototype.ignoreClicks=function(e){e.stopImmediatePropagation();return true};e.prototype.monthChanged=function(e){this.renderHintsToPrevNextMonths(e)};e.prototype.attached=function(){a.info("attached() of ",this.config&&this.config.id);this.syncMonthYear();this.renderHintsToPrevNextMonths(this.month);this.monthPaneEle&&this.monthPaneEle.focus()};e.prototype.configChanged=function(e,t){a.info("configChanged() of ",e,t);if(this.config){if(this.config.todayDate)this.todayDate=this.config.todayDate;if(this.config.todayString)this.todayString=this.config.todayString;if(this.config.firstDayOfWeek!=null)this.firstDayOfWeek=this.config.firstDayOfWeek}this.syncMonthYear()};e.prototype.keyDown=function(e){a.info(e.key+" pressed");var t=true;switch(e.key){case"Down":case"ArrowDown":this.advanceDate(0,0,l);break;case"Up":case"ArrowUp":this.advanceDate(0,0,-l);break;case"Right":case"ArrowRight":this.advanceDate(0,0,1);break;case"Left":case"ArrowLeft":this.advanceDate(0,0,-1);break;case"PageUp":this.advanceDate(0,-1,0);break;case"PageDown":this.advanceDate(0,1,0);break;case"Home":this.advanceDate(-1,0,0);break;case"End":this.advanceDate(1,0,0);break;case"Space":this.value=this.todayDate;this.syncMonthYear();break;case"Enter":this.commitSelection(this.value);break;case"Esc":case"Escape":this.commitSelection(undefined);break;default:t=false}if(t){e.stopPropagation();return false}return true};e.prototype.advanceDate=function(e,t,i){if(this.value instanceof Date){this.value=new Date(this.value.getFullYear()+e,this.value.getMonth()+t,this.value.getDate()+i);this.syncMonthYear()}};e.prototype.todayDateToString=function(){if(r.dateFormatInfo&&r.dateFormatInfo.shortDate){return r.formatDate(this.todayDate,r.dateFormatInfo.shortDate,r.dateFormatInfo)}else return Intl.DateTimeFormat(this.locale).format(this.todayDate)};e.prototype.renderHintsToPrevNextMonths=function(e){var t=(u+e-1)%u;var i=(u+e+1)%u;if(this.prevMonthEle&&n.PLATFORM.global.px){n.PLATFORM.global.px.setTitle(this.prevMonthEle,this.monthNames[t])}if(this.nextMonthEle&&n.PLATFORM.global.px){n.PLATFORM.global.px.setTitle(this.nextMonthEle,this.monthNames[i])}};e.prototype.handleMonthChange=function(e,t){this.month+=e;if(this.month<0){this.month=u-1;this.year--}else if(this.month>=u){this.month=0;this.year++}this.ignoreClicks(t);return false};e.prototype.isTheSame=function(e,t){if(e instanceof Date&&t instanceof Date&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()){return true}return false};e.prototype.isWeekend=function(e){var t=e.getDay();if(t===0||t===l-1){return true}return false};e.prototype.getWeekNumber=function(e){if(e===undefined||e.length<l){return 0}var t=e[p].date;if(t===undefined){return 0}var i=new Date(t.getFullYear(),t.getMonth(),t.getDate());var n=i.getDay();i.setDate(i.getDate()-(n+l-1)%l+p-1);var r=i.valueOf();i.setMonth(0);i.setDate(p);return Math.round((r-i.valueOf())/(l*c))+1};var t;e._nextPrevShortMonth=1;e._nextPrevFullMonth=2;e._daysInWeek=7;e._MN=["January","February","March","April","May","June","July","August","September","October","November","December"];e._SMN=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e._SDN=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];e._selectMode=0;e._addSelectionMode=1;e._rangeSelectionMode=2;i.__decorate([n.computedFrom("year","month"),i.__metadata("design:type",Array),i.__metadata("design:paramtypes",[])],e.prototype,"monthPanel",null);i.__decorate([n.bindable,i.__metadata("design:type",Object)],e.prototype,"config",void 0);i.__decorate([n.bindable,i.__metadata("design:type",Object)],e.prototype,"value",void 0);i.__decorate([n.observable,i.__metadata("design:type",Number)],e.prototype,"month",void 0);e=t=i.__decorate([n.autoinject,n.customElement("qp-calendar"),i.__metadata("design:paramtypes",[Element])],e);return e}();t.QpCalendarCustomElement=y;function x(e){return new Date(e.getFullYear(),e.getMonth())}function w(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function _(e){return new Date(e.getFullYear(),e.getMonth(),0)}function k(e,t){var i=[];var n=x(e);var r=n.getDay();var o=(r-t+l)%l;var a=_(n);var s=a.getDate();for(var u=s-o+1;u<=s;++u){i.push({dayOfMonth:u,leadingDay:true,date:new Date(a.getFullYear(),a.getMonth(),u)})}return i}function C(e,t){var i=[];var n=(t+l-1)%l;var r=w(e);var o=r.getDay();var a=(n-o+l)%l;for(var s=1;s<=a;++s){i.push({dayOfMonth:s,trailingDay:true,date:new Date(r.getFullYear(),r.getMonth()+1,s)})}return i}function O(e,t){var i=[];var n=(t+l-1)%l;var r=w(e);var o=r.getDay();var a=(n-o+l)%l;for(var s=a+1;s<=a+l;++s){i.push({dayOfMonth:s,trailingDay:true,date:new Date(r.getFullYear(),r.getMonth()+1,s)})}return i}function S(e,t){var i=[];var n=w(e).getDate();var r=k(e,t);for(var o=1;o<=n;++o){r.push({dayOfMonth:o,inCurrentMonth:true,date:new Date(e.getFullYear(),e.getMonth(),o)});if(r.length===l){i.push(r);r=[]}}r=r.concat(C(e,t));if(r.length>0){i.push(r)}if(i.length<d){i.push(O(e,t))}return i}}));define("text!apps/enhance/controls/qp-calendar.css",[],(function(){return".qp-calendar select.year-select{\r\n\tscrollbar-width: thin;\r\n\tscrollbar-color: rgba(0, 0, 0, 0.15) transparent;\r\n\tposition: absolute;\r\n}\r\n@supports (-moz-appearance:none) {\r\n\t.qp-calendar select.year-select{\r\n\t\twidth: 50px;\r\n\t}\r\n\t.qp-calendar select.month-select{\r\n\t\twidth: 100px;\r\n\t}\r\n}\r\n.qp-calendar select.year-select::-webkit-scrollbar {\r\n\twidth: 19px;\r\n}\r\n.qp-calendar select.year-select::-webkit-scrollbar-thumb {\r\n    background: rgba(0, 0, 0, 0.15);\r\n    border-radius: 10px;\r\n    width: 3px;\r\n    border: 5px solid white;\r\n}\r\n.year-select.closed {\r\n\ttop: 5px;\r\n}\r\n.year-select.opened {\r\n\ttop: 24px;\r\n}"}));define("text!apps/enhance/controls/qp-calendar.html",[],(function(){return'<template><require from="./qp-calendar"></require><require from="./qp-calendar.css"></require><table class="calendar qp-calendar" cellpadding="0" cellspacing="0" style="z-index:11000" click.delegate="$event.stopPropagation()" mousedown.trigger="ignoreClicks($event)"><tbody><tr><td class="calendarMT"><table cellpadding="0" cellspacing="0" border="0" style="height:100%;width:100%"><tbody><tr><td class="calendarNP" click.capture="handleMonthChange(-1, $event)" ref="prevMonthEle"><div class="sprite-icon control-icon" icon="PrevMonth"><div class="control-icon-img control-PrevMonth"></div></div></td><td style="text-align:Center"><select ref="monthSelEle" class="month-select" value.bind="month | stringToInt"><option repeat.for="i of 12" value.one-time="i">${monthNames[i]}</option></select> <select ref="yearSelEle" class="year-select closed" style="pointer-events:none" value.bind="year | stringToInt"><option value="${year}">${year}</option></select> <select ref="yearSelEle" class="year-select closed" value.bind="year | stringToInt" mouseout.trigger="onMouseOut($event.currentTarget)" scroll.trigger="onScrollYearSel($event.currentTarget)" keydown.trigger="onKeyDownYearSel($event)" focus.trigger="onFocusYearSel($event.currentTarget)" blur.trigger="onBlurYearSel($event.currentTarget)" change.trigger="onChangeYearSel($event.currentTarget)"><option repeat.for="i of 27" value="${year+i-13}">${year+i-13}</option></select></td><td class="calendarNP" click.capture="handleMonthChange(1, $event)" ref="nextMonthEle"><div class="sprite-icon control-icon" icon="NextMonth"><div class="control-icon-img control-NextMonth"></div></div></td></tr></tbody></table></td><td if.bind="config.customItems.length > 0" rowspan="3" style="vertical-align:Top"><table id="${id}_customItems"><tbody><tr repeat.for="item of config.customItems" click.capture="selectCustomItem(item, $event)"><td class="calendarD">${item}</td></tr></tbody></table></td></tr><tr><td><table cellspacing="0" align="Center" border="0" style="width:100%" ref="monthPaneEle" keydown.capture="keyDown($event)" tabindex="0"><colgroup><col repeat.for="i of 8" style="width:12%"></colgroup><tbody><tr><td class="calendarDH">#</td><td class="calendarDH" repeat.for="i of 7">${shortDayNames[(i+firstDayOfWeek)%7]}</td></tr><tr repeat.for="week of monthPanel"><td class="calendarWN calendarD">${getWeekNumber(week)}</td><td repeat.for="day of week" class="calendarD ${isTheSame(day.date, todayDate) ? \'calendarTD\' : \'\'} ${day.trailingDay || day.leadingDay ? \'calendarOMD\' : \'\'} ${isWeekend(day.date) ? \'calendarWE\':\'\'} ${isTheSame(day.date, value) ? \'calendarSD\':\'\'}" click.capture="selectTheDate(day.date, $event)">${day.dayOfMonth}</td></tr></tbody></table></td></tr><tr><td ref="todayCellEle" class="calendarF" style="cursor:pointer" click.capture="selectTheDate(todayDate, $event)"> ${todayString} </td></tr></tbody></table></template>'}));define("apps/enhance/controls/qp-check-box",["require","exports","tslib","aurelia-framework","aurelia-logging","../services/control-helper"],(function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.QpCheckBoxCustomElement=t.IntToBoolValueConverter=void 0;var a=r.getLogger("check-box");var s=function(){function e(){}e.prototype.toView=function(e,t){return e!=0};e.prototype.fromView=function(e,t){return e===true?1:0};return e}();t.IntToBoolValueConverter=s;var l=function(){function e(e){this.element=e}t=e;e.prototype.configChanged=function(e,i){if(i===undefined){o.applyDefaultValues(e,t.defaultConfig)}};e.prototype.toggleValue=function(e){if(e.target===this.element){return true}this.value=!this.value;e.stopPropagation();return false};var t;e.defaultConfig={enabled:true,required:false,trueValue:"true",falseValue:"false"};i.__decorate([n.bindable,i.__metadata("design:type",Object)],e.prototype,"config",void 0);i.__decorate([n.bindable,i.__metadata("design:type",Object)],e.prototype,"value",void 0);e=t=i.__decorate([n.customElement("qp-check-box"),n.autoinject,i.__metadata("design:paramtypes",[Element])],e);return e}();t.QpCheckBoxCustomElement=l}));define("text!apps/enhance/controls/qp-check-box.html",[],(function(){return'<template css="display: ${config.hidden ? \'none\': \'block\'};" id="${config.id}" enabled.bind="!!config.enabled & attr" class="${config.class}"><require from="./qp-check-box"></require><span if.bind="config.renderStyle!==\'button\'" click.delegate="config.enabled===true && toggleValue($event)"><label if.bind="config.textAlign===\'left\'" for="${config.id}_text" class="left ${config.labelWidth ? \'fld-l\'+config.labelWidth : \'\'}">${config.label}</label> <input id="${config.id}_text" name="${config.name}" ref="element" type="checkbox" tabindex="${config.tabIndex}" disabled.bind="!config.enabled" checked.two-way="value | intToBool"><label if.bind="config.textAlign!==\'left\'" for="${config.id}_text">${config.label}</label></span><div if.bind="config.renderStyle===\'button\'"><qp-hyper-icon id="${config.id}_pic" if.bind="config.renderStyle == \'button\' && value" images.bind="config.checkImages" disabled.bind="!config.enabled" click.delegate="config.enabled===true && toggleValue($event)"></qp-hyper-icon><qp-hyper-icon id="${config.id}_pic" if.bind="config.renderStyle == \'button\' && !value" images.bind="config.uncheckImages" disabled.bind="!config.enabled" click.delegate="config.enabled===true && toggleValue($event)"></qp-hyper-icon><label if.bind="config.renderStyle == \'button\' && config.label && config.label.length" for="${config.id}_pic">${config.label}</label></div></template>'}));define("apps/enhance/controls/qp-datetime-edit",["require","exports","tslib","aurelia-framework","../services/control-helper","aurelia-logging"],(function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TextRange=t.QpDatetimeEditCustomElement=t.MAX_DAYS_IN_MONTH=t.MONTHS_IN_YEAR=t.MAX_YEAR=t.MIN_YEAR=void 0;var a=o.getLogger("qp-datetime-edit");var s=29;t.MIN_YEAR=1900;t.MAX_YEAR=9999;t.MONTHS_IN_YEAR=12;t.MAX_DAYS_IN_MONTH=31;var l=127;var u="0".charCodeAt(0);var c="9".charCodeAt(0);var p=0;var d=1;var h=2;var f=function(){function e(e,t,i,n){this.element=e;this.bindingEngine=i;this.taskQueue=n;this.value=null;this.oldValue=null;this.focused=false;this.todayDate=new Date;this.durationMode=false;this.fullDOW=false;this.fullMonth=false;this.selectOnFocus=false;this.allowStrings=false;this.roundUpTime=false;this.required=false;this.hideEnterKey=false;this.promptChar="_";this.emptyChar=" ";this.valueMode=0;this.validateExp="";this.asciiCharSet=false;this.dropDownOpen=false;this.inlineEditor=false;this.outerClickSubscription=undefined;this.allowRepaintText=true;this.hasFocus=false;this.lockMouseUp=false;this.mouseClicked=false;this.trackSelection=true;this.trackPosition=false;this.selStart=0;this.selEnd=0;this.field0ID=new Array;this.field1ID=new Array;this.mask=undefined;this.maskExclude=undefined;this.maskInclude=undefined;this.emptyText=undefined;this.AM="AM";this.PM="PM";this.lengthAmPm=this.AM.length>this.PM.length?this.AM.length:this.PM.length;this.yearFix=0;this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December",""];this.dowNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];this.validateEdit=true;this.allowMouseDownFlag=false;this.eventManager=t;this.value=null}o=e;e.createDate=function(e,t,i){var n=new Date(e,t,i);n.setFullYear(e,t,i);return n};e._trimEnd=function(e){return e.replace(/\s+$/,"")};e._filter=function(e,t,i,n,r,o){if(i>=t.length)return n;var a=t.charCodeAt(i);var s=t.charAt(i);if(a<21||r&&r.indexOf(s)!==-1)return n;if(o&&o.indexOf(s)!==-1)return s;var l=Math.floor((e-1)/6);switch(l){case 0:break;case 1:if(a>=u&&a<=c)return s;case 2:if(a>255||s.toUpperCase()!==s.toLowerCase())break;return n;case 3:return a>=u&&a<=c?s:n}e=Math.floor((e-1)/2)%3;if(e===0)return s;s=e===2?s.toLowerCase():s.toUpperCase();if(r&&r.indexOf(s)!==-1)return n;return s};e.format=function(e,t,i,n){if(n==null)n=0;if(t==null)t="";var r="";var a;var s=0;var l=o.split(e);var u=l[0];var c=l[1];var p=l[2];for(var d=0;d<u.length;d++){a=u.charCodeAt(d);if(a<21){var h=void 0;if(s<t.length){h=o._filter(a,t,s,"",c,p);s++}r+=h?h:i}else{r+=u.charAt(d);if(n>0)s++}}return r};e.encode=function(e){var t;var i;var n=0;var r="";var a=o.split(e);var s=a[0];var l=a[1];var u=a[2];for(var c=0;c<s.length;c++){i=s.charAt(c);t=o._flag(i,n);if(t!==0){if(t<0){n=n===-t?0:-t;continue}r+=String.fromCharCode(t)}else if(i==="\\"&&c+1<s.length){i=s.charAt(c+1);if(o._flag(i,0)!==0){r+=i;c++}}else r+=i}if(l)r+="|"+l;if(u){if(!l)r+="|";r+="|"+u}return r};e.split=function(e){var t=e.split("|");if(t.length===1)t[d]="";if(t.length===2)t[h]="";return t};e._flag=function(e,t){var i=0;switch(e){case">":return-1;case"<":return-2;case"&":i=1;break;case"C":i=2;break;case"A":i=7;break;case"a":i=8;break;case"L":i=13;break;case"?":i=14;break;case"#":case"0":return 19;case"9":return 20;default:return 0}return i+t*2};Object.defineProperty(e.prototype,"isEditLink",{get:function(){return false},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"ROMode",{get:function(){return this.config&&(this.config.readOnly||!this.config.enabled)},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"textValue",{get:function(){return this.elemText?this.elemText.value:""},set:function(e){this._textValue=e;if(this.elemText)this.elemText.value=e},enumerable:false,configurable:true});e.prototype.detached=function(){if(this.editMaskObserver)this.editMaskObserver.dispose();if(this.displayMaskObserver)this.displayMaskObserver.dispose()};e.prototype.acceptDateFromCalendar=function(e){var t=this;a.info("acceptDateFromCalendar");var i=e.detail&&e.detail.value;if(i)this.setValue(i);this.hideDropDown();e.preventDefault();e.stopPropagation();this.fireEvent("valuechanged");setTimeout((function(){t.elemText.focus()}),0)};e.prototype.configChanged=function(e,t){var i=this;a.info("configChanged() of ",e,t);if(t===undefined){r.applyDefaultValues(e,o.defaultConfig);if(!this.editMaskObserver){this.editMaskObserver=this.bindingEngine.propertyObserver(this.config,"editMask").subscribe((function(e,t){return i.initEditMask()}))}if(!this.displayMaskObserver){this.displayMaskObserver=this.bindingEngine.propertyObserver(this.config,"displayMask").subscribe((function(e,t){return i.initDisplayMask()}))}}this.AM=r.dateFormatInfo.am||"AM";this.PM=r.dateFormatInfo.pm||"PM";this.lengthAmPm=Math.max(this.AM.length,this.PM.length);this.yearFix=r.dateFormatInfo.yearFix||0;if(this.config){this.monthNames=this.config.fullMonth?r.dateFormatInfo.monthNames.split(","):r.dateFormatInfo.abbrMonthNames.split(",");this.dowNames=this.config.fullDOW?r.dateFormatInfo.dayNames.split(","):r.dateFormatInfo.abbrDayNames.split(",");this._initializeMask();if(t===undefined){this.taskQueue.queueMicroTask((function(){if(i.config.value)i.value=new Date(i.config.value)}))}}};e.prototype.attached=function(){this.trange=new v(this.elemText)};e.prototype.getValue=function(e){if(e===void 0){e=false}if(this.value===null||e){var t=this._getTypedValue(this.textValue,true);if(this.allowStrings||t==null||t instanceof Date&&!isNaN(t.getTime())&&!r.equals(this.value,t)){this.value=t}}return this.value};e.prototype.getValueOrToday=function(){var e=this.getValue(true);if(e==null)e=new Date;return e};e.prototype.setValue=function(e){var t=this._parseInvariant(e);if(this.allowStrings||t instanceof Date&&!isNaN(t.getTime())&&r.equals(this._checkLimits(t),t)){this.value=t;this.oldValue=t;if(this.hasFocus){this.textValue=this.getEditText(this.value);if(r.isVisible(this.elemText))this.select(this.selStart)}else this.textValue=this.getDisplayText(this.value)}};e.prototype.valueChanged=function(e,t){if(!this.config)return;if(this.config.allowCustomItems&&e!=null)this._setAllowStrings(e);if(this.hasFocus){this.textValue=this.getEditText(this.value);if(r.isVisible(this.elemText)){this.trange&&this.trange.refreshSelection()}}else if(e==null)this.textValue=this.getDisplayText(null);else this.textValue=this.getDisplayText(this.value)};e.prototype.updateValue=function(e){var t=e===undefined?this.getValue(true):e;if(!r.equals(t,this.oldValue)){var i=this.fireEvent("valuechanging");if(i){this.setValue(this.oldValue);return false}var n=new Object;var o=this.oldValue;e!==undefined?this.setValue(t):this.repaintText(t);this.oldValue=t;this.fireEvent("valuechanged");return true}};e.prototype.getReadOnly=function(){return this.config.readOnly};e.prototype.getEnabled=function(){return this.elemText.getAttribute==null||!this.elemText.getAttribute("enabled")};e.prototype.getDisabled=function(){return!this.getEnabled()||this.getReadOnly()};e.prototype.doTrackSelection=function(){if(this.elemText.tagName==="INPUT"&&this.trackSelection||this.trackPosition){this.getSelectedText()}};e.prototype.selectContent=function(e){var t=this;if(e===void 0){e=true}if(!r.isVisible(this.elemText))return;if((this.selectOnFocus||this.getDisabled())&&this.elemText.select){this.select();this.lockMouseUp=true;if(this.mouseClicked&&r.browser.isEdge)setTimeout((function(){t.select()}),0)}else if(this.elemText.tagName==="INPUT"||this.trackPosition){var i=e?this.selStart:0;var n=e?this.selEnd:0;if(r.browser.isIE)this.select(i,n);else setTimeout((function(){t.select(i,n)}),0)}};e.prototype.processFocus=function(e){this.hasFocus=true;this.oldValue=this.getValue();if(!this.getDisabled()&&this.allowRepaintText&&!this.isEditLink){var t=this.getEditText(this.getValue());if(this.textValue!==t)this.textValue=t}this.selectContent(this.trackPosition);this.getSelectedText();if(this.allowRepaintText)this.fireEvent("activated")};e.prototype.processBlur=function(e){this.hasFocus=false;this.onBlur(e);if(this.allowRepaintText&&!this.isEditLink){this.updateValue();var t=this.getDisplayText(this.getValue());if(t!==this.textValue)this.textValue=t}};e.prototype.onBlur=function(e){if(this.allowStrings||this.getDisabled()||!this.focused)return;var t=this.textValue;var i=this._fields1(t,true);var n=this.separate(t);if(this.emptyText!==t&&i.some((function(e){return!e}))){var r=new Date;if(this.roundUpTime){r.setHours(23);r.setMinutes(59);r.setSeconds(59);r.setMilliseconds(999)}else{r.setHours(0);r.setMinutes(0);r.setSeconds(0);r.setMilliseconds(0)}for(var a=0;a<i.length;a++){var s=i[a];if(this._isDatePart(a)&&!s){i[a]=this._fieldValue(this.field0ID[a],r,true,"0")}else if(o.between(10,this.field0ID[a],13)&&!s&&!this.isZeroTime(i,n,a)){i[a]=r.getHours()}else if(o.between(16,this.field0ID[a],17)&&!s&&!this.isZeroTime(i,n,a)){i[a]=r.getMinutes()}}var l=function(e,t,i){return e.some((function(e){return e>=t&&e<=i}))};var u=this.getMergedDateTime(i.slice());if(u!==undefined){if(!l(this.field0ID,10,13))u.setHours(r.getHours());if(!l(this.field0ID,16,17))u.setMinutes(r.getMinutes());if(!l(this.field0ID,18,19))u.setSeconds(r.getSeconds());if(!l(this.field0ID,22,28))u.setMilliseconds(r.getMilliseconds());this.textValue=this.getEditText(u)}}};e.prototype.processKeyDown=function(e){this.doTrackSelection();switch(e.key){case"Backspace":if(this.getReadOnly()){e.preventDefault();e.stopPropagation()}break;case"Esc":case"Escape":e.preventDefault();break;case"Enter":if(!e.shiftKey){if(this.hideEnterKey){e.preventDefault();e.stopPropagation();if(this.allowRepaintText){this.updateValue()}}}break}if(!this.onKeyDown(e)){e.preventDefault();e.stopPropagation();return false}switch(e.key){case"Backspace":case"Delete":case"Del":if(this.getDisabled()){e.preventDefault();e.stopPropagation();break}if(r.browser.isAnyIE||r.browser.isSafari||r.browser.isFirefoxFrom65){if(!this.onKeyPress(e)){e.preventDefault();e.stopPropagation()}}break}if((e.code=="KeyS"||e.keyCode==83)&&e.ctrlKey){this.processBlur();this.processFocus()}return true};e.prototype.onButtonClick=function(e){if(this.dropDownOpen){this.hideDropDown();this.focus()}else this.showDropDown()};e.prototype.onKeyDown=function(e){var t=!(e.ctrlKey||e.metaKey||e.altKey);switch(e.key){case"Down":case"ArrowDown":case"-":case"F3":if(!this.config.timeMode&&(e.key==="F3"||e.altKey)){this.onButtonClick();return false}if(e.key!=="F3"&&!e.shiftKey&&!this.inlineEditor&&!this.allowStrings){this.incrementActivePart(-1);return false}break;case"Up":case"ArrowUp":case"+":if(t&&!this.inlineEditor&&!this.allowStrings){this.incrementActivePart(1);return false}break;case"Right":case"ArrowRight":if(t&&!e.shiftKey&&!this.allowStrings){this.selectActivePart(this.getActivePartIndex()+1);return false}break;case"Left":case"ArrowLeft":if(t&&!e.shiftKey&&!this.allowStrings){this.selectActivePart(this.getActivePartIndex()-1);return false}break;case".":case"/":if(t&&!this.allowStrings){if(e.shiftKey){this.selectActivePart(this.getActivePartIndex()-1)}else{this.selectActivePart(this.getActivePartIndex()+1)}return false}break}return true};e.prototype.processKeyPress=function(e){this.doTrackSelection();if(this.getDisabled()){if(!e.ctrlKey){e.preventDefault();e.stopPropagation();return false}}return this.onKeyPress(e)};e.prototype.onKeyPress=function(e){if(!this.mask||!this.validateEdit)return true;var t=this.textValue;var i=t.length;var n=this.selStart;var r=this.selEnd;var o=this.emptyChar.charCodeAt(0);if(n!==r){while(--r>=n){var a=this.promptChar;if(this.mask.charCodeAt(r)>=21)a=this.mask.charAt(r);t=t.substring(0,r)+a+t.substring(r+1)}r++}else{switch(e.key){case"Del":case"Delete":case"Space":while(r<i&&this.mask.charCodeAt(r)>=21)r++;if(r>=i)return false;t=t.substring(0,r)+this.promptChar+t.substring(r+1);r++;break;case"Backspace":while(r>0&&this.mask.charCodeAt(r-1)>=21)r--;if(r--<1)return false;t=t.substring(0,r)+this.promptChar+t.substring(r+1)}}if(e.key.length===1&&e.key!==" "&&r<i){var s=e.key.toUpperCase();var l=[t];n=this.insertCharAt(l,s,r);t=l[0];if(n<0)return false;r=this.locatePromptPos(n)}this.textValue=t;this.select(r);this.fireEvent("usertyping");return false};e.prototype.processBeforePaste=function(e){e.returnValue=false};e.prototype.processSelectStart=function(e){if(!this.selectOnFocus){e.preventDefault();e.stopPropagation()}};e.prototype.processInput=function(e){if(this.allowStrings)this.textValue=this.elemText.value;if(r.isVisible(this.elemText))this.fireEvent("usertyping")};e.prototype.processPaste=function(e){if(this.getDisabled()){e.preventDefault();e.stopPropagation();return false}var t=e.clipboardData;if(t!=null){var i=t.getData("Text");var n=this.text;var r=this.processPasteValue(i);if(i&&(!r||n!==this.text))this.fireEvent("usertyping");if(r){e.preventDefault();e.stopPropagation()}}else this.fireEvent("usertyping");return true};e.prototype.initInlineEditor=function(e){this.config=e.config;this._initializeMask()};e.prototype.repaintText=function(e){var t=this.hasFocus?this.getEditText(e):this.getDisplayText(e);if(t!==this.text)this.text=t};e.prototype.getDisplayText=function(e){if(this.config.allowNull&&e==null)return this.config.nullText;return this._getFormattedText(e,false)};e.prototype.getEditText=function(e){return this._getFormattedText(e,true)};e.prototype.getVisible=function(){return this.elemText.style.display!=="none"};e.prototype.select=function(e,t){if(this.getVisible()&&this.trange){this.trange.select(e,t);this.selStart=this.trange.selStart;this.selEnd=this.trange.selEnd}};e.prototype.getSelectedText=function(){if(!this.trange)return"";var e=this.trange.getSelectedText();this.selStart=this.trange.selStart;this.selEnd=this.trange.selEnd;return e};e.prototype.fireEvent=function(e,t){var i={};switch(e){case"keydown":case"keypress":case"keyup":var n=t;if(n&&n.key)i.key=n.key;break;case"valuechanging":i.oldValue=this.oldValue;i.value=this.getValue();break;case"valuechanged":i.value=this.getValue();break}var r=new CustomEvent(e,{bubbles:true,detail:i});this.elemText.dispatchEvent(r);if(r.detail.cancel===true)return true;return false};e.prototype._getFormattedText=function(e,t){if(this.allowStrings&&!(e instanceof Date)){return e!=null?e.toString():""}if(e==null||e===""||typeof e==="string")return this.getDisplayValue("",1);var i="";var n=t?this.mask||"":this.mask1;var r=t?this.field0ID:this.field1ID;var o;var a;var s=-1;var l=0;while(++s<n.length){o=n.charAt(s);a=n.charCodeAt(s);if(a<21){i+=this._fieldValue(r[l++],e,t,o);if(t){while(s+1<n.length){if(n.charCodeAt(s+1)===a)s++;else break}}}else i+=o}return t?this.getDisplayValue(i,1):i};e.prototype.focus=function(){try{this.elemText.focus()}catch(e){}};e.prototype.validateValue=function(e){if(this.isNullValue(e)){e=this.config.allowNull?null:""}else if(this.validateExp){var t=new RegExp(this.validateExp);var i=t.exec(e||"");if(i!=null)e=i[0];else e=this.config.allowNull?null:""}if(this.asciiCharSet&&e){var n=e;e="";for(var r=0;r<n.length;r++){if(n.charCodeAt(r)<l)e+=n.charAt(r)}}return e};e.prototype.initEditMask=function(){this.mask0=this._dateMask(this.config.editMask,false);this._initEmptyText();this.setInputMask(this.mask0)};e.prototype.initDisplayMask=function(){this.mask1=this._dateMask(this.config.displayMask,true)};e.prototype._initializeMask=function(){this.initEditMask();this.initDisplayMask()};e.prototype._initEmptyText=function(){this.emptyText=this.mask0.replace(/[#LC]/g,this.promptChar)};e.prototype._setAllowStrings=function(e){this.allowStrings=e==null||e.constructor.name!=="Date";this.validateEdit=!this.allowStrings};e.prototype._dateMask=function(e,t){if(t){if(this.field1ID==null)this.field1ID=new Array;this.field1ID.length=0}else{if(this.field0ID==null)this.field0ID=new Array;this.field0ID.length=0}if(e==null)e="";var i;var n;var r=0;var o=-1;var a="";for(n=0;n<e.length;n++){i=e.charCodeAt(n);if(i<u||i>c){var s=e.charAt(n);if(t&&s==="\\"&&n+1<e.length){i=i=e.charAt(++n);if(i==="\\")continue;if("0"===i||"9"===i)a+=s;a+=i}else a+=s;continue}o=(i-u)*10+e.charCodeAt(++n)-u;if(t){this.field1ID[r++]=o;a+=""}else{this.field0ID[r++]=o;switch(o){case 14:a+="L";break;case 15:a+=Array(this.lengthAmPm+1).join("C");break;case 22:a+="#";break;default:a+="##";if(o===3)a+="##";while(o-- >23)a+="#"}}}return a};e.prototype.setInputMask=function(e){if(e==null)e="";if(this.rawMask===e)return;var t=this.mask?this.calculateValue(this.textValue,0,1):undefined;this.maskFull=o.encode(e);var i=o.split(this.maskFull);this.mask=i[p];this.maskExclude=i[d];this.maskInclude=i[h];if(t!=null){var n=this.getDisplayValue(t,0);this.textValue=n?o._trimEnd(n):"";this.value=null}this.rawMask=e};e.prototype.calculateValue=function(e,t,i){if(this.isNullValue(e))return this.config.allowNull?undefined:"";if(!this.mask)return e;var n=new RegExp("\\"+this.promptChar,"g");e=e.toString().replace(n,String.fromCharCode(0));var r=0;var a;var s;var l=true;var u="";for(var c=0;c<this.mask.length;c++){s=this.mask.charCodeAt(c);if(s<21){a=undefined;if(r<e.length){a=o._filter(s,e,r,"",this.maskExclude,this.maskInclude);r++}u+=a?a:this.emptyChar;if(a)l=false}else{if(i>0&&r<e.length){if(this.mask.charAt(c)!==e.charAt(r))return undefined;r++}if(t>0)u+=this.mask.charAt(c)}}return l?this.config.allowNull?undefined:"":o._trimEnd(u)};e.prototype.isNullValue=function(e){var t=String(e);if(e==null||t==="")return true;if(this.config.allowNull&&t===this.config.nullText)return true;return false};e.prototype.getDisplayValue=function(e,t,i){if(this.mask){if(i===undefined)i=this.promptChar;return o.format(this.maskFull,e,i,t)}return e!=null?e:""};e.prototype._fieldValue=function(e,t,i,n){var r;var o=(e&1)*2;if(e<4){r=t.getFullYear()+this.yearFix;if(e===3)o=4;else{r%=100;o=e===2?2:0}}else if(e<8){r=t.getMonth()+1;if(e>5){var a=this.monthNames[r-1];if(a.length>0)return a}}else if(e<10){r=t.getDate()}else if(e<16){r=t.getHours();if(e>13){var s=r<12?this.AM:this.PM;e-=13;o=s.length;if(e===o)return s;if(o<e)s+=" ";return e===1?s.substring(0,e):s}if(e<12){r%=12;if(r===0)r=12}}else if(e<18)r=t.getMinutes();else if(e<20)r=t.getSeconds();else if(e<22)return this.dowNames[t.getDay()];else{r=t.getMilliseconds();var l=o=e-21;while(l-- >3)r*=10;while(l++<2)r=Math.floor(r/10)}var u=r.toString();if(e<20){e=u.length;if(i){if(o===0)o=2;else i=false}if(o>0){if(o<e)u=u.substring(0,o);else while(e++<o)u=(i?n:"0")+u}}return u};e.prototype._checkLimits=function(e){if(!this.config.timeMode&&!this.allowStrings&&e!=null&&!isNaN(e.getTime())){var t=e.getTime();var i=void 0;var n=void 0;if(this.config.minValue!=null)i=this.config.minValue.getTime();if(this.config.maxValue!=null)n=this.config.maxValue.getTime();if(i!==undefined&&t<i){e=new Date(i)}if(n!==undefined&&t>n){e=new Date(n)}}return e};e.prototype._parseInvariant=function(e){var i=null;if(e==null||this.isNullValue(e)){if(this.config.allowNull)return null;i=new Date}else{if(e instanceof Date)i=e;else{if(this.config.timeMode||e.indexOf(":")>0){var n=Date.parse(e);if(!isNaN(n))i=new Date(n)}else{var r=e.split("/");if(r.length>=3){var a=parseInt(r[2]);var s=parseInt(r[0]);var l=parseInt(r[1]);if(!isNaN(a)&&!isNaN(s)&&!isNaN(l))i=o.createDate(a,s-1,l)}}}}if(this.config.timeMode&&i instanceof Date&&!isNaN(i.getTime())){i.setFullYear(t.MIN_YEAR);i.setMonth(0);if(!this.durationMode)i.setDate(1)}if(this.config.allowCustomItems)this._setAllowStrings(i);if(this.allowStrings&&(i==null||isNaN(i.getTime())))return e;return i};e.prototype._getTypedValue=function(e,t){var i;if(this.isNullValue(e)||e===this.emptyText){if(this.config.allowNull)return null;i=new Date}else{if(e instanceof Date)i=e;else{i=this._parseText(e,this.hasFocus,t);if(i==null)i=this._parseText(e,!this.hasFocus,t)}}if(this.config.timeMode&&i!=null){i.setFullYear(1900);i.setMonth(0);if(!this.durationMode)i.setDate(1)}if(this.config.allowCustomItems)this._setAllowStrings(i);if(this.allowStrings&&i==null)return e;if(i==null)return null;return t?this._checkLimits(i):i};e.prototype._parseText=function(e,t,i){var n=this._fields1(e,t);var r=0;var o=n.length;var a=-1;var l=-1;var u=-1;var c=-1;var p=-1;var d=-1;var h=-1;var f=-1;var g=-1;while(++g<o){var m=n[g];var v=t?this.field0ID[g]:this.field1ID[g];if(v<4){if(m>100&&m>this.yearFix)m-=this.yearFix;if(m<0)r++;else{a=m;var b=s;if(m<100){if(v<3&&b<0)b=29;if(b>=0)a+=m>b?1900:2e3}}}else if(v<8){if(m<1||m>12)r++;else l=m}else if(v<10){if(m<1||m>31)r++;else u=m}else if(v<14){if(m===24)m=0;if(v>11)f=-4;else{if(m===12)m=0;if(m>12)r++}if(m>23)r++;else c=m}else if(v<16){if(m>0)f++;continue}else if(v<18){if(m>59)r++;else p=m}else if(v<20){if(m>59)r++;else d=m}else if(v<22){continue}else{while(v++<24)m*=10;while(v-- >25)m=Math.floor(m/10);h=m}}if(f===0&&c>=0&&c<12)c+=12;var y=null;if(r===0){if(a>0&&l>0){y=new Date(a,l-1);y.setFullYear(a,l-1)}else y=new Date;if(y!=null){if(l>0)y.setMonth(l-1);if(u>0)y.setDate(u);y.setHours(c>=0?c:0);y.setMinutes(p>=0?p:0);y.setSeconds(d>=0?d:0);y.setMilliseconds(h>=0?h:0);if(a>0&&l>0&&u>0)y.setFullYear(a,l-1,u)}if(i)y=this._checkLimits(y)}return y};e.prototype._fields1=function(e,t){var i=t&&!this.getDisabled()?this.field0ID:this.field1ID;var n=i.length;var r=-1;var o=0;var a=0;var s=new Array(n);while(++r<n)s[r]=-1;if(e==null)return s;e=e.toUpperCase();r=-1;while(++r<e.length&&a<n){var l=e.charCodeAt(r)-48;var u=i[a];if(e.charAt(r)===this.promptChar)continue;if(20===u||21===u){u=i[++a]}if(14===u||15===u){if(l>=0&&l<=9){o=-1;a++;r--;continue}if(this.PM.charAt(0).toUpperCase()===e.charAt(r)){s[a++]=1;o=-1}}else if(u===6||u===7){o=-1;while(o-- >-3){for(l=0;l<12;l++){var c=this.monthNames[l].toUpperCase();u=c.length;if(u<1)continue;if(o===-3){if(u<4)continue;c=c.substring(0,3)}u=e.indexOf(c)-1;if(u>-2){if(u<0||e.charAt(u).toLowerCase()===e.charAt(u))break}}if(l<12){s[a]=l+1;break}}a++}else{if(l>=0&&l<=9){if(o<=0)o=l;else o=o*10+l}else if(o>=0){s[a++]=o;o=0}}}if(a<n)s[a]=o;return s};e.between=function(e,t,i){return e<=t&&i>=t};e.prototype.getMergedDateTime=function(e){var t=function(e){return e[0].toUpperCase()+e.substring(1).toLowerCase()};var i=-1;var n=-1;var r=-1;var a=0;var s=0;var l=0;var u=0;var c=-1;for(var p=0;p<e.length;p++){var d=e[p];var h=d;var f=d;if(f==null)f=parseInt(h,10);var g=this.field0ID[p];switch(g){case 1:case 2:case 3:i=f;break;case 4:case 5:n=f;break;case 6:case 7:n=this.monthNames.indexOf(t(h));break;case 8:case 9:r=f;break;case 10:case 11:case 12:case 13:a=f;break;case 14:case 15:c=h===this.PM||f===1?1:0;break;case 16:case 17:s=f;break;case 18:case 19:l=f;break;case 22:case 23:case 24:case 25:case 26:case 27:case 28:u=f;break}}if(c===0){if(a===12)a=0}else if(c===1){if(a<12)a+=12}var m=function(e){if(e%4)return false;if(e%100)return true;if(e%400)return false;return true};var v=1582;var b=275760;var y=false;if(o.between(v,i,b)&&o.between(1,n,12)){var x=31;switch(n){case 2:x=m(i)?29:28;break;case 4:case 6:case 9:case 11:x=30}if(o.between(1,r,x)){y=true}}var w=o.between(0,a,23)&&o.between(0,s,60)&&o.between(0,l,60)&&o.between(0,u,9999);if(y&&w)return new Date(i,n-1,r,a,s,l,u)};e.prototype._isDatePart=function(e){return this.field0ID[e]<10};e.prototype.isZeroTime=function(e,t,i){var n=e[i];if(n===0){var r=this.field0ID[i];var a=o.between(10,r,13)||o.between(16,r,28);if(a){var s=Array.prototype.slice.call(t[i]);while(s.length&&s[0]===this.promptChar)s.shift();s.reverse();while(s.length&&s[0]===this.promptChar)s.shift();s.reverse();return 0===parseInt(s.join(),10)}}return false};e.prototype.processPasteValue=function(e){if(!this.mask)return false;this.getSelectedText();var t=this.selStart;var i=this.selEnd;var n=this.textValue;n=this.clearMaskedContent(n,t,i);var r=[n];var o=t;for(var a=0;a<e.length;a++){if(this.mask.charCodeAt(o)<=20&&e.charAt(a)===this.promptChar){o++;continue}o=this.insertCharAt(r,e.charAt(a),o);if(o<0||o>=this.mask.length)break}this.textValue=r[0];this.select(i>0?i:t);return true};e.prototype.clearMaskedContent=function(e,t,i){if(!this.mask)return e;if(t==null||t<0)t=0;if(i==null||i>this.mask.length)i=this.mask.length;if(t>i){var n=i;i=t;t=n}if(t!==i){while(--i>=t){var r=this.promptChar;if(this.mask.charCodeAt(i)>=21)r=this.mask.charAt(i);e=e.substring(0,i)+r+e.substring(i+1)}i++}return e};e.prototype.separate=function(e){var t=function(e){return"\\/.:- ".indexOf(e)>-1};var i=function(e){var i=[];for(var n=0;n<e.length;n++){if(t(e[n]))i.push(n)}return i};var n=function(e,t,i,n){for(var r=0,o=n;r<o.length;r++){var a=o[r];var s=e.substr(t-a,i.length);if(s===i)return true}return false};var r=i(this.AM);var o=i(this.PM);var a=new Array;var s="";for(var l=0;l<e.length;l++){var u=e[l];if(t(u)&&!(n(e,l,this.AM,r)||n(e,l,this.PM,o))){a.push(s);s=""}else s+=u}if(s!=="")a.push(s);return a};e.prototype.getPartCount=function(e){return this.separate(e).length};e.prototype.getActivePartIndex=function(){var e=this.trange&&this.trange.selEnd;var t=this.textValue.substring(0,e);return this.getPartCount(t)-1};e.prototype.getPartLen=function(e){return this.separate(this.config.editMask)[e].length};e.prototype.selectActivePart=function(e){if(this.getDisabled())return;var t=function(e){return e.reduce((function(e,t){return e+t.length+1}),0)};var i=this.textValue;var n=this.getPartCount(i);if(e>=0&&e<n){var r=this.separate(i);var o=t(r.slice(0,e));var a=t(r.slice(0,e+1));if(a>0)a--;this.trange&&this.trange.select(o,a)}};e.prototype.incrementActivePart=function(e){if(this.getDisabled()||!this.trange)return;var t=this.trange.selStart;var i=this.trange.selEnd;var n=this.getActivePartIndex();if(!this.field0ID)return;var r=this.field0ID[this.getActivePartIndex()];var o=this._getTypedValue(this.textValue,true);if(!o)o=new Date;switch(r){case 1:case 2:case 3:o.setFullYear(o.getFullYear()+e);break;case 4:case 5:case 6:case 7:o.setMonth(o.getMonth()+e);break;case 8:case 9:o.setDate(o.getDate()+e);break;case 10:case 11:case 12:case 13:o.setHours(o.getHours()+e);break;case 16:case 17:o.setMinutes(o.getMinutes()+e);break;case 18:case 19:o.setSeconds(o.getSeconds()+e);break}this.textValue=this.getEditText(o);this.fireEvent("usertyping");this.trange.select(t,i)};e.prototype.locatePromptPos=function(e,t){if(t===void 0){t=false}var i=this.mask?this.mask.length:0;while(e>=0&&e<i&&this.mask&&this.mask.charCodeAt(e)>=21){if(t)e--;else e++}return e};e.prototype.insertCharAt=function(e,t,i){if(!this.mask)return-1;var n=this.mask.length;var r=i;var a=e[0];if(i<n){if(this.__checkField){var s=new m;s.txt=a;r=this.__checkField(t.charCodeAt(0),t,a,i,s);if(r>=0){a=s.txt;e[0]=a;return r}else return-1}else{if(this.mask.charCodeAt(r)>=21&&this.mask.charAt(r)===t)return++r;while(this.mask.charCodeAt(r)>=21)if(++r>=n)return-1;var l=o._filter(this.mask.charCodeAt(r),t,0,undefined,this.maskExclude,this.maskInclude);if(l===undefined){return-1}t=l;a=a.substring(0,r)+t+a.substring(r+1);e[0]=a;r++;return r}}return-1};e.prototype.__checkField=function(e,t,i,n,r){var o=i.length;var a=new g;var s=0;var l=this._curField(n,a);if(!this.mask)return-1;if(t===this.mask.charAt(n))return++n;if(n>=a.n1){n--;if(i.charAt(n)!==this.promptChar){return this.__checkField(e,t,i,n+2,r)}}if(l<0)return-1;if(l===5){if(n<a.n1){var u=this.PM;if(u.charAt(0).toUpperCase()!==t.toUpperCase())u=this.AM;if(a.n1===a.n0+1)u=u.charAt(0);else{o=u.length;if(o<this.lengthAmPm)u+=" ";else if(o>this.lengthAmPm)u=u.substring(0,this.lengthAmPm)}r.txt=i.substring(0,a.n0)+u+i.substring(a.n1)}return a.n1}if(e<48||e>57){if(e===46||e===58){n=a.n1;while(++n<o)if(this.mask.charCodeAt(n)<21)break;return n}return-1}e-=48;if(a.n0===n){var u=i.charAt(n+1)===this.promptChar?0:i.charCodeAt(n+1)-48;switch(l){case 4:e--;u-=2;case 3:case 1:if(e>1)s=1;else if(e===1&&u>2)s=2;break;case 2:if(e>3)s=1;else if(e===3&&u>1)s=2;break;case 6:case 7:if(e>5)s=1;break}}if(a.n0+1===n){var u=i.charAt(n-1)===this.promptChar?0:i.charCodeAt(n-1)-48;switch(l){case 4:u--;e-=2;case 3:case 1:if(u>1||u===1&&e>2)s=3;break;case 2:if(u>3||u===3&&e>1)s=3;break;case 6:case 7:if(u>6||u===6&&e>0)s=3;break}}if(s===1){i=i.substring(0,n)+this.promptChar+i.substring(n+1);n++}if(s===2){i=i.substring(0,n+1)+this.promptChar+i.substring(n+2)}if(s===3){while(++n<o)if(this.mask.charCodeAt(n)<21)break;if(n>=o)return-1;return this.__checkField(e+48,t,i,n,r)}r.txt=i.substring(0,n)+t+i.substring(n+1);return++n};e.prototype._curField=function(e,t){if(!this.mask)return-1;var i;var n=22;var r=t.n0=t.n1=-1;var o=0;for(;o<this.mask.length;o++){i=this.mask.charCodeAt(o);if(i>21===n>21){continue}if(i>21){if(o>=e)break}else{t.n0=o;r++}n=i}if(t.n0>=0)t.n1=o;r=this.field0ID[r];if(r==null)return-1;if(r<8)return r<4?0:1;if(r<20)return Math.floor((r-4)/2);return r>21?8:-1};e.prototype.toggleCalendar=function(e){this.dropDownOpen?this.hideDropDown():this.showDropDown();return false};e.prototype.showDropDown=function(){if(this.config.timeMode&&!this.dropDownOpen){this.createTimeItems();this.focus()}this.dropDownOpen=true};e.prototype.createTimeItems=function(){this.timeItems={allowMultiSelect:false,options:[]};var e=this.durationMode?15:30;for(var t=0;t<24;t++){for(var i=0;i<60;i+=e){var n=new Date(1900,0,1,t,i,0);var r={value:n,text:this.getDisplayText(n),selected:false};this.timeItems.options.push(r)}}};e.prototype.hideDropDown=function(){if(this.outerClickSubscription)this.outerClickSubscription.dispose();this.outerClickSubscription=undefined;if(!this.dropDownOpen)return;this.dropDownOpen=false};e.prototype.handleOuterClick=function(e){if(!e)return true;if(this.allowMouseDownFlag){this.allowMouseDownFlag=false;return true}e.stopPropagation();this.hideDropDown();return true};e.prototype.handleInnerClick=function(e){this.allowMouseDownFlag=true;return true};var o;e.defaultConfig={nullText:"",allowNull:true,allowCustomItems:false,minValue:new Date(t.MIN_YEAR,0,1),maxValue:new Date(t.MAX_YEAR,t.MONTHS_IN_YEAR-1,t.MAX_DAYS_IN_MONTH),timeMode:false,enabled:true,firstDayOfWeek:0};i.__decorate([n.computedFrom("enabled","config.readOnly","linkCommand.command"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],e.prototype,"isEditLink",null);i.__decorate([n.computedFrom("config.enabled","config.readOnly"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],e.prototype,"ROMode",null);i.__decorate([n.bindable,i.__metadata("design:type",Object)],e.prototype,"config",void 0);i.__decorate([n.bindable({defaultBindingMode:n.bindingMode.twoWay}),i.__metadata("design:type",Object)],e.prototype,"value",void 0);e=o=i.__decorate([n.autoinject,n.customElement("qp-datetime-edit"),i.__metadata("design:paramtypes",[Element,n.EventManager,n.BindingEngine,n.TaskQueue])],e);return e}();t.QpDatetimeEditCustomElement=f;var g=function(){function e(){this.n0=-1;this.n1=-1}return e}();var m=function(){function e(){}return e}();var v=function(){function e(e){this.element=e;this.selStart=0;this.selEnd=0}e.prototype.refreshSelection=function(){var e=this.element;e.selectionStart=this.selStart;e.selectionEnd=this.selEnd};e.prototype.select=function(e,t){var i=this.element;var n=i.value.length;if(e===undefined||e<0){e=0;t=n}else if(t===undefined){t=e}if(t>=n)t=n;else if(t<e)t=e;if(e>t)e=t;this.selStart=e;this.selEnd=t;if(i.selectionStart!=null){if(e===0&&t===n)i.select();else{i.selectionStart=e;i.selectionEnd=t}}else i.select()};e.prototype.getSelectedText=function(){var e="";var t=this.element;this.selStart=this.selEnd=0;if(t.selectionStart!=null&&t.selectionEnd!=null){this.selStart=t.selectionStart;this.selEnd=t.selectionEnd;if(this.selStart<this.selEnd){e=t.value.substring(this.selStart,this.selEnd)}}return e};return e}();t.TextRange=v}));define("apps/enhance/controls/qp-datetime-edit-utc",["require","exports","tslib","aurelia-framework"],(function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.QpDatetimeEditUtcCustomElement=void 0;var r=function(){function e(){this.conversionInProgress=false}e.prototype.valueChanged=function(e){if(this.conversionInProgress)return;this.conversionInProgress=true;try{this.convertedDate=new Date(e)}catch(e){this.convertedDate=new Date}this.conversionInProgress=false};e.prototype.convertedDateChanged=function(e){if(this.conversionInProgress)return;this.conversionInProgress=true;try{if(!e)this.value="";if(e instanceof Date){this.value=new Date(e.getTime()-e.getTimezoneOffset()*6e4).toISOString()}}catch(e){this.value=""}this.conversionInProgress=false};i.__decorate([n.bindable,i.__metadata("design:type",Object)],e.prototype,"config",void 0);i.__decorate([n.bindable,i.__metadata("design:type",Object)],e.prototype,"value",void 0);i.__decorate([n.observable({changeHandler:"convertedDateChanged"}),i.__metadata("design:type",Date)],e.prototype,"convertedDate",void 0);e=i.__decorate([n.customElement("qp-datetime-edit-utc")],e);return e}();t.QpDatetimeEditUtcCustomElement=r}));define("text!apps/enhance/controls/qp-datetime-edit-utc.html",[],(function(){return'<template><qp-datetime-edit config.bind="config" value.two-way="convertedDate" containerless></qp-datetime-edit></template>'}));define("text!apps/enhance/controls/qp-datetime-edit.css",[],(function(){return".qp-datetime__editor {\r\n\tbackground-color: #FFFFFF;\r\n\theight: 24px;\r\n\tposition: relative;\r\n\tcursor: default;\r\n\tborder: #D2D4D7 1px solid;\r\n\tbox-sizing: border-box;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n\tfont-size: 13px;\r\n}\r\n\r\n.qp-datetime__editor .editorCont {\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n\tmargin-right: 18px;\r\n\theight: 100%;\r\n}\r\n\r\n.qp-datetime__editor .editorWrap {\r\n\theight: 100%;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.qp-datetime__editor input {\r\n\twidth: 100%;\r\n\theight: 100% !important;\r\n\tpadding: 0px 4px 0px 6px;\r\n\tborder-width: 0px !important;\r\n\t-webkit-box-shadow: none !important;\r\n\t        box-shadow: none !important;\r\n\tbackground-color: transparent;\r\n\r\n\tborder: #D2D4D7 1px solid;\r\n\tpadding: 3px 6px;\r\n\tmargin-bottom: 0px;\r\n\tmargin-top: 0px;\r\n\tbox-sizing: border-box;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n}\r\n\r\n.qp-datetime__editor .buttonsCont {\r\n\tposition: absolute;\r\n\ttop: 0px;\r\n\tright: 1px;\r\n\theight: 100%;\r\n}\r\n\r\n.qp-datetime__editor .center:before {\r\n\tcontent: '';\r\n\tdisplay: inline-block;\r\n\theight: 100%;\r\n\tvertical-align: middle;\r\n}\r\n\r\n.qp-datetime__editor .sprite-icon {\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n\ttext-align: left;\r\n\tvertical-align: middle;\r\n\toverflow: hidden;\r\n\tdirection: ltr;\r\n}\r\n\r\n.qp-datetime__editor .control-icon {\r\n\twidth: 14px;\r\n\theight: 15px;\r\n\tmargin-top: 2px;\r\n\tfont-size: 12px;\r\n}\r\n\r\n.qp-datetime__editor .sprite-icon .control-icon-img {\r\n\tfont-family: 'FontAwesome' !important;\r\n\tspeak: none;\r\n\tfont-style: normal;\r\n\tfont-weight: normal;\r\n\tfont-variant: normal;\r\n\ttext-transform: none;\r\n\tline-height: 1;\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\t-webkit-transform: translateY(-50%);\r\n\t        transform: translateY(-50%);\r\n\topacity: 0.64;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-datetime__editor .control-icon-img:before {\r\n\tcontent: \"\\e9e0\";\r\n}\r\n"}));define("text!apps/enhance/controls/qp-datetime-edit.html",[],(function(){return'<template css="display: ${config.hidden ? \'none\': \'inline-block\'};" id="${config.id}"><require from="./qp-datetime-edit.css"></require><require from="./qp-options"></require><div class="${config.class} qp-datetime__editor dropDown ${hasFocus ? \'focus\' : \'\'} ${ROMode ? \'ReadOnly\' : \'\'}" buttons.bind="ROMode ? \'0\' : \'\' & attr" css="display: ${config.hidden ? \'none\': \'block\'}; ${config.width ? \'width: \'+config.width+\'px\' : \'\'}"><div class="editorCont"><div class="editorWrap"><input id="${config.id}_text" ref="elemText" name="${config.name}$text" type="text" tabindex="${config.tabIndex}" class="editor ${ROMode ? \'ReadOnly\' : \'\'}" keydown.capture="processKeyDown($event)" keypress.capture="processKeyPress($event)" focus.capture="processFocus($event)" blur.capture="processBlur($event)" beforepaste.delegate="processBeforePaste($event)" paste.delegate="processPaste($event)" selectstart.delegate="processSelectStart($event)" input.delegate="processInput($event)" value.to-view="textValue" focus.bind="focused"></div></div><div class="buttonsCont" mousedown.capture="toggleCalendar($event)"><span class="center"></span><div class="sprite-icon control-icon" icon="DropDownN" type="sel" css="${ROMode ? \'display: none;\' : \'\'}"><div class="control-icon-img control-DropDownN"></div></div></div></div><div if.bind="dropDownOpen" style="position:fixed;width:100vw;height:100vh;top:0;left:0;z-index:1000" mousedown.trigger="handleOuterClick($event)"><div glue-to.bind="elemText" style="background-color:#fff;z-index:1000;max-width:412px;max-height:269px" mousedown.trigger="handleInnerClick($event)"><qp-options if.bind="config.timeMode" config.bind="timeItems" value.to-view="[getValueOrToday()]" options-for.bind="element" valuechanged.delegate="acceptDateFromCalendar($event)"></qp-options><qp-calendar else config.to-view="{\'customItems\': config.customItems, \'firstDayOfWeek\': config.firstDayOfWeek}" value.to-view="getValueOrToday()" valuechanged.delegate="acceptDateFromCalendar($event)"></qp-calendar></div></div></template>'}));define("apps/enhance/controls/qp-drop-down",["require","exports","tslib","aurelia-framework","aurelia-logging","../services/control-helper","aurelia-pal"],(function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DDElement=t.QpDropDownCustomElement=void 0;var s=r.getLogger("drop-down");var l=1e3;var u=10;var c=function(){function e(e,t,i){this.element=e;this.taskQueue=t;this.bindingEngine=i;this.value=null;this.valueArray=[];this.searchString="";this.searchTimeout=undefined;this.prepareHighlightIdx=undefined;this.showOptions=false;this.hasFocus=false;this.valueText="";this.highlightedIndex=undefined;this.autoSuggest=false;this.currentImageUrl=undefined}t=e;e.prototype.detached=function(){if(this.optionsObserver)this.optionsObserver.dispose()};e.prototype.attached=function(){if(this.config&&this.config.options){this.options=undefined;this.autoSuggest=this.config.autoSuggest==null?this.config.options.length>u:this.config.autoSuggest;this.syncValueTextWithValue();this.subscribeToOptionsChange()}};Object.defineProperty(e.prototype,"ROMode",{get:function(){return this.config&&(this.config.readOnly||!this.config.enabled)},enumerable:false,configurable:true});e.prototype.configChanged=function(e,i){if(i===undefined){o.applyDefaultValues(e,t.defaultConfig);if(this.config.value)this.value=this.config.value}if(this.config){this.autoSuggest=this.config.autoSuggest==null?this.config.options.length>u:this.config.autoSuggest;this.subscribeToOptionsChange()}this.options=undefined};e.prototype.syncValueTextWithValue=function(){var e=this;if(!this.config)return;if(typeof this.value==="string"){var t=this.config.valuesSeparator;this.valueArray=this.value.split(t)}else if(this.value!=null)this.valueArray=[this.value.toString()];else this.valueArray=[];var i=this.valueText;this.valueText="";if(this.config){this.valueArray.forEach((function(t){var n=e.config.options.find((function(e,n){if(e.value===t&&e.text===i){e.selected=true;return true}return false}));if(!n){n=e.config.options.find((function(e,i){if(e.value===t){e.selected=true;return true}return false}))}if(n){if(e.valueText)e.valueText+=", ";e.valueText+=n.text}else if(e.config.allowEdit){e.valueText=e.value||""}}))}};e.prototype.valueChanged=function(e,t){var i=this;var n;this.config&&this.config.options&&this.config.options.forEach((function(e){return e.selected=false}));this.syncValueTextWithValue();this.options=undefined;this.currentImageUrl=this.config&&this.config.options&&((n=this.config.options.find((function(e){return e.value==i.value})))===null||n===void 0?void 0:n.imageUrl);if(this.config&&this.config.allowMultiSelect){this.options=this.getOptions();this.options.forEach((function(e){i.config.options.find((function(t,i){if(t.value===e.value){e.selected=t.selected;return true}return false}))}))}};e.prototype.enterHighlight=function(e){this.prepareHighlightIdx=e};e.prototype.commitHighlight=function(e){if(this.prepareHighlightIdx===e){this.highlight(e);this.prepareHighlightIdx=undefined}};e.prototype.highlight=function(e){if(this.showOptions)this.highlightedIndex=e};e.prototype.select=function(e,t){this.appendValue(e.value);if(!this.config.allowMultiSelect){this.valueText=e.text;this.hide()}t&&t.stopPropagation()};e.prototype.clearSelection=function(e){e.preventDefault();e.stopImmediatePropagation();this.value=null;return false};e.prototype.toggleSelector=function(e){if(this.ROMode)return true;e.preventDefault();e.stopImmediatePropagation();this.inputElement.focus();if(this.showOptions){this.hide()}else{this.show(true)}return false};e.prototype.show=function(e){var t=this;if(e===void 0){e=false}this.showOptions=true;if(!e&&(this.config.allowEdit||this.autoSuggest))this.filter(this.valueText);var i=this.getOptions();var n=function(e){var t=i[e];var n=r.valueArray.find((function(e){return e===t.value}));if(n){r.highlight(e);return"break"}};var r=this;for(var o=0;o<i.length;++o){var a=n(o);if(a==="break")break}this.taskQueue.queueTask((function(){t.scrollIntoView()}))};e.prototype.hide=function(){this.showOptions=false;this.highlightedIndex=undefined};e.prototype.advanceSelection=function(e){var t=this.getOptions();if(this.highlightedIndex==null){if(e>=0)this.highlightedIndex=-1;else this.highlightedIndex=t.length}this.highlightedIndex+=e;if(this.highlightedIndex<0)this.highlightedIndex=0;else if(this.highlightedIndex>=t.length)this.highlightedIndex=t.length-1;if(this.optionsPane){this.scrollIntoView()}};e.prototype.ignoreClicks=function(e){e.preventDefault();e.stopImmediatePropagation()};e.prototype.onFocus=function(){if(this.config.allowEdit||this.autoSuggest){this.inputElement.select()}return true};e.prototype.onBlur=function(){this.hide();if(this.config.allowNull&&!this.valueText){this.value=null}else if(this.config.allowEdit){var e=this.findElementByText(this.valueText);if(e)this.value=e.value;else this.value=this.valueText}else if(this.autoSuggest){var e=this.findElementByText(this.valueText);if(e)this.value=e.value;else this.syncValueTextWithValue()}return true};e.prototype.onPaste=function(e){if(this.config.allowEdit||this.autoSuggest)return true;return false};e.prototype.onInput=function(e){this.filter(this.valueText);if(!this.showOptions&&this.autoSuggest)this.show();return false};e.prototype.onKeyPress=function(e){var t=this;this.searchString=this.searchString+e.key;if(this.searchTimeout!==undefined)a.PLATFORM.global.clearTimeout(this.searchTimeout);if(this.config.allowEdit||this.autoSuggest){if(!this.showOptions)this.show();return true}this.search(this.searchString);this.searchTimeout=a.PLATFORM.global.setTimeout((function(){t.searchString="";t.searchTimeout=undefined}),l);return false};e.prototype.onKeyDown=function(e){var t=false;switch(e.key){case"Down":case"ArrowDown":if(!this.showOptions){this.show(true);if(this.highlightedIndex==null)this.advanceSelection(1)}else this.advanceSelection(1);t=true;break;case"Up":case"ArrowUp":if(!this.showOptions){this.show(true);if(this.highlightedIndex==null)this.advanceSelection(-1)}else this.advanceSelection(-1);t=true;break;case"Enter":if(this.highlightedIndex!==undefined)this.select(this.getOptions()[this.highlightedIndex]);break;case"Esc":case"Escape":this.hide();t=true;break}if(!(this.config.allowEdit||this.autoSuggest)){switch(e.key){case" ":if(this.highlightedIndex!==undefined){this.select(this.getOptions()[this.highlightedIndex]);t=true}break;case"Backspace":if(this.config.allowMultiSelect)this.value="";if(this.config.allowNull)this.value=null;t=true;break}}if(t){e.stopPropagation();if(this.searchTimeout!==undefined)clearTimeout(this.searchTimeout);return false}return true};e.prototype.scrollIntoView=function(){var e,t;if(this.highlightedIndex!=null){if("scrollBehavior"in document.documentElement.style){(e=this.optionsPane.children[this.highlightedIndex])===null||e===void 0?void 0:e.scrollIntoView({block:"nearest"})}else{(t=this.optionsPane.children[this.highlightedIndex])===null||t===void 0?void 0:t.scrollIntoView(false)}}};e.prototype.cloneOptions=function(e){this.options=e.map((function(e){var t=e.selected,i=e.value,n=e.imageUrl,r=e.text,o=e.enabled;return{selected:t,value:i,imageUrl:n,text:r,enabled:o}}))};e.prototype.getOptions=function(){if(!this.options){this.cloneOptions(this.config.options)}return this.options||[]};e.prototype.subscribeToOptionsChange=function(){var e=this;this.optionsObserver&&this.optionsObserver.dispose();this.optionsObserver=this.bindingEngine.collectionObserver(this.config.options).subscribe((function(){e.options=undefined;e.autoSuggest=e.config.autoSuggest==null?e.config.options.length>u:e.config.autoSuggest;e.syncValueTextWithValue()}))};e.prototype.filter=function(e){this.highlightedIndex=0;if(!this.autoSuggest||!e||!this.config.options||this.config.options.length===0){this.cloneOptions(this.config.options);return}var t=e.toLocaleLowerCase();var i=new Array;this.config.options.forEach((function(e){if(e.text.toLocaleLowerCase().indexOf(t)>=0){i.push(e)}}));this.cloneOptions(i)};e.prototype.search=function(e){var t=this;e=e.toLocaleLowerCase();this.getOptions().find((function(i,n){if(i.text.toLocaleLowerCase().indexOf(e)===0){t.highlight(n);t.select(i);return true}return false}))};e.prototype.findElementByText=function(e){var t=this;e=e.toLocaleLowerCase();return this.getOptions().find((function(i,n){if(e&&i.text.toLocaleLowerCase()===e||!e&&!i.text){t.highlight(n);t.select(i);return true}return false}))};e.prototype.appendValue=function(e){var t=this.valueArray.indexOf(e);if(this.config.allowMultiSelect){if(t===-1){this.valueArray.push(e)}else{this.valueArray.splice(t,1)}var i=this.config.valuesSeparator;this.value=this.valueArray.join(i)}else{this.value=o.netTypeConvert(e,this.config.valueType)}};var t;e.defaultConfig={enabled:true,required:false,valueType:o.NetType.String,autoSuggest:null,allowNull:true,valuesSeparator:",",colorMode:false};i.__decorate([n.bindable,i.__metadata("design:type",Object)],e.prototype,"config",void 0);i.__decorate([n.bindable,i.__metadata("design:type",Object)],e.prototype,"value",void 0);i.__decorate([n.computedFrom("config.enabled","config.readOnly"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],e.prototype,"ROMode",null);e=t=i.__decorate([n.customElement("qp-drop-down"),n.autoinject,i.__metadata("design:paramtypes",[Element,n.TaskQueue,n.BindingEngine])],e);return e}();t.QpDropDownCustomElement=c;var p=function(){function e(){this.selected=false;this.enabled=true}return e}();t.DDElement=p}));define("text!apps/enhance/controls/qp-drop-down.css",[],(function(){return".qp-drop-down,\r\n.qp-drop-down * {\r\n  -webkit-box-sizing: border-box;\r\n          box-sizing: border-box;\r\n}\r\n\r\nqp-drop-down {\r\n\tdisplay: block;\r\n\tborder: 0;\r\n}\r\n\r\nqp-drop-down.GridCellEditor div.drop-down__editor {\r\n\theight: 100%;\r\n\t-webkit-box-sizing: content-box;\r\n\t        box-sizing: content-box;\r\n\twidth: 100%;\r\n}\r\n\r\n\r\n.drop-down__editor {\r\n\tbackground-color: #FFFFFF;\r\n\theight: 24px;\r\n\tposition: relative;\r\n\tcursor: default;\r\n\tborder: #D2D4D7 1px solid;\r\n\tbox-sizing: border-box;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n\tfont-size: 13px;\r\n}\r\n\r\n.drop-down__editor.focus {\r\n\tborder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\t-webkit-box-shadow: 0px 0px 2px 0px #007ACC;\r\n\t        box-shadow: 0px 0px 2px 0px #007ACC;\r\n\t-webkit-box-shadow: 0px 0px 2px 0px var(--primary-color, #007ACC);\r\n\t        box-shadow: 0px 0px 2px 0px var(--primary-color, #007ACC);\r\n}\r\n\r\n.drop-down__editor .drop-down__display-text.drop-down__invisible + span + span.drop-down__text {\r\n\tdisplay: inline;\r\n\tline-height: 22px;\r\n}\r\n\r\n.drop-down__editor .drop-down__text {\r\n\tvertical-align: middle;\r\n\tpadding: 0px 6px 0px 6px;\r\n\tdisplay: none;\r\n}\r\n\r\n.drop-down__editor .editorCont {\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n\tmargin-right: 18px;\r\n\theight: 100%;\r\n}\r\n\r\n.drop-down__editor .editorWrap {\r\n\theight: 100%;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.drop-down__editor .buttonsCont {\r\n\tposition: absolute;\r\n\ttop: 0px;\r\n\tright: 1px;\r\n\theight: 100%;\r\n}\r\n\r\n.drop-down__editor .center:before {\r\n\tcontent: '';\r\n\tdisplay: inline-block;\r\n\theight: 100%;\r\n\tvertical-align: middle;\r\n}\r\n\r\n.drop-down__editor .sprite-icon {\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n\ttext-align: left;\r\n\tvertical-align: middle;\r\n\toverflow: hidden;\r\n\tdirection: ltr;\r\n}\r\n\r\n.drop-down__editor .control-icon {\r\n\twidth: 14px;\r\n\theight: 15px;\r\n\tmargin-top: 2px;\r\n\tfont-size: 12px;\r\n}\r\n\r\n.drop-down__editor .sprite-icon .control-icon-img {\r\n\tfont-family: 'FontAwesome' !important;\r\n\tspeak: none;\r\n\tfont-style: normal;\r\n\tfont-weight: normal;\r\n\tfont-variant: normal;\r\n\ttext-transform: none;\r\n\tline-height: 1;\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\t-webkit-transform: translateY(-50%);\r\n\t        transform: translateY(-50%);\r\n\topacity: 0.64;\r\n\tcursor: pointer;\r\n}\r\n\r\n.drop-down__editor .control-icon-img.control-DropDownN:before {\r\n\tcontent: \"\\e9e0\";\r\n}\r\n\r\n.drop-down__display-text {\r\n  pointer-events: none;\r\n\r\n  margin: 0;\r\n  border: 0;\r\n  padding: 0 4px 0 6px;\r\n  line-height: 24px;\r\n\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\t\r\n\twidth: 100%;\r\n\theight: 100% !important;\r\n\tpadding: 0px 4px 0px 6px;\r\n\tborder-width: 0px !important;\r\n\t-webkit-box-shadow: none !important;\r\n\t        box-shadow: none !important;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.drop-down__display-text.drop-down__invisible {\r\n\tposition: absolute;\r\n\ttop: -40px;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.drop-down__current-color {\r\n\theight: 14px;\r\n\twidth: 14px;\r\n\tdisplay: inline-block;\r\n\tvertical-align: middle;\r\n\tborder-radius: 4px;\r\n\tmargin: 0 5px 0 0;\r\n}\r\n\r\n.drop-down__current-image {\r\n\tmargin-right: 5px;\r\n\tfloat: none;\r\n\tvertical-align: middle;\r\n\tdisplay: inline-block;\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tfont-size: 15px;\r\n}\r\n\r\n.drop-down__image {\r\n\tfloat: none;\r\n\tvertical-align: middle;\r\n}\r\n\r\n.drop_down__color {\r\n\theight: 14px;\r\n\twidth: 14px;\r\n\tdisplay: inline-block;\r\n\tvertical-align: middle;\r\n\tborder-radius: 4px;\r\n\tmargin: 2px;\r\n}\r\n\r\n.drop-down__options-pane {\r\n  max-height: 210px;\r\n  overflow-y: auto;\r\n  position: absolute;\r\n  z-index: 10000;\r\n  height: initial;\r\n\tdisplay: block;\r\n\tfont-size: 13px;\r\n\r\n  border: #D2D4D7 1px Solid;\r\n  background-color: White;\r\n  box-shadow: 3px 3px 4px rgba(0, 0, 0, 0.64);\r\n  -webkit-box-shadow: 4px 4px 6px rgba(0, 0, 0, 0.64);\r\n\t-moz-box-shadow: 4px 4px 6px rgba(0, 0, 0, 0.64);\r\n\tbox-sizing: border-box;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n}\r\n\r\n.drop-down__option {\r\n\tmin-height: 1em;\r\n\tpadding: 2px 4px;\r\n\tvertical-align: middle;\r\n\ttext-align: left;\r\n\twhite-space: nowrap;\r\n\tcursor: default;\r\n}\r\n\r\nqp-options .ddItemDisabled {\r\n\tcursor: default;\r\n\tbackground-color: white;\r\n\tcolor: rgba(0, 0, 0, 0.87);\r\n\topacity: 0.26 !important;\r\n}\r\n"}));define("text!apps/enhance/controls/qp-drop-down.html",[],(function(){return'<template id="${config.id}" enabled.bind="!!config.enabled & attr" class="${ROMode ? \'ReadOnly\' : \'\'}"><require from="./qp-drop-down.css"></require><div tabindex="-1" class="drop-down__editor ${config.class} ${hasFocus ? \'focus\':\'\'} ${ROMode ? \'ReadOnly\' : \'\'} size-${config.size}" ref="editorWrap" css="display: ${config.hidden ? \'none\': \'block\'};" mousedown.trigger="toggleSelector($event)" buttons.bind="ROMode ? \'0\' : \'\' & attr"><div class="editorCont"><div class="editorWrap" title=""><input name="${config.name}$text" type="text" id="${config.id}_text" ref="inputElement" value.bind="valueText" tabindex="${config.tabIndex}" keydown.capture="onKeyDown($event)" keypress.delegate="onKeyPress($event)" input.delegate="onInput($event)" focus.bind="hasFocus" focus.capture="onFocus()" blur.capture="onBlur()" paste.delegate="onPaste($event)" class="drop-down__display-text ${ROMode ? \'ReadOnly\' : \'\'} ${config.allowEdit || (autoSuggest && hasFocus) ? \'\' : \'drop-down__invisible\'}" readonly.bind="ROMode ? \'readonly\' : null & attr"><span class="center"></span><span class="drop-down__text"><div if.bind="config.colorMode" class="drop-down__current-color" css="${\'background: \'+value}"></div><qp-icon if.bind="currentImageUrl" imagesrc.bind="currentImageUrl" height="100%" width="100%" class="drop-down__current-image"></qp-icon>${valueText}</span></div></div><div class="buttonsCont"><span class="center"></span><div if.bind="config.clearButton && !ROMode" class="sprite-icon control-icon" icon="ClearN" type="clear" mousedown.trigger="clearSelection($event)"><div class="control-icon-img control-ClearN"></div></div><div class="sprite-icon control-icon" icon="DropDownN" type="sel" css="${ROMode ? \'display: none;\' : \'\'}"><div class="control-icon-img control-DropDownN"></div></div></div></div><div if.bind="showOptions" class="drop-down__options-pane ${config.class}" ref="optionsPane" glue-to.bind="editorWrap" css="width: auto; min-width: ${editorWrap.clientWidth}px; max-width: 50vw;" mousedown.capture="ignoreClicks($event)"><div repeat.for="op of options" click.capture="select(op,$event)" class="drop-down__option ddItem ${highlightedIndex === $index ? \'ddSelection\':\'\'}" mouseenter.capture="enterHighlight($index)" mousemove.capture="commitHighlight($index) & throttle:100"><div if.bind="config.allowMultiSelect" class="sprite-icon control-icon" icon.bind="op.selected ? \'GridCheck\' : \'GridUncheck\' & attr" data-type="check" style="margin-left:2px;margin-right:5px"><div class="control-icon-img control-${op.selected ? \'GridCheck\' : \'GridUncheck\'}"></div></div><qp-icon if.bind="op.imageUrl" imagesrc.bind="op.imageUrl" class="drop-down__image"></qp-icon><div if.bind="config.colorMode" class="drop_down__color" css="${\'background: \'+op.value}"></div> ${op.text || \'&nbsp;\'} </div></div></template>'}));define("apps/enhance/controls/qp-gauge",["require","exports","tslib","aurelia-framework","../services/control-helper"],(function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.QpGaugeCustomElement=void 0;var o=function(){function e(e){var t=this;this.element=e;this.everytingReady=new Promise((function(e,i){t.getReady=e}))}t=e;e.prototype.attached=function(){if(this.getReady)this.getReady()};e.prototype.configChanged=function(e,i){var n=this;if(i===undefined){r.applyDefaultValues(e,t.defaultConfig)}this.everytingReady.then((function(){return n.createGauge()}))};e.prototype.valueChanged=function(e,t){var i;if(((i=this.chart)===null||i===void 0?void 0:i.arrows[0].setValue)&&this.config.value!=null){this.chart.arrows[0].setValue(this.config.value);this.chart.axes[0].setBottomText(this.formatDecimal(this.config.value))}};e.prototype.formatDecimal=function(e){var t;return(t=this.config.formattedValues[e])!==null&&t!==void 0?t:e.toString()};e.prototype.formatInverval=function(e,t){return this.formatDecimal(e)+"  "+this.formatDecimal(t)};e.prototype.createGauge=function(){var e=Math.max(this.config.end,this.config.value);var t=Math.min(this.config.begin,this.config.value);var i=this;var n=Math.min(t,this.config.normalEdge);var r=Math.max(t,this.config.normalEdge);var o=Math.min(e,this.config.errorEdge);var a=Math.max(e,this.config.errorEdge);var s=Math.min(r,o);var l=Math.max(r,o);var u=.02;var c=65;var p=10;var d=10;var h=-3;var f=a-n;var g=(r-n)/f>u;var m=(l-s)/f>u&&(a-o)/f>u;var v=-120+240/f*(r-n);var b=-120+240/f*(o-n);var y=d,x=d;if(g&&m&&v>=-c&&b<=c&&b-v<p){var w=d/2*((c-Math.abs(v))/c);if(v>h)w=-w;y-=w;x+=w}var _=function(e){return i.formatDecimal(e)};var k={type:"gauge",theme:"light",addClassNames:true,gradientRatio:[0,0,0,0,0,0,0,0,0,0,1,0,0],axes:[{axisThickness:1,axisAlpha:.2,tickAlpha:.2,labelsEnabled:true,labelFunction:_,valueInterval:f,minorTickInterval:f/25,inside:false,bands:[{color:this.config.normalColor,endValue:r,innerRadius:"70%",startValue:n,balloonText:this.formatInverval(n,r)},{color:this.config.warningColor,endValue:l,innerRadius:"70%",startValue:s,balloonText:this.formatInverval(s,l)},{color:this.config.errorColor,endValue:a,innerRadius:"70%",startValue:o,balloonText:this.formatInverval(o,a)}],bottomText:"",bottomTextFontSize:14,bottomTextYOffset:-20,startValue:n,endValue:a}],arrows:[{nailAlpha:0,nailBorderThickness:.5,innerRadius:8,nailRadius:2}],export:{enabled:true}};if(g){k.axes.push({axisThickness:0,tickThickness:0,labelsEnabled:true,valueInterval:r-n,labelFunction:_,inside:false,startAngle:-120,endAngle:v,startValue:n,endValue:r,showFirstLabel:false,showLastLabel:true,labelOffset:y})}if(m){k.axes.push({axisThickness:0,tickThickness:0,labelsEnabled:true,valueInterval:a-o,labelFunction:_,inside:false,startAngle:b,endAngle:120,startValue:o,endValue:a,showFirstLabel:true,showLastLabel:false,labelOffset:x})}this.chart=AmCharts.makeChart(this.gaugeElement,k);this.valueChanged(this.config.value,this.config.value)};var t;e.defaultConfig={begin:0,end:100,value:0,normalEdge:70,errorEdge:90,normalColor:"#007C09",warningColor:"#FFC109",errorColor:"#DC3545",formattedValues:{}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],e.prototype,"config",void 0);e=t=i.__decorate([n.autoinject,n.customElement("qp-gauge"),i.__metadata("design:paramtypes",[Element])],e);return e}();t.QpGaugeCustomElement=o}));define("text!apps/enhance/controls/qp-gauge.css",[],(function(){return".qp-gauge {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}"}));define("text!apps/enhance/controls/qp-gauge.html",[],(function(){return'<template><require from="./qp-gauge.css"></require><div class="qp-gauge" ref="gaugeElement" id="${config.id}"></div></template>'}));define("apps/enhance/controls/qp-hyper-icon",["require","exports","tslib","aurelia-framework","aurelia-logging"],(function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.QpHyperIconCustomElement=void 0;var o=r.getLogger("qp-hyper-icon");var a=function(){function e(){this.disabled=false;this.currentMode="normal";this.pushed=false}t=e;e.prototype.attached=function(){o.info("attached() of ",this.images)};e.prototype.disabledChanged=function(){if(this.disabled)this.currentMode="disabled";else this.currentMode="normal"};e.prototype.imagesChanged=function(e,t){o.info("configChanged() of ",e,t);if(!this.images.hover)this.images.hover=this.images.normal;if(!this.images.pushed)this.images.pushed=this.images.hover;if(!this.images.disabled)this.images.disabled=this.images.normal};e.prototype.OnMouseOver=function(){if(this.disabled)return;if(this.pushed)this.currentMode="pushed";else this.currentMode="hover"};e.prototype.OnMouseOut=function(){if(this.disabled)return;this.currentMode="normal";this.pushed=false};e.prototype.OnMouseDown=function(){if(this.disabled)return;this.currentMode="pushed";this.pushed=true};e.prototype.OnClick=function(){if(this.disabled)return;this.currentMode="normal";this.pushed=false};Object.defineProperty(e.prototype,"SpriteName",{get:function(){return this.images&&t.parseSpriteName(this.images[this.currentMode])},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"ImageName",{get:function(){return this.images&&t.parseImageName(this.images[this.currentMode])},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"ImageType",{get:function(){return this.images&&t.parseImageType(this.images[this.currentMode])},enumerable:false,configurable:true});e.parseSpriteName=function(e){var t=e.indexOf("@");if(t<0)return null;var i=e.indexOf("svg:");if(i>=0)return e.substring(i+"svg:".length,t);return e.substring(0,t)};e.parseImageName=function(e){var t=e.indexOf("@");if(t<0)return e;return e.substr(t+1)};e.parseImageType=function(e){var t=e.indexOf("svg:");if(t===0)return"svg";t=e.indexOf("@");if(t>=0)return"sprite";return"img"};var t;i.__decorate([n.bindable,i.__metadata("design:type",Object)],e.prototype,"images",void 0);i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],e.prototype,"disabled",void 0);i.__decorate([n.computedFrom("images","currentMode"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],e.prototype,"SpriteName",null);i.__decorate([n.computedFrom("images","currentMode"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],e.prototype,"ImageName",null);i.__decorate([n.computedFrom("images","currentMode"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],e.prototype,"ImageType",null);e=t=i.__decorate([n.autoinject,n.customElement("qp-hyper-icon")],e);return e}();t.QpHyperIconCustomElement=a}));define("text!apps/enhance/controls/qp-hyper-icon.html",[],(function(){return'<template><div class="checkBox" mouseover.delegate="OnMouseOver()" mouseout.delegate="OnMouseOut()" mousedown.delegate="OnMouseDown()" click.delegate="OnClick()"><img if.bind="ImageType===\'img\'" src.bind="ImageName & attr" align="absmiddle"><div if.bind="ImageType!==\'img\'" class="sprite-icon ${SpriteName}-icon" icon.bind="ImageName & attr"><div if.bind="ImageType===\'sprite\'" class="${SpriteName}-icon-img ${SpriteName}-${ImageName}"></div><svg if.bind="ImageType===\'svg\'"><use href.bind="ImageName & attr"></use></svg></div></div></template>'}));define("apps/enhance/controls/qp-icon",["require","exports","tslib","./../services/control-helper","aurelia-framework","aurelia-logging"],(function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.QpIconCustomElement=void 0;var a=o.getLogger("qp-icon");var s=function(){function e(){this.imagesrc=null;this.spriteName=null;this.imageName=null;this.imageType=null;this.imageReady=false}e.prototype.attached=function(){a.info("attached() of ",this.imagesrc)};e.prototype.imgLoaded=function(){this.imageReady=true};e.prototype.imagesrcChanged=function(e,t){var i=e||"";var r=!i;if(r){this.spriteName=null;this.imageName=null;this.imageType=null;return}var o="@";var a="svg:";var s=i.indexOf(o);if(s<0){r=true}if(r){this.spriteName=null;this.imageName=i;this.imageType="img";return}var l=i.indexOf(a);if(l>=0)this.spriteName=i.substring(l+a.length,s);else this.spriteName=i.substring(0,s);this.imageName=i.substr(s+1);if(l===0){this.imageType="svg";this.imageName=""+n.topWindow.__svg_icons_path+this.spriteName+".svg#"+this.imageName}else{var u=i.split(o);if(u.length===2){if(u[0]==="fa")this.imageType="fa";else this.imageType="sprite"}else{this.imageType="img"}}};i.__decorate([r.bindable,r.observable({changeHandler:"imagesrcChanged"}),i.__metadata("design:type",Object)],e.prototype,"imagesrc",void 0);i.__decorate([r.bindable,i.__metadata("design:type",String)],e.prototype,"width",void 0);i.__decorate([r.bindable,i.__metadata("design:type",String)],e.prototype,"height",void 0);e=i.__decorate([r.autoinject,r.customElement("qp-icon")],e);return e}();t.QpIconCustomElement=s}));define("text!apps/enhance/controls/qp-icon.html",[],(function(){return'<template><img if.bind="imageType===\'img\'" class="${!imageReady ? \'qp-loader-indicator loading\' : \'\'}" src.bind="imageName & attr" align="absmiddle" load.bind="imgLoaded()" css="${width ? \'width: \'+width+\'; \' : \'\'} ${height ? \'height: \'+height+\'; \' : \'\'} "><div if.bind="imageType===\'sprite\'" class="sprite-icon ${spriteName}-icon" icon.bind="imageName & attr"><div if.bind="imageType===\'sprite\'" class="${spriteName}-icon-img ${spriteName}-${imageName}"></div></div><svg if.bind="imageType===\'svg\'"><use href.bind="imageName & attr"></use></svg> <i if.bind="imageType===\'fa\'" class="ac ac-${imageName}" icon.bind="imageName & attr" style="padding-right:5px"></template>'}));define("apps/enhance/controls/qp-long-run",["require","exports","tslib","aurelia-framework","../services/control-helper","aurelia-logging"],(function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.QpLongRunCustomElement=void 0;var a=o.getLogger("qp-long-run");var s=function(){function e(e,t){this.element=e;this.bindingEngine=t;this.hidden=false}t=e;e.prototype.configChanged=function(e,i){var n=this;if(i===undefined){r.applyDefaultValues(e,t.defaultConfig);if(!this.statusObserver){this.statusObserver=this.bindingEngine.propertyObserver(this.config,"status").subscribe((function(e,t){n.hidden=false}))}}};e.prototype.detached=function(){if(this.statusObserver)this.statusObserver.dispose()};e.prototype.closeNotification=function(e){var t=this;this.closing="qp-closing";setTimeout((function(){t.hidden=true;t.closing=undefined}),300);return false};e.prototype.stopProcessing=function(e){if(this.config.status!=="inprocess")return true;var t={event:e};var i=new CustomEvent("cancel-long-run",{bubbles:true,detail:t});this.element.dispatchEvent(i);return false};var t;e.defaultConfig={hidden:true};i.__decorate([n.bindable,i.__metadata("design:type",Object)],e.prototype,"config",void 0);e=t=i.__decorate([n.autoinject,n.customElement("qp-long-run"),i.__metadata("design:paramtypes",[Element,n.BindingEngine])],e);return e}();t.QpLongRunCustomElement=s}));define("text!apps/enhance/controls/qp-long-run.css",[],(function(){return'.qp-lr {\r\n\tposition: absolute;\r\n\tz-index: 6000;\r\n\twidth: 200px;\r\n\tpadding: 15px 40px 17px 42px;\r\n\tfont-size: 16px;\r\n\tfont-weight: normal;\r\n\ttop: 10px;\r\n\tright: 10px;\r\n\tbackground: white;\r\n\t-webkit-box-shadow: 0px 0px 30px rgba(0, 0, 0, 0.35);\r\n\t        box-shadow: 0px 0px 30px rgba(0, 0, 0, 0.35);\r\n\toverflow-wrap: break-word;\r\n}\r\n\r\n.qp-lr {\r\n\t-webkit-animation-name: scale;\r\n\t        animation-name: scale;\r\n\t-webkit-animation-iteration-count: 1;\r\n\t        animation-iteration-count: 1;\r\n\t-webkit-animation-duration: .2s;\r\n\t        animation-duration: .2s;\r\n\t-webkit-animation-timing-function: cubic-bezier(.23,.86,.31,1.22);\r\n\t        animation-timing-function: cubic-bezier(.23,.86,.31,1.22);\r\n}\r\n\r\n.qp-lr.qp-closing {\r\n\t-webkit-transform: scale(0);\r\n\t        transform: scale(0);\r\n\t-webkit-transition: -webkit-transform .2s cubic-bezier(.53,-0.29,.37,.52);\r\n\ttransition: -webkit-transform .2s cubic-bezier(.53,-0.29,.37,.52);\r\n\ttransition: transform .2s cubic-bezier(.53,-0.29,.37,.52);\r\n\ttransition: transform .2s cubic-bezier(.53,-0.29,.37,.52), -webkit-transform .2s cubic-bezier(.53,-0.29,.37,.52);\r\n}\r\n\r\n\r\n.qp-lr.qp-status-aborted {\r\n\tborder-left: 7px solid #f00;\r\n}\r\n.qp-lr.qp-status-completed {\r\n\tborder-left: 7px solid #47A824;\r\n}\r\n.qp-lr.qp-status-inprocess {\r\n\tborder-left: 7px solid #F6C244;\r\n\tpadding-bottom: 65px;\r\n}\r\n\r\n.qp-lr .qp-lr-timer {\r\n\tposition: absolute;\r\n\tbottom: 45px;\r\n\tleft: 42px;\r\n\tcolor: rgba(0, 0, 0, .5);\r\n}\r\n\r\n.qp-lr .qp-lr-cancel {\r\n\tposition: absolute;\r\n\tbottom: 15px;\r\n\tright: 15px;\r\n\tpadding: 5px 13px;\r\n\tbackground: #ECEDF0;\r\n\ttext-transform: uppercase;\r\n\tfont-weight: 500;\r\n\tfont-size: 13px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-lr .qp-lr-cancel:hover:after {\r\n\tbackground-color: rgba(0, 0, 0, 0.1);\r\n\tcontent: "";\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n}\r\n\r\n.qp-lr .qp-close-icon {\r\n\tposition: absolute;\r\n\tright: 12px;\r\n\ttop: 12px;\r\n\tcolor: rgba(0, 0, 0, 0.4);\r\n\tcursor: pointer;\r\n}\r\n\r\n@-webkit-keyframes rotate {\r\n  25%   {-webkit-transform: rotate(90deg);transform: rotate(90deg);}\r\n  50%  {-webkit-transform: rotate(180deg);transform: rotate(180deg);}\r\n  75%  {-webkit-transform: rotate(270deg);transform: rotate(270deg);}\r\n  100% {-webkit-transform: rotate(360deg);transform: rotate(360deg);}\r\n}\r\n\r\n@keyframes rotate {\r\n  25%   {-webkit-transform: rotate(90deg);transform: rotate(90deg);}\r\n  50%  {-webkit-transform: rotate(180deg);transform: rotate(180deg);}\r\n  75%  {-webkit-transform: rotate(270deg);transform: rotate(270deg);}\r\n  100% {-webkit-transform: rotate(360deg);transform: rotate(360deg);}\r\n}\r\n\r\n@-webkit-keyframes scale {\r\n\t0% {-webkit-transform: scale(0);transform: scale(0)}\r\n\t100% {-webkit-transform: scale(1);transform: scale(1)}\r\n}\r\n\r\n@keyframes scale {\r\n\t0% {-webkit-transform: scale(0);transform: scale(0)}\r\n\t100% {-webkit-transform: scale(1);transform: scale(1)}\r\n}\r\n\r\n.qp-lr.qp-status-inprocess .qp-status-icon {\r\n\t-webkit-animation-name: rotate;\r\n\t        animation-name: rotate;\r\n\t-webkit-animation-iteration-count: infinite;\r\n\t        animation-iteration-count: infinite;\r\n\t-webkit-animation-duration: 1s;\r\n\t        animation-duration: 1s;\r\n\t-webkit-animation-timing-function: linear;\r\n\t        animation-timing-function: linear;\r\n}\r\n\r\n.qp-lr .qp-status-icon {\r\n\tposition: absolute;\r\n\tleft: 15px;\r\n\ttop: 14px;\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\n\r\n.qp-lr .qp-status-icon svg {\r\n\theight: 16px;\r\n\twidth: 16px;\r\n}\r\n\r\n.qp-lr.qp-status-completed .qp-status-icon svg {\r\n\tfill: #47A824;\r\n\theight: 20px;\r\n\twidth: 20px;\r\n}\r\n\r\n.qp-lr.qp-status-aborted .qp-status-icon svg {\r\n\tfill: #f00;\r\n\theight: 19px;\r\n\twidth: 22px;\r\n}\r\n\r\n\r\n'}));define("text!apps/enhance/controls/qp-long-run.html",[],(function(){return'<template><require from="./qp-long-run.css"></require><div show.bind="config.status===\'inprocess\'" class="qp-lr qp-status-${config.status}" id="${config.id}" css="${config.hidden ? \'display: none;\' : \'\'}" ref="inprocElement"><qp-icon class="qp-status-icon" imagesrc="svg:main@spinner"></qp-icon><span>${config.longRunMessage}</span><div class="qp-lr-timer" ref="timeElement">${config.longRunCompleted}</div><div class="qp-lr-cancel" click.delegate="stopProcessing($event)">Cancel</div></div><div if.bind="config.status===\'aborted\' || config.status===\'completed\'" class="qp-lr qp-status-${config.status} ${closing}" css="${config.hidden || hidden ? \'display: none;\' : \'\'}"><qp-icon class="qp-status-icon" imagesrc="svg:main@${config.status===\'completed\' ? \'checkmark\' : \'warnsign\'}"></qp-icon><span>${config.longRunMessage}</span><qp-icon click.delegate="closeNotification($event)" class="qp-close-icon" imagesrc="main@RecordDel"></qp-icon></div></template>'}));define("apps/enhance/controls/qp-menu",["require","exports","tslib","aurelia-framework","aurelia-event-aggregator","plugins/happeded-on-body","aurelia-logging"],(function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.QpMenuCustomElement=void 0;var s=a.getLogger("qp-menu");var l=function(){function e(e){this.eventAggregator=e;this.menuOpened=false}e.prototype.stopPropagation=function(e){e.stopPropagation();return false};e.prototype.attached=function(){n.PLATFORM.global.px.setTitle(this.menuElement,this.config.toolTip)};e.prototype.processMenuClick=function(e,t,i){var n=this.config.options.find((function(i){return e&&i.id===e||t&&i.commandName===t}));if(!n||n.disabled)return false;this.hideMenu();var r={event:i,id:e,commandName:t};var o=new CustomEvent("menuselected",{bubbles:true,detail:r});this.menuElement.dispatchEvent(o);return false};e.prototype.processButtonMousedown=function(e){if(this.config.commandName&&!this.config.disabled)return true;return this.toggleMenu(e)};e.prototype.processButtonClick=function(e){if(this.config.commandName&&!this.config.disabled){this.hideMenu();var t={event:e,id:this.config.id,commandName:this.config.commandName};var i=new CustomEvent("menuselected",{bubbles:true,detail:t});this.menuElement.dispatchEvent(i);return false}return this.stopPropagation(e)};e.prototype.toggleMenu=function(e){var t;if(!((t=this.config.options)===null||t===void 0?void 0:t.length)){return true}if(this.menuOpened)this.hideMenu();else this.showMenu();e.preventDefault();e.stopImmediatePropagation();e.stopPropagation();return false};e.prototype.showMenu=function(){var e=this;this.menuElement.focus();this.documentMouseDownSubscription=this.eventAggregator.subscribe(o.MOUSE_DOWN_REACHED_BODY,(function(){return e.hideMenu()}));this.menuOpened=true};e.prototype.hideMenu=function(){this.unsubscribeFromMouseDownOnDocument();this.menuOpened=false};e.prototype.unsubscribeFromMouseDownOnDocument=function(){var e;(e=this.documentMouseDownSubscription)===null||e===void 0?void 0:e.dispose();this.documentMouseDownSubscription=undefined};i.__decorate([n.bindable,i.__metadata("design:type",Object)],e.prototype,"config",void 0);e=i.__decorate([n.autoinject,n.customElement("qp-menu"),i.__metadata("design:paramtypes",[r.EventAggregator])],e);return e}();t.QpMenuCustomElement=l}));define("text!apps/enhance/controls/qp-menu.css",[],(function(){return".qp-menu {\r\n\tmargin: 0;\r\n\tline-height: 20px;\r\n\tvertical-align: bottom;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-menu.qp-selected,\r\n.qp-menu.qp-selected .qp-menu-button,\r\n.qp-menu.qp-selected .qp-menu-opener,\r\n.qp-menu:not(.qp-menu-no-options):hover,\r\n.qp-menu:hover .qp-menu-button:not(.disabled),\r\n.qp-menu:hover .qp-menu-opener {\r\n\tcolor: #FFFFFF;\r\n\tfill: #fff;\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n}\r\n\r\n.qp-menu .qp-menu-button {\r\n\tbackground: transparent;\r\n\tborder-width: 0 1px 0 0;\r\n\tborder-style: solid;\r\n\tborder-right-color: transparent;\r\n\tpadding: 5px 2px 5px 10px;\r\n\theight: 20px;\r\n\tline-height: 20px;\r\n\tcursor: pointer;\r\n\t-webkit-box-sizing: content-box;\r\n\t        box-sizing: content-box;\r\n}\r\n\r\n.qp-menu.qp-selected:not(.qp-menu-no-options) .qp-menu-button.qp-menu-action-button,\r\n.qp-menu:not(.qp-menu-no-options):hover .qp-menu-button.qp-menu-action-button {\r\n\t\tborder-right-color: #fff;\r\n}\r\n\r\n/* .qp-menu .qp-menu-button, */\r\n.qp-menu.qp-menu-no-options .qp-menu-button {\r\n\tpadding: 5px 10px;\r\n}\r\n\r\n.qp-menu .qp-menu-button.disabled {\r\n\topacity: 0.26;\r\n\tcursor: default;\r\n}\r\n\r\n.qp-menu .qp-menu-opener {\r\n\tbackground: transparent;\r\n\tborder: none;\r\n\tpadding: 5px 4px 5px 1px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-menu-options {\r\n\tcolor: #000;\r\n\tfill: #000;\r\n\tcursor: pointer;\r\n\r\n\tz-index: 1000;\r\n\tbackground-color: white;\r\n\tmax-height: 80vh;\r\n\toverflow-y: auto; /* for FF */\r\n\toverflow-y: overlay;\r\n\tmin-width: 50px !important;\r\n\t-webkit-box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.7);\r\n\t        box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.7);\r\n\t-webkit-box-sizing: border-box;\r\n\t        box-sizing: border-box;\r\n\tborder-radius: 0px;\r\n\tpadding: 1px 2px;\r\n\ttext-transform: none;\r\n\r\n\tscrollbar-width: thin;\r\n  scrollbar-color: rgba(0, 0, 0, 0.15) transparent;\r\n}\r\n\r\n.qp-menu .qp-menu-container {\r\n\tpadding: 10px 0;\r\n\tmargin: 0;\r\n\tlist-style: none outside none;\r\n\toverflow: hidden;\r\n\tdisplay: -webkit-inline-box;\r\n\tdisplay: -ms-inline-flexbox;\r\n\tdisplay: inline-flex;\r\n\t-webkit-box-orient: horizontal;\r\n\t-webkit-box-direction: normal;\r\n\t    -ms-flex-flow: row nowrap;\r\n\t        flex-flow: row nowrap;\r\n}\r\n\r\n.qp-menu-options .qp-menu-item {\r\n\tmin-height: 16px;\r\n\tline-height: 16px;\r\n\topacity: 0.87;\r\n\tpadding: 5px 1px 5px 5px;\r\n\tfont-size: 13px;\r\n\tdisplay: block;\r\n\twhite-space: nowrap;\r\n\tmargin: 1px 0;\r\n\ttext-align: left;\r\n\tmax-width: 300px;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.qp-menu-options .qp-menu-item:hover {\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tcolor: #fff;\r\n}\r\n\r\n.qp-menu-options .qp-menu-item.disabled {\r\n\topacity: .3;\r\n\tcursor: auto;\r\n}\r\n\r\n.qp-menu-options .qp-menu-item.disabled:hover {\r\n\tcolor: #000;\r\n\tbackground-color: inherit;\r\n}\r\n\r\n.qp-menu-options .qp-menu-item .qp-menu-spacer{\r\n\tmargin: 0px 5px 1px 5px;\r\n}\r\n\r\n.qp-menu-options .qp-menu-item .qp-menu-icon {\r\n\tfloat: left;\r\n}\r\n"}));define("text!apps/enhance/controls/qp-menu.html",[],(function(){return'<template><require from="./qp-menu.css"></require><div ref="menuElement" class="qp-menu ${menuOpened ? \'qp-selected\': \'\'} ${!(config.options && config.options.length) ? \'qp-menu-no-options\' : \'\'}"><button class="qp-menu-button ${config.commandName ? \'qp-menu-action-button\' : \'\'} ${(config.enabled == false || config.disabled) && config.commandName ? \'disabled\' : \'\'}" mousedown.capture="processButtonMousedown($event)" click.capture="processButtonClick($event)"><qp-hyper-icon images.bind="config.images"></qp-hyper-icon></button> <button if.bind="config.options && config.options.length" class="qp-menu-opener" mousedown.capture="toggleMenu($event)" click.capture="stopPropagation($event)"><qp-icon imagesrc="control@ArrowDown" data-type="drop"></qp-icon></button></div><div glue-to.bind="menuElement" if.bind="menuOpened" class="qp-menu-options" mousedown.capture="stopPropagation($event)"><div ref="optionsPane" class="qp-menu-container"><div repeat.for="op of config.options" id="${op.id}" class="qp-menu-item ${op.disabled ? \'disabled\' : \'\'}" click.capture="processMenuClick(op.id, op.commandName, $event)"><qp-hyper-icon if.bind="op.images && op.images.normal" images.bind="op.images" class="qp-menu-icon"></qp-hyper-icon><span class="qp-menu-spacer">${op.text}</span></div></div></div></template>'}));define("apps/enhance/controls/qp-options",["require","exports","tslib","aurelia-framework","aurelia-logging"],(function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.QpOptionsCustomElement=void 0;var o=r.getLogger("qp-options");var a=function(){function e(e){this.element=e;this.value=[];this.prepareHighlightIdx=undefined;this.highlightedIndex=undefined}e.prototype.attached=function(){var e=this;if(this.optionsFor!=null){this.optionsPane.style.minWidth=this.optionsFor.clientWidth+"px"}if(!this.config.allowMultiSelect&&this.value.length>0){var t=this.config.options.findIndex((function(t){return e.value[0]<=t.value}));if(t>=0)this.highlightedIndex=t;if(this.highlightedIndex==null)this.highlightedIndex=0;if("scrollBehavior"in document.documentElement.style){this.optionsPane.children[this.highlightedIndex].scrollIntoView({block:"start"})}else{this.optionsPane.children[this.highlightedIndex].scrollIntoView(false)}}};e.prototype.commitSelection=function(){var e=undefined;if(this.config.allowMultiSelect)e=this.value;else if(this.value.length>0)e=this.value[0];var t=new CustomEvent("valuechanged",{bubbles:true,detail:{value:e}});this.element.dispatchEvent(t)};e.prototype.enterHighlight=function(e){this.prepareHighlightIdx=e};e.prototype.commitHighlight=function(e){if(this.prepareHighlightIdx===e){this.highlight(e);this.prepareHighlightIdx=undefined}};e.prototype.highlight=function(e){this.highlightedIndex=e};e.prototype.ignoreClicks=function(e){e.preventDefault();e.stopImmediatePropagation()};e.prototype.hide=function(){o.info("Hide")};e.prototype.select=function(e,t){if(e.value.enabled===false)return;this.appendValue(e.value);if(!this.config.allowMultiSelect)this.hide();this.commitSelection()};e.prototype.appendValue=function(e){if(this.config.allowMultiSelect){var t=this.value.indexOf(e);if(t===-1){this.value.push(e)}else{this.value.splice(t,1)}}else{this.value=[e]}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],e.prototype,"config",void 0);i.__decorate([n.bindable,i.__metadata("design:type",Array)],e.prototype,"value",void 0);i.__decorate([n.bindable,i.__metadata("design:type",HTMLElement)],e.prototype,"optionsFor",void 0);e=i.__decorate([n.autoinject,n.customElement("qp-options"),i.__metadata("design:paramtypes",[Element])],e);return e}();t.QpOptionsCustomElement=a;var s=function(){function e(){this.selected=false}return e}()}));define("text!apps/enhance/controls/qp-options.html",[],(function(){return'<template><require from="./qp-drop-down.css"></require><div class="drop-down__options-pane ${config.class}" ref="optionsPane" mousedown.capture="ignoreClicks($event)"><div repeat.for="op of config.options" css="${ (op.value.visible===false || op.value.visible===0) ? \'display: none\' : \'\'}" click.delegate="select(op,$event)" class="ddItem ${highlightedIndex === $index ? \'ddSelection\':\'\'} ${op.value.enabled===false ? \'ddItemDisabled\' : \'\'}" mouseenter.capture="enterHighlight($index)" mousemove.capture="commitHighlight($index) & throttle:100" keydown.delegate="onKeyDown($event)" keypress.delegate="onKeyPress($event)" data-cmd="${op.value.command}"><div if.bind="config.allowMultiSelect" class="sprite-icon control-icon" icon.bind="op.selected ? \'GridCheck\' : \'GridUncheck\' & attr" data-type="check" style="margin-left:2px;margin-right:5px"><div class="control-icon-img control-${op.selected ? \'GridCheck\' : \'GridUncheck\'}"></div></div> ${op.text} </div></div></template>'}));define("apps/enhance/controls/qp-screen-title",["require","exports","tslib","aurelia-framework","aurelia-logging","aurelia-fetch-client"],(function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.QpScreenTitleCustomElement=void 0;var a=r.getLogger("screen-title");var s=function(){function e(e,t,i){this.element=e;this.http=t;this.taskQueue=i;this.originalWidth=0}e.prototype.configChanged=function(e,t){var i=this;if(e.value){var r=JSON.parse(e.value);r.caption=decodeURIComponent(r.caption);r.title=decodeURIComponent(r.title);r.isFavorite=r.isFavorite=="True";r.isFavoritable=r.isFavoritable=="True";r.hasCaption=r.hasCaption=="True";this.value=r;if(r.Tooltip){r.AddToFavorites=r.Tooltip.AddToFavorites;r.RemoveFromFavorites=r.Tooltip.RemoveFromFavorites;this.updateFavoritesTooltip()}if(!this.resizeObserver&&n.PLATFORM.global.ResizeObserver){this.resizeObserver=new n.PLATFORM.global.ResizeObserver((function(e){if(!e||!e.length)return;i.updateWidth()}));this.resizeObserver.observe(this.element.parentElement)}}};e.prototype.updateWidth=function(){if(this.originalWidth==0)return;this.captionElement.style.width=Math.min(this.element.parentElement.clientWidth,this.originalWidth)+"px"};e.prototype.toggleFavorites=function(e,t){this.value.isFavorite=!this.value.isFavorite;var i="frameset/screen/"+this.value.nodeID+"/"+(this.value.isFavorite?"favorite":"unfavorite");this.http.fetch(i,{method:"POST",headers:{"X-XSRF-TOKEN":n.PLATFORM.global.px.GetAntiForgeryToken()}}).then((function(e){if(e.ok){if(n.PLATFORM.global.top.frameHelper)n.PLATFORM.global.top.frameHelper.needRefreshFav=true}else{alert("Error occured: "+e.statusText)}})).catch((function(e){return alert("Something went wrong. "+e.message)}));this.updateFavoritesTooltip()};e.prototype.updateFavoritesTooltip=function(){if(this.value.isFavorite){n.PLATFORM.global.px.setTitle(this.starElement,this.value.RemoveFromFavorites)}else{n.PLATFORM.global.px.setTitle(this.starElement,this.value.AddToFavorites)}};e.prototype.valueChanged=function(e){var t=this;if(e.caption){this.captionElement.style.width="";this.taskQueue.queueTask((function(){var e=t.element.getClientRects();if(e.length){t.originalWidth=e[0].width;t.updateWidth()}}))}};e.prototype.detached=function(){var e;(e=this.resizeObserver)===null||e===void 0?void 0:e.dispose()};i.__decorate([n.bindable,i.__metadata("design:type",Object)],e.prototype,"value",void 0);i.__decorate([n.bindable,i.__metadata("design:type",Object)],e.prototype,"config",void 0);i.__decorate([n.bindable,i.__metadata("design:type",HTMLElement)],e.prototype,"captionElement",void 0);i.__decorate([n.bindable,i.__metadata("design:type",HTMLElement)],e.prototype,"starElement",void 0);e=i.__decorate([n.customElement("qp-screen-title"),n.autoinject,i.__metadata("design:paramtypes",[Element,o.HttpClient,n.TaskQueue])],e);return e}();t.QpScreenTitleCustomElement=s}));define("text!apps/enhance/controls/qp-screen-title.css",[],(function(){return"qp-screen-title {\r\n\tdisplay:block;\r\n\tfloat: left;\r\n}\r\n.rtl qp-screen-title {\r\n\tfloat: right;\r\n}\r\n\r\nqp-screen-title:hover .favoriteOff{\r\n\tvisibility: visible;\r\n}\r\n\r\nqp-screen-title a\r\n{\r\n\tfont-size: 19px;\r\n\ttext-decoration: none;\r\n\tcolor: RGBA(0,0,0,0.87);\r\n\tcursor: pointer;\r\n\tdisplay: inline-block;\r\n\tmargin-left: 5px;\r\n\tmargin-top: 12px;\r\n}\r\n\r\nqp-screen-title a:hover\r\n{\r\n\ttext-decoration: underline;\r\n}\r\nqp-screen-title i\r\n{\r\n\tmargin-left: 10px;\r\n}\r\n\r\n.star-container {\r\n\tdisplay: -webkit-box;\r\n\tdisplay: -ms-flexbox;\r\n\tdisplay: flex;\r\n\t-webkit-box-align: baseline;\r\n\t    -ms-flex-align: baseline;\r\n\t        align-items: baseline;\r\n\theight: 45px;\r\n}\r\n\r\n.withCaption > a\r\n{\r\n\tfont-size: 13px;\r\n\tcolor: #027ACC;\r\n\tmargin-top: 6px;\r\n\r\n}\r\n.withCaption > span {\r\n\tfont-size: 18px;\r\n\tborder-width: 0px;\r\n\tdisplay: block;\r\n\tmargin-left: 5px;\r\n\tmargin-top: 3px;\r\n\tcolor: #000000;\r\n\tpointer-events: none;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n}\r\nqp-screen-title span{\r\n\tdisplay: none;\r\n}\r\n\r\n.favoriteOff {\r\n\tcolor:#000000;\r\n\tvisibility: hidden;\r\n}\r\n.favoriteOn\r\n{ \r\n\tcolor:#f7ba08;\r\n}\r\n.no-star {\r\n\tdisplay: none;\r\n}"}));define("text!apps/enhance/controls/qp-screen-title.html",[],(function(){return'<template id="${config.id}" class="${config.class}"><require from="./qp-screen-title.css"></require><div id="usrScreenTitle" class="star-container"><div class="${value.hasCaption? \'withCaption\': \'\'}"><a id="usrTitle" href="${value.href}">${value.title}</a><span id="usrCaption" ref="captionElement">${value.caption}</span></div><div><i id="usrFavorite" ref="starElement" class="ac fav-icon ${value.isFavoritable? \'\': \'no-star\'} ${value.isFavorite? \'favoriteOn ac-star\': \'ac-star_border favoriteOff\'}" click.delegate="toggleFavorites(item.id, $event)"></i></div></div></template>'}));define("apps/enhance/controls/qp-tool-bar",["require","exports","tslib","aurelia-framework","aurelia-event-aggregator","aurelia-logging","../services/control-helper","plugins/happeded-on-body","aurelia-fetch-client"],(function(e,t,i,n,r,o,a,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.QpToolBarCustomElement=void 0;var u=o.getLogger("tool-bar");var c=45;var p=300;var d=function(){function e(e,t,i,n,r){this.element=e;this.bindingEngine=t;this.eventAggregator=i;this.taskQueue=n;this.http=r;this.subscription=undefined;this.items=[];this.menu=[];this.itemElements=[];this.visibleMenuItems=0;this.showNavigation=true;this.menuOpened=false;this.menuTopPosition=0;this.highlightedRow=undefined;this.highlightedColumn=undefined;this.toolbarWidth=0;this.menuColumnsNbr=3}t=e;e.prototype.configChanged=function(e,i){var r=this;if(i===undefined){a.applyDefaultValues(e,t.defaultConfig);this.subscription=this.bindingEngine.propertyObserver(this.config,"changed").subscribe((function(e,t){if(!e)return;r.rebuildMenu();r.config.changed=false}))}this.rebuildMenu();if(n.PLATFORM.global.ResizeObserver){this.resizeObserver=new n.PLATFORM.global.ResizeObserver((function(e){if(!e||!e.length)return;r.onWidthChange()}));this.resizeObserver.observe(this.toolbarElement)}};e.prototype.menuColumnsNbrChanged=function(){this.rebuildMenu()};e.prototype.onWidthChange=function(){var e=this.toolbarElement.clientWidth;this.menuColumnsNbr=Math.min(3,Math.floor(e/300));this.adjustToolbarWidth();this.toolbarWidth=this.toolbarElement.clientWidth};e.prototype.adjustToolbarWidth=function(){var e=getComputedStyle(this.menuOpener);var t=this.toolbarElement.clientWidth-this.menuOpener.offsetWidth-parseInt(e.marginLeft)-parseInt(e.marginRight);var i=0;var n=[];var r=0;var o=true;for(var a=0,s=this.itemElements;a<s.length;a++){var l=s[a];if(!l)continue;var u=getComputedStyle(l);var c=l.getBoundingClientRect();var p=c.width+parseInt(u.marginLeft)+parseInt(u.marginRight);if(this.isNavigation(l.id)){n.push(l);i+=p;continue}r+=p;if(r>t)o=false;if(o){l.style.position="";l.style.top=""}else{l.style.top="-1000px";l.style.position="absolute"}}if(o&&r+i<=t){for(var d=0,h=n;d<h.length;d++){var l=h[d];l.style.position="";l.style.top=""}}else{for(var f=0,g=n;f<g.length;f++){var l=g[f];l.style.top="-1000px";l.style.position="absolute"}}};e.prototype.isNavigation=function(e){var t=this.config.items[e].config;if(t.isNavigation)return true;return false};e.prototype.syncMenuChanges=function(){var e;for(var t=0,i=this.items;t<i.length;t++){var n=i[t];if(!n)continue;var r=(e=this.config.items[n.id])===null||e===void 0?void 0:e.config;if(r){n.disabled=r.disabled}}};e.prototype.rebuildMenu=function(){var e;var t=this;this.items=[];var i=[];var n=this.config.id;var r={};var o=0;var a=function(e){var t=s.config.items[e];var i=t.config;if(!(i.showInToolbar||i.favorite&&!i.disabled))return"continue";var n=void 0;switch(t.type){case"menu-options":{var a=s.config.categories.find((function(t){return t.id===e}));if(!a)return"continue";r[a.name]=true;var l=new g(e,i);for(var u=0,c=a.actions;u<c.length;u++){var p=c[u];var d=s.config.items[p];var m=d.config;l.options.push(new f(p,m))}n=l;break}case"menu-button":{n=new f(e,i);break}default:n=new h(e)}s.items[o++]=n};var s=this;for(var l in this.config.items){a(l)}this.visibleMenuItems=this.items.length;this.showNavigation=true;var u=0;for(var c=0,p=this.config.categories;c<p.length;c++){var d=p[c];if(r[d.name])continue;++u;var m={};m.text=d.text;m.items=[];for(var b=0,y=d.actions;b<y.length;b++){var x=y[b];var w=this.config.items[x];var _=w.config;var k=void 0;switch(w.type){case"menu-button":{k=new f(x,_);break}default:k=new h(x)}m.items.push(k);++u}i.push(m)}var C=0;this.menu=[];var O=0;for(var S=0,E=i;S<E.length;S++){var m=E[S];O=Math.min(O+1,Math.floor(C*this.menuColumnsNbr/u));C+=m.items.length+1;if(!this.menu[O])this.menu[O]=[];this.menu[O].push(new v(m.text));(e=this.menu[O]).push.apply(e,m.items)}this.taskQueue.queueTask((function(){t.adjustToolbarWidth()}));this.taskQueue.queueTask((function(){t.attachToolTips()}))};e.prototype.attachToolTips=function(){var e;for(var t=0,i=this.itemElements;t<i.length;t++){var r=i[t];if(!r)continue;var o=this.config.items[r.id];if((o===null||o===void 0?void 0:o.type)==="menu-button"&&((e=o===null||o===void 0?void 0:o.config)===null||e===void 0?void 0:e.toolTip))n.PLATFORM.global.px.setTitle(r,o.config.toolTip)}};e.prototype.advanceSelection=function(e,t){if(t===void 0){t=0}if(this.highlightedColumn==null){if(t>0)this.highlightedColumn=this.menuColumnsNbr;else this.highlightedColumn=0}var i=this.highlightedColumn;this.highlightedColumn=(this.highlightedColumn+t+this.menuColumnsNbr)%this.menuColumnsNbr;var n=this.menu[this.highlightedColumn];if(this.highlightedRow==null){if(e>=0)this.highlightedRow=-1;else this.highlightedRow=n.length}if(t){this.highlightedRow=Math.min(this.highlightedRow,n.length-1);e=0}var r=this.highlightedRow;this.highlightedRow+=e;var o=0;for(o=0;o<this.menuColumnsNbr;++o){n=this.menu[this.highlightedColumn];while(this.highlightedRow>=0&&this.highlightedRow<n.length){var a=n[this.highlightedRow];if(a.type==="MenuButton"&&!a.disabled)break;this.highlightedRow+=e||t}if(this.highlightedRow>=0&&this.highlightedRow<n.length)break;this.highlightedColumn=(this.highlightedColumn+t+this.menuColumnsNbr)%this.menuColumnsNbr;this.highlightedRow=r}if(o===this.menuColumnsNbr){this.highlightedRow=r;this.highlightedColumn=i}if(this.menuPane){this.scrollIntoView()}};e.prototype.onKeyDown=function(e){var t=false;switch(e.key){case"Down":case"ArrowDown":if(!this.menuOpened)this.showMenu();this.advanceSelection(1);t=true;break;case"Up":case"ArrowUp":if(!this.menuOpened)this.showMenu();this.advanceSelection(-1);t=true;break;case"Left":case"ArrowLeft":if(!this.menuOpened)this.showMenu();this.advanceSelection(0,-1);t=true;break;case"Right":case"ArrowRight":if(!this.menuOpened)this.showMenu();this.advanceSelection(0,1);t=true;break;case"Esc":case"Escape":this.hideMenu();t=true;break}if(t){e.stopPropagation();return false}return true};e.prototype.stopPropagation=function(e){e.stopPropagation();return false};e.prototype.toggleMenu=function(e){if(this.menuOpened)this.hideMenu();else this.showMenu();e.preventDefault();e.stopImmediatePropagation();return false};e.prototype.showMenu=function(){var e=this;this.menuTopPosition=this.menuOpener.getBoundingClientRect().bottom;this.menuOpener.focus();this.documentMouseDownSubscription=this.eventAggregator.subscribe(s.MOUSE_DOWN_REACHED_BODY,(function(){return e.hideMenu()}));this.menuOpened=true};e.prototype.hideMenu=function(){this.unsubscribeFromMouseDownOnDocument();this.menuOpened=false;this.highlightedRow=undefined;this.highlightedColumn=undefined};e.prototype.unsubscribeFromMouseDownOnDocument=function(){var e;(e=this.documentMouseDownSubscription)===null||e===void 0?void 0:e.dispose();this.documentMouseDownSubscription=undefined};e.prototype.detached=function(){this.unsubscribeFromMouseDownOnDocument()};e.prototype.toggleFavorites=function(e,t){var i=this;var n=this.config.items[e].config;var r="add";if(n.favorite){n.favorite=false;r="remove"}else{n.favorite=true}this.http.fetch("ui/FavoriteActions/"+a.getScreenID()+"/"+n.commandName+"/"+r,{method:"POST"}).then((function(e){if(e.ok){i.rebuildMenu()}else{alert("Error occured: "+e.statusText)}})).catch((function(e){return alert("Something went wrong. "+e.message)}));return this.stopPropagation(t)};e.prototype.processMenuSelected=function(e){var t=e.detail.id;this.processClick(t,"MenuButton",e.detail.event)};e.prototype.processMenuClick=function(e,t){this.hideMenu();this.processClick(e,"MenuButton",t)};e.prototype.processClick=function(e,i,n){if(i!=="MenuButton")return true;var r=this.config.items[e];if(!t.isEnabled(r===null||r===void 0?void 0:r.config))return true;var o={event:n,config:r.config};var a=new CustomEvent("buttonpressed",{bubbles:true,detail:o});this.element.dispatchEvent(a);return false};e.prototype.scrollIntoView=function(){var e,t,i,n;if(this.highlightedRow!=null&&this.highlightedColumn!=null){if("scrollBehavior"in document.documentElement.style){(t=(e=this.menuPane.children[this.highlightedColumn])===null||e===void 0?void 0:e.children[this.highlightedRow])===null||t===void 0?void 0:t.scrollIntoView({block:"nearest"})}else{(n=(i=this.menuPane.children[this.highlightedColumn])===null||i===void 0?void 0:i.children[this.highlightedRow])===null||n===void 0?void 0:n.scrollIntoView(false)}}};e.isEnabled=function(e){if(!e)return false;return!e.disabled};var t;e.defaultConfig={hidden:false,enabled:true};i.__decorate([n.bindable,i.__metadata("design:type",Object)],e.prototype,"config",void 0);i.__decorate([n.bindable,i.__metadata("design:type",Number)],e.prototype,"menuColumnsNbr",void 0);e=t=i.__decorate([n.customElement("qp-tool-bar"),n.autoinject,i.__metadata("design:paramtypes",[Element,n.BindingEngine,r.EventAggregator,n.TaskQueue,l.HttpClient])],e);return e}();t.QpToolBarCustomElement=d;var h=function(){function e(t){this.cssClass="";this.width="";this.disabled=false;this.renderAs=e.RENDER_TEXT;this.id=t}Object.defineProperty(e.prototype,"type",{get:function(){return"MenuItem"},enumerable:false,configurable:true});e.prototype.renderIcon=function(){return!!(this.renderAs&e.RENDER_ICON)};e.prototype.renderText=function(){return!!(this.renderAs&e.RENDER_TEXT)};e.RENDER_ICON=1;e.RENDER_TEXT=2;return e}();var f=function(e){i.__extends(t,e);function t(t,i){var n=e.call(this,t)||this;n.toolTip="";n.images={};n.favorite=false;n.connotation="";n.commandName=i.commandName;n.text=i.text;n.toolTip=i.toolTip;n.disabled=!d.isEnabled(i);n.cssClass=i.class;n.connotation=i.connotation;n.favorite=!!i.favorite;n.images=i.images||{};if(i.imageSet&&i.imageKey)n.images.normal=i.imageSet+"@"+i.imageKey;if(n.images.normal)n.renderAs=h.RENDER_ICON;return n}Object.defineProperty(t.prototype,"type",{get:function(){return"MenuButton"},enumerable:false,configurable:true});return t}(h);var g=function(e){i.__extends(t,e);function t(t,i){var n=e.call(this,t,i)||this;n.options=[];return n}Object.defineProperty(t.prototype,"type",{get:function(){return"MenuOptions"},enumerable:false,configurable:true});return t}(f);var m=function(e){i.__extends(t,e);function t(t){return e.call(this,t)||this}Object.defineProperty(t.prototype,"type",{get:function(){return"MenuSeparator"},enumerable:false,configurable:true});return t}(h);var v=function(e){i.__extends(t,e);function t(t){var i=e.call(this,t)||this;i.imageURL="";return i}Object.defineProperty(t.prototype,"type",{get:function(){return"MenuLabel"},enumerable:false,configurable:true});return t}(h)}));define("text!apps/enhance/controls/qp-tool-bar.css",[],(function(){return'div.qp-tool-bar {\r\n\tdisplay: -webkit-inline-box;\r\n\tdisplay: -ms-inline-flexbox;\r\n\tdisplay: inline-flex;\r\n\theight: 40px;\r\n\twidth: calc(100% - 100px);\r\n\tmargin: 0 0 5px 0;\r\n\tpadding-bottom: 0;\r\n\toverflow: hidden;\r\n}\r\n\r\n@media screen and (max-width: 500px) {\r\n\tdiv.qp-tool-bar {\r\n\t\twidth: 100% ;\r\n\t}\r\n}\r\n\r\n.qp-tool-bar .qp-tool-bar-item {\r\n\tbackground-color: inherit;\r\n\tmargin: 3px 4px;\r\n\tcolor: #000000;\r\n\tfont-weight: 400;\r\n\twhite-space: nowrap;\r\n\ttext-transform: uppercase;\r\n\tborder: none;\r\n\t-webkit-box-sizing: content-box;\r\n\t        box-sizing: content-box;\r\n\ttext-align: center;\r\n\tcursor: default;\r\n\tmin-width: inherit;\r\n\tfont-size: 14px;\r\n} \r\n\r\n/* .qp-tool-bar .qp-tool-bar-item:hover {\r\n\tcolor: #FFFFFF;\r\n\tfill: #fff;\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tcursor: pointer;\r\n} */\r\n\r\n.qp-tool-bar .qp-tool-bar-item .qp-tool-bar-button {\r\n\tpadding: 5px 10px;\r\n\theight: 20px;\r\n\tline-height: 20px;\r\n\tcursor: pointer;\r\n\t-webkit-box-sizing: content-box;\r\n\t        box-sizing: content-box;\r\n}\r\n\r\n.qp-tool-bar .qp-tool-bar-item .qp-tool-bar-button:hover {\r\n\tbackground-color: rgba(0, 0, 0, 0.1);\r\n}\r\n.qp-tool-bar .qp-tool-bar-item .qp-tool-bar-button.disabled:hover {\r\n\tbackground-color: inherit;\r\n}\r\n\r\n\r\n.qp-tool-bar .qp-tool-bar-item .qp-tool-bar-text {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.qp-tool-bar .checkBox { /* TODO: remove from qp-hyper-icon */\r\n\tpadding-right: 0;\r\n}\r\n\r\n.qp-tool-bar .toolBar button:disabled {\r\n\tbackground-color: inherit;\r\n\tcolor: #000000;\r\n\topacity: 0.26;\r\n\tcursor: default;\r\n}\r\n\r\n.qp-tool-bar .items-list {\r\n\tlist-style: none outside none;\r\n\tmargin: 0px;\r\n\tpadding: 0px;\r\n\tborder-spacing: 0px;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.qp-tool-bar .items-list .qp-tool-bar-button.disabled {\r\n\topacity: 0.26;\r\n\tcursor: default;\r\n}\r\n\r\n.qp-tool-bar .items-list li {\r\n\tdisplay: inline-block;\r\n\tvertical-align: bottom;\r\n}\r\n\r\n.qp-tool-bar .qp-tool-bar-opener {\r\n\tdisplay: inline-block;\r\n\theight: 20px;\r\n\ttext-align: center;\r\n\tcolor: rgba(0, 0, 0, 0.5);\r\n\tline-height: 20px;\r\n\tfont-size: 29px;\r\n\tmargin: 3px;\r\n\tcursor: pointer;\r\n\t-ms-flex-negative: 0;\r\n\t    flex-shrink: 0;\r\n\tpadding: 5px 10px;\r\n\tz-index: 6000;\r\n}\r\n.qp-tool-bar .qp-tool-bar-opener.qp-menu-opened,\r\n.qp-tool-bar .qp-tool-bar-opener.qp-menu-opened:hover,\r\n.qp-tool-bar .qp-tool-bar-opener.qp-menu-opened:focus {\r\n\tcolor: #000;\r\n\tfill: #000;\r\n\tbackground-color: #fff;\r\n}\r\n\r\n.qp-tool-bar .qp-tool-bar-opener qp-icon svg {\r\n\twidth: 17px;\r\n\theight: 20px;\r\n}\r\n\r\n.qp-tool-bar .qp-tool-bar-opener:hover {\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tcolor: #fff;\r\n\tfill: #fff;\r\n}\r\n\r\n.qp-tool-bar .qp-tool-bar-opener:focus {\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tcolor: #fff;\r\n\tfill: #fff;\r\n}\r\n\r\n.qp-tool-bar .qp-tool-bar-opener.qp-tool-bar-invisible {\r\n\topacity: 0;\r\n}\r\n\r\n.qp-menu-shadow {\r\n\tposition: fixed;\r\n\twidth: 100vw;\r\n\theight: 100vh;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tz-index: 5000;\r\n\tbackground-color: rgba(0, 0, 0, .25);\r\n}\r\n\r\n.qp-tool-bar-menu {\r\n\tz-index: 6000;\r\n\tbackground-color: white;\r\n\tmax-height: 80vh;\r\n\toverflow-y: auto; /* for FF */\r\n\toverflow-y: overlay;\r\n\tmin-width: 272px !important;\r\n\t-webkit-box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.7);\r\n\t        box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.7);\r\n\t-webkit-box-sizing: border-box;\r\n\t        box-sizing: border-box;\r\n\tborder-radius: 0px;\r\n\tborder-top: 5px solid #fff;\r\n\tborder-bottom: 5px solid #fff;\r\n\r\n\tscrollbar-width: thin;\r\n  scrollbar-color: rgba(0, 0, 0, 0.15) transparent;\r\n}\r\n\r\n.qp-tool-bar-menu::-webkit-scrollbar {\r\n\twidth: 19px;\r\n}\r\n.qp-tool-bar-menu::-webkit-scrollbar-thumb {\r\n\tbackground: rgba(0, 0, 0, 0.15);\r\n\tborder-radius: 0px;\r\n\twidth: 3px;\r\n\tborder: 5px solid white;\r\n}\r\n\r\n.qp-tool-bar-menu .qp-tool-bar-container {\r\n\tpadding: 0 0 7px;\r\n\tmargin: 0;\r\n\toverflow: hidden;\r\n\tdisplay: -webkit-inline-box;\r\n\tdisplay: -ms-inline-flexbox;\r\n\tdisplay: inline-flex;\r\n\t-webkit-box-orient: horizontal;\r\n\t-webkit-box-direction: normal;\r\n\t    -ms-flex-flow: row nowrap;\r\n\t        flex-flow: row nowrap;\r\n}\r\n\r\n.qp-tool-bar-column {\r\n\twidth: 240px;\r\n\tmargin-right: 20px;\r\n}\r\n\r\n.qp-tool-bar-menu .qp-tool-bar-menu-item {\r\n\tdisplay: block;\r\n\tpadding: 0 0 0 29px;\r\n\tmargin-left: 5px;\r\n\tcursor: pointer;\r\n\theight: 30px;\r\n\tfont-size: 15px;\r\n\tline-height: 30px;\r\n\tcolor: #007ACC;\r\n\tcolor: var(--primary-color, #007ACC);\r\n\twhite-space: nowrap;\r\n\tposition: relative;\r\n}\r\n\r\n.qp-tool-bar-menu .qp-tool-bar-menu-item.qp-menu-label {\r\n\tfont-size: 18px;\r\n\tcolor: #000;\r\n\tcursor: default;\r\n\tpadding: 5px 0 0 29px;\r\n\tmargin-top: 7px;\r\n}\r\n\r\n.qp-tool-bar-menu .qp-menu-text {\r\n\tdisplay: inline-block;\r\n\ttext-overflow: ellipsis;\r\n\toverflow: hidden;\r\n\twidth: 100%;\r\n}\r\n\r\n.qp-tool-bar-menu .qp-tool-bar-menu-item.disabled .qp-menu-text {\r\n\topacity: .3;\r\n}\r\n\r\n.qp-tool-bar-menu .qp-tool-bar-menu-item.qp-menu-item:hover,\r\n.qp-tool-bar-menu .qp-tool-bar-menu-item.qp-menu-item.qp-menu-highlighted {\r\n\tbackground-color: #eee;\r\n}\r\n\r\n.qp-tool-bar-menu .qp-tool-bar-menu-item.disabled {\r\n\tcursor: default;\r\n}\r\n\r\n.qp-tool-bar-menu .qp-tool-bar-menu-item.disabled:hover {\r\n\tbackground-color: inherit;\r\n}\r\n\r\n.qp-tool-bar-menu .qp-menu-fav-placeholder {\r\n\twidth: 30px;\r\n\theight: 30px;\r\n\tposition: absolute;\r\n\tcursor: pointer;\r\n\tfont-family: \'FontAwesome\' !important;\r\n\tleft: 0px;\r\n\tcolor: #000;\r\n}\r\n\r\n.qp-tool-bar-menu .qp-menu-fav-placeholder:hover:before {\r\n\tcontent: "\\e9bb"; /* empty star */\r\n\tmargin-left: 6px;\r\n}\r\n\r\n.qp-tool-bar-menu .qp-menu-fav-placeholder.favorite:before {\r\n\tcontent: "\\e9bc"; /* filled star*/\r\n\tcolor: #f7ba08;\r\n\tmargin-left: 6px;\r\n}\r\n\r\n.qp-tool-bar-menu .qp-menu-color-bead {\r\n\tdisplay: inline-block;\r\n\tborder-radius: 10px;\r\n\twidth: 10px;\r\n\theight: 10px;\r\n\tmargin-left: 3px;\r\n}\r\n\r\n\r\n.qp-tool-bar .qp-tool-bar-item.qp-connotation-default .qp-tool-bar-button.disabled:hover {\r\n\tbackground-color: inherit;\r\n\tfill: inherit;\r\n\tcolor: inherit;\r\n\tcursor: default;\r\n}\r\n.qp-tool-bar .qp-tool-bar-item.qp-connotation-default .qp-tool-bar-button:hover {\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tfill: #fff;\r\n\tcolor: #fff;\r\n}\r\n\r\n.qp-menu-color-bead.qp-connotation-Primary, .qp-tool-bar-item.qp-connotation-Primary, .qp-tool-bar-item.qp-connotation-Primary:hover {\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tcolor: #fff;\r\n}\r\n.qp-menu-color-bead.qp-connotation-Secondary, .qp-tool-bar-item.qp-connotation-Secondary, .qp-tool-bar-item.qp-connotation-Secondary:hover {\r\n\tbackground-color: #6c757d;\r\n\tcolor: #fff;\r\n}\r\n.qp-menu-color-bead.qp-connotation-Success, .qp-tool-bar-item.qp-connotation-Success, .qp-tool-bar-item.qp-connotation-Success:hover {\r\n\tbackground-color: #28a745;\r\n\tcolor: #fff;\r\n}\r\n.qp-menu-color-bead.qp-connotation-Danger, .qp-tool-bar-item.qp-connotation-Danger, .qp-tool-bar-item.qp-connotation-Danger:hover {\r\n\tbackground-color: #dc3545;\r\n\tcolor: #fff;\r\n}\r\n.qp-menu-color-bead.qp-connotation-Warning, .qp-tool-bar-item.qp-connotation-Warning, .qp-tool-bar-item.qp-connotation-Warning:hover {\r\n\tbackground-color: #ffc107;\r\n\tcolor: #212529;\r\n}\r\n.qp-menu-color-bead.qp-connotation-Info, .qp-tool-bar-item.qp-connotation-Info, .qp-tool-bar-item.qp-connotation-Info:hover {\r\n\tbackground-color: #17a2b8;\r\n\tcolor: #fff;\r\n}\r\n.qp-menu-color-bead.qp-connotation-Light, .qp-tool-bar-item.qp-connotation-Light, .qp-tool-bar-item.qp-connotation-Light:hover {\r\n\tbackground-color: #f8f9fa;\r\n\tcolor: #212529;\r\n}\r\n.qp-menu-color-bead.qp-connotation-Dark, .qp-tool-bar-item.qp-connotation-Dark, .qp-tool-bar-item.qp-connotation-Dark:hover {\r\n\tbackground-color: #343a40;\r\n\tcolor: #fff;\r\n}\r\n'}));define("text!apps/enhance/controls/qp-tool-bar.html",[],(function(){return'<template css="display: ${config.hidden ? \'none\': \'\'};"><require from="./qp-tool-bar.css"></require><require from="./qp-menu"></require><div id="${config.id}" name="${config.name}" class="qp-tool-bar ${config.class}" ref="toolbarElement"><ul id="${config.id}_bar" class="items-list ${config.canOverflow ? \'asTable\' : \'\'}"><li repeat.for="item of items" ref="itemElements[$index]" css="${\'width: \'+item.width+\'; \'}" class="qp-tool-bar-item ${item.connotation ? \'qp-connotation-\'+item.connotation : \'qp-connotation-default\'}" click.capture="processClick(item.id, item.type, $event)" id.bind="item.id & attr"><div if.bind="item.type===\'MenuButton\'" class="qp-tool-bar-button ${item.disabled ? \'disabled\' : \'\'}"><qp-hyper-icon if.bind="item.renderIcon()" images.bind="item.images"></qp-hyper-icon><div if.bind="item.renderText()" class="qp-tool-bar-text"> ${item.text} </div></div><qp-menu if.bind="item.type===\'MenuOptions\'" config.bind="item" menuselected.delegate="processMenuSelected($event)"></qp-menu><div if.bind="item.type!==\'MenuButton\' && item.type!==\'MenuOptions\'">[${item.id}]</div></li></ul><div class="qp-tool-bar-opener ${menuOpened ? \'qp-menu-opened\': \'\'}" ref="menuOpener" id="${config.id}_MenuOpener" keydown.capture="onKeyDown($event)" mousedown.capture="toggleMenu($event)" tabindex="1"><qp-icon imagesrc="svg:main@ellipsis"></qp-icon></div></div><div if.bind="menuOpened" class="qp-menu-shadow"><div glue-to.bind="menuOpener" class="qp-tool-bar-menu" mousedown.capture="stopPropagation($event)" css="max-height: calc(100vh - ${menuTopPosition}px - 10px)"><div id="${config.id}_popup" ref="menuPane" class="qp-tool-bar-container"><div repeat.for="col of menu" class="qp-tool-bar-column"><div repeat.for="item of col" id="${item.id}_item" disabled.bind="item.disabled & attr" class="qp-tool-bar-menu-item ${item.type===\'MenuButton\' ? \'qp-menu-item\' : \'qp-menu-label\'} ${item.disabled ? \'disabled\' : \'\'} ${highlightedRow === $index && highlightedColumn === $parent.$index ? \'qp-menu-highlighted\':\'\'}" click.delegate="processMenuClick(item.id, $event)"><div if.bind="item.type===\'MenuButton\'" class="qp-menu-fav-placeholder ${item.favorite===true ? \'favorite\' : \'\'}" click.delegate="toggleFavorites(item.id, $event)"></div><span if.bind="item.type===\'MenuButton\'" class="qp-menu-item qp-menu-text"> ${item.text} <div if.bind="item.connotation" class="qp-menu-color-bead ${\'qp-connotation-\'+item.connotation}" css="background-color: ${item.color};"></div></span><span if.bind="item.type===\'MenuLabel\'" class="qp-menu-label qp-menu-text">${item.id}</span></div></div></div></div></div></template>'}));define("apps/enhance/main",["require","exports","tslib","aurelia-bootstrapper","aurelia-framework","environment","compatibility-layer/faux-screen","aurelia-binding","aurelia-fetch-client"],(function(e,t,i,n,r,o,a,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});o=i.__importDefault(o);s.disableConnectQueue();var u=function(e){var t=e instanceof Element&&e.getAttribute("id")||undefined;return{element:e,id:t}};var c=u(document.activeElement);if(c.element&&c.element.tagName==="BODY"){document.addEventListener("focus",(function(e){c=u(e.target)}),{capture:true,once:true})}var p=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,s,u,p,d,h,f,g;return i.__generator(this,(function(i){switch(i.label){case 0:t=r.PLATFORM.global.globalControlsModules;e.use.basicConfiguration().defaultResources().globalResources([a.FauxScreenCustomAttribute]).plugin("aurelia-animator-css").plugin("aurelia-ui-virtualization").plugin("aurelia-dialog").feature("plugins/enhance-n-watch").feature("plugins/glue").feature("plugins/happeded-on-body").feature("plugins/tooltip-service").feature("apps/enhance/controls");if(Array.isArray(t)){t.forEach((function(t){return e.use.feature(t)}))}e.use.developmentLogging(o.default.debug?"debug":"warn");return[4,e.start()];case 1:i.sent();n=e.container.get(l.HttpClient);s=requirejs.s.contexts._.config.baseUrl.replace("/scripts/ca/","/");n.configure((function(e){e.withBaseUrl(s).withDefaults({headers:{Accept:"application/json","X-Requested-With":"Fetch"},credentials:"same-origin"})}));u={elements:{},values:{}};if(o.default.debug)r.PLATFORM.global.fauxScreen=u;return[4,e.enhanceAndWatch(u)];case 2:i.sent();r.PLATFORM.global.getViewModelById=function(e){if(!u.elements[e]){return undefined}else{var t=document.getElementById(e);if(t){do{if(t.au){return t.au.controller.viewModel}t=t.parentNode}while(t);return undefined}}};if(c.id){p=r.DOM.getElementById(c.id);if(p){p.focus()}}else if(c.element instanceof HTMLElement&&c.element.parentNode!=null){if(c.element!==document.activeElement){c.element.focus()}}if(r.PLATFORM.global.px_cm){px_cm.handleLoad();if(px_cm.auEnhanceCompleted)px_cm.auEnhanceCompleted();if(px_cm.requiredReloadPage(false))px_cm.reloadPage(true);px_cm.au_flush=function(){var t=e.container.get(r.TaskQueue);t.flushMicroTaskQueue()};px_cm.au_enhance=function(t){var i=e.container.get(r.TemplatingEngine);var n=i.enhance({element:t,container:e.container,resources:e.resources,bindingContext:u});px_cm.au_flush();return n}}d=px_cm.AureliaEnhanceAwaitQueue;if(d){for(h=0,f=d;h<f.length;h++){g=f[h];g()}d.splice(0,d.length)}return[2]}}))}))};var d=document.querySelector("body");var h=d===null||d===void 0?void 0:d.hasAttribute("no-enhance");if(!h){n.bootstrap(p)}}));define("apps/enhance/services/api-client",["require","exports","tslib","aurelia-fetch-client","aurelia-framework","whatwg-fetch","abortcontroller-polyfill/dist/abortcontroller-polyfill-only"],(function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ApiClient=void 0;var o=function(){function e(e){this.client=e}e.prototype.getBranchData=function(e,t){return this.client.fetch("ui/BranchSelector/Pass",{method:"POST",body:n.json(e),signal:t}).then((function(e){return e.json()}))};e.prototype.getBranchTree=function(e,t){return this.client.fetch("ui/BranchSelector/Tree",{method:"POST",body:n.json(e),signal:t}).then((function(e){return e.json()}))};e.prototype.getSuggestionData=function(e,t){return this.client.fetch("ui/Selector/GetSuggestions",{method:"POST",body:n.json(e),signal:t}).then((function(e){return e.json()}))};e=i.__decorate([r.autoinject,i.__metadata("design:paramtypes",[n.HttpClient])],e);return e}();t.ApiClient=o}));define("apps/enhance/services/control-helper",["require","exports","tslib","aurelia-pal"],(function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.netTypeConvert=t.scrollToView=t.ScrollMode=t.applyDefaultValues=t.NetType=t.browser=t.isVisible=t.isLetter=t.getScreenID=t.isDigit=t.formatDate=t.dateFormatInfo=t.numberFormatInfo=t.topDocument=t.topWindow=t.compareStrings=t.equals=void 0;function r(e,t){if(e==null&&t!=null||t==null&&e!=null){return false}if(e instanceof Date&&t instanceof Date){return e.getTime()===t.getTime()}return e==t}t.equals=r;function o(e,t,i){if(i){if(e)e=e.toLowerCase();if(t)t=t.toLowerCase()}return e==t}t.compareStrings=o;var a=n.PLATFORM.global;var s;try{a=a.top;s=a.document}catch(e){a=n.PLATFORM.global}t.topWindow=a;t.topDocument=t.topWindow.document;t.numberFormatInfo=t.topWindow._numbFormatInfo;t.dateFormatInfo=t.topWindow._dateFormatInfo||{abbrMonthNames:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,",monthNames:"January,February,March,April,May,June,July,August,September,October,November,December,",dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",abbrDayNames:"Sun,Mon,Tue,Wed,Thu,Fri,Sat"};function l(e,t,i){if(t.length===1){switch(t){case"d":t=i.shortDate;break;case"D":t=i.longDate;break;case"t":t=i.shortTime;break;case"T":t=i.longTime;break;case"g":t=i.shortDate+" "+i.shortTime;break;case"G":t=i.shortDate+" "+i.longTime;break;case"f":t=i.longDate+" "+i.shortTime;break;case"F":t=i.longDate+" "+i.longTime;break}}var n="";var r=false;var o=i.monthNames.split(",");var a=i.dayNames.split(",");for(var s=0;s<t.length;s++){if(r){n+=t.substr(s,1);r=false;continue}if(t.charAt(s)==="\\"){r=true;continue}var l=t.substr(s,4);var u="";switch(l){case"MMMM":u=o[e.getMonth()];break;case"dddd":u=o[e.getMonth()];break;case"yyyy":u=e.getFullYear()+"";break}if(u){n+=u;s+=3;continue}l=t.substr(s,3);switch(l){case"MMM":u=o[e.getMonth()].substr(0,3);break;case"ddd":u=a[e.getDay()].substr(0,3);break}if(u){n+=u;s+=2;continue}l=t.substr(s,2);switch(l){case"MM":u=(e.getMonth()+1).toString();if(u.length===1)u="0"+u;break;case"dd":u=e.getDate().toString();if(u.length===1)u="0"+u;break;case"yy":u=(e.getFullYear()%100).toString();if(u.length===1)u="0"+u;break;case"HH":u=e.getHours().toString();if(u.length===1)u="0"+u;break;case"hh":{var c=e.getHours();if(c===0)c=12;else if(c>12)c-=12;u=c.toString();if(u.length===1)u="0"+u;break}case"mm":u=e.getMinutes().toString();if(u.length===1)u="0"+u;break;case"ss":u=e.getSeconds().toString();if(u.length===1)u="0"+u;break;case"tt":{var p=false;if(e.getHours()>=12)p=true;if(p)u=i.pm;else u=i.am;break}}if(u){n+=u;s+=1;continue}l=t.substr(s,1);switch(l){case"M":u=(e.getMonth()+1).toString();break;case"d":u=e.getDate().toString();break;case"y":u=(e.getFullYear()%100).toString();break;case"H":u=e.getHours().toString();break;case"h":{var c=e.getHours();if(c===0)c=12;else if(c>12)c-=12;u=c.toString();break}case"m":u=e.getMinutes().toString();break;case"s":u=e.getSeconds().toString();break}if(u){n+=u;continue}n+=t.substr(s,1)}return n}t.formatDate=l;function u(e){if(typeof e==="string"){e=e.charCodeAt(0)}var t=47;var i=58;return e>t&&e<i}t.isDigit=u;function c(){var e=window.__screenID;var t=window.location.pathname;if(e)e=e.replace(/\./g,"");else e=t.substr(t.lastIndexOf("/")+1).replace(".aspx","").toUpperCase();return e}t.getScreenID=c;function p(e){if(typeof e==="number"){e=String.fromCharCode(e)}var t=255;return e.charCodeAt(0)>t||e.toUpperCase()!==e.toLowerCase()}t.isLetter=p;function d(e){try{return e&&e.offsetParent!=null&&e.offsetWidth>0}catch(e){}return false}t.isVisible=d;var h=n.PLATFORM.global.navigator.userAgent.toLowerCase();var f=h.indexOf("msie")>=0;var g=h.indexOf("edge")>=0;var m=h.indexOf("rv:11.0")>0;var v=f||m;var b=h.indexOf("safari")>=0;var y=h.indexOf("firefox");var x=y>=0?parseFloat(h.substr(y+8,3)):0;var w=y>=0;var _=w&&x>=65;t.browser={isIE:f,isEdge:g,isIE11:m,isAnyIE:v,isSafari:b,isFirefox:w,isFirefoxFrom65:_};var k;(function(e){e[e["Empty"]=0]="Empty";e[e["Object"]=1]="Object";e[e["DBNull"]=2]="DBNull";e[e["Boolean"]=3]="Boolean";e[e["Char"]=4]="Char";e[e["SByte"]=5]="SByte";e[e["Byte"]=6]="Byte";e[e["Int16"]=7]="Int16";e[e["UInt16"]=8]="UInt16";e[e["Int32"]=9]="Int32";e[e["UInt32"]=10]="UInt32";e[e["Int64"]=11]="Int64";e[e["UInt64"]=12]="UInt64";e[e["Single"]=13]="Single";e[e["Double"]=14]="Double";e[e["Decimal"]=15]="Decimal";e[e["DateTime"]=16]="DateTime";e[e["String"]=18]="String"})(k=t.NetType||(t.NetType={}));function C(e,t){var n=i.__assign({},e);if(v)O(n);Object.assign(e,t,n)}t.applyDefaultValues=C;function O(e){for(var t in e)if(e[t]===undefined)delete e[t]}var S;(function(e){e[e["Both"]=0]="Both";e[e["Vertical"]=1]="Vertical";e[e["Horizontal"]=2]="Horizontal"})(S=t.ScrollMode||(t.ScrollMode={}));function E(e,t,i){if(i===void 0){i=S.Both}if(t==null||e.scrollWidth<=e.offsetWidth&&e.scrollHeight<=e.offsetHeight){return}var n=e.offsetParent;var r=n.getBoundingClientRect();var o=e.getBoundingClientRect();var a=t.getBoundingClientRect();var s=a.left-r.left;var l=o.left-r.left;var u=a.top-r.top;var c=o.top-r.top;var p=s+t.offsetWidth;var d=l+e.offsetWidth;var h=u+t.offsetHeight;var f=c+e.offsetHeight;var g=e.offsetWidth-e.clientWidth;var m=e.offsetHeight-e.clientHeight;var v=-1;var b=-1;var y=i===S.Both||i===S.Vertical;var x=i===S.Both||i===S.Horizontal;if(y){if(h>f-m&&u-(h-f)>c){v=e.scrollTop+(h-f)+m}if(u<c)v=e.scrollTop-(c-u)}if(x){if(p>d-g&&s-(p-d)>l){b=e.scrollLeft+(p-d)+g}if(s<l)b=e.scrollLeft-(l-s)}if(y&&v>=0)e.scrollTop=v;if(x&&b>=0)e.scrollLeft=b}t.scrollToView=E;function M(e,t){if(e==null)return null;var i=e;if(t===k.Boolean){if(typeof e!=="boolean"){if(e&&typeof e==="string"){if(e==="0"||e.toLowerCase()==="false")e=false}i=Boolean(e)}}else if(t>=k.SByte&&t<=k.UInt64){if(typeof e!=="number"){i=parseInt(e);if(isNaN(i))i=0}}else if(t>=k.Single&&t<=k.Decimal){if(typeof e!=="number"){i=parseFloat(e);if(isNaN(i))i=0}}else if(t===k.DateTime){if(!(e instanceof Date)){var n=e.toString().split(".");var r=n.length>1?n[1]:null;if(typeof e==="string"&&n[0].startsWith("@"))i=NaN;else i=new Date(Date.parse(n[0]));if(r!=null&&i instanceof Date){r=parseInt(r);if(!isNaN(r))i.setMilliseconds(r)}}}else if(t===k.Char||t===k.String){i=String(e)}return i}t.netTypeConvert=M}));define("apps/enhance/services/localization",["require","exports","aurelia-pal"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.LOCALIZED_STRINGS=void 0;i.PLATFORM.global.ClientLocalizedStrings=i.PLATFORM.global.ClientLocalizedStrings||{};t.LOCALIZED_STRINGS=i.PLATFORM.global.ClientLocalizedStrings;t.default=t.LOCALIZED_STRINGS}));define("apps/enhance/services/mark-highlights",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.markHighlights=void 0;function i(e,t){if(!e){return[{highlight:false,text:t}]}var i=e.split(" ").filter((function(e){return e.length>0})).map((function(e){var t=e.toUpperCase();var i=t.length;return{str:t,len:i}}));var n=t.toUpperCase();var r=Array.from({length:n.length});for(var o=0;o<r.length;o++){r[o]=false}var a=[];i.forEach((function(e){var t=0;var i=-1;do{i=n.indexOf(e.str,t);if(i>-1){for(var o=i;o<i+e.len;o++){r[o]=true}t=i+e.len}}while(i>-1)}));var s=false;var l=0;do{var u=l;while(r[l]===s&&l<r.length){l++}if(l>u){a.push({highlight:s,text:t.substring(u,l)})}s=r[l]}while(l<r.length);return a}t.markHighlights=i}));define("apps/enhance/services/suggestings-service",["require","exports","tslib","aurelia-framework","./api-client","./mark-highlights"],(function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SuggestingsServiceFabric=t.SuggestingsService=void 0;var a=2;var s=function(){function e(e,t){this.params=e;this.apiClient=t;this.results=new Map;this.baseQuery={args:e.args,fields:this.params.fields,filter:"",graph:this.params.graph,graphStateId:this.params.graphStateId,inlineArgs:this.params.inlineArgs,skip:0,take:this.params.pageSize,view:this.params.viewName}}e.prototype.abortRequest=function(){if(this.abortController){if(!this.abortController.signal.aborted){this.abortController.abort()}}};e.prototype.getSuggestions=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t;var n=this;return i.__generator(this,(function(r){if(!this.results.has(e)){t=i.__assign(i.__assign(i.__assign({},this.baseQuery),{filter:e}),{take:this.params.pageSize*a});return[2,this.getData(t).then((function(r){if(r.haveMore){r.loadMore=function(){if(r.loading){return}r.loading=true;var e=i.__assign(i.__assign({},t),{skip:r.suggestionItems.length,take:n.params.pageSize});n.getData(e).then((function(e){var t;r.haveMore=e.haveMore;r.totalCount=e.totalCount;(t=r.suggestionItems).push.apply(t,e.suggestionItems);r.loading=false}))}}n.results.set(e,r);return n.results.get(e)}))]}return[2,Promise.resolve(this.results.get(e))]}))}))};e.prototype.getData=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(i){this.abortRequest();this.abortController=new AbortController;return[2,this.apiClient.getSuggestionData(e,this.abortController.signal).then((function(i){if(!i.data||!i.fields){return{haveMore:false,totalCount:0,suggestionItems:[],loading:false}}var n=i.fields.findIndex((function(e){return e.toLowerCase()===t.params.valueField.toLowerCase()}));var r=i.fields.length>1&&t.params.descriptionName!==t.params.valueField?i.fields.findIndex((function(e){return e.toLowerCase()===(""+t.params.descriptionName).toLowerCase()})):-1;var a={haveMore:i.haveMore,loading:false,suggestionItems:i.data.map((function(t){var i=t[n];var a=r===-1?undefined:t[r];var s=o.markHighlights(e.filter,a?i+" - "+a:""+i);return{display:a,segments:s,value:i}})),totalCount:i.totalCount};return a}))]}))}))};return e}();t.SuggestingsService=s;var l=function(){function e(e){this.apiClient=e}e.prototype.getSuggestingService=function(e){return new s(e,this.apiClient)};e=i.__decorate([n.autoinject,i.__metadata("design:paramtypes",[r.ApiClient])],e);return e}();t.SuggestingsServiceFabric=l}));define("compatibility-layer/faux-object-factory",["require","exports","./faux-objects/base-editor","aurelia-logging","./faux-objects/text-editor","./faux-objects/faux-object","./faux-objects/calendar","./faux-objects/datetime-edit","./faux-objects/color-picker","./faux-objects/branch-selector","./faux-objects/check-box","./faux-objects/drop-down","./faux-objects/number-editor","./faux-objects/selector","./faux-objects/button","./faux-objects/screen-title","./faux-objects/tool-bar","./faux-objects/long-run"],(function(e,t,i,n,r,o,a,s,l,u,c,p,d,h,f,g,m,v){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getFauxObject=t.controlTag2FauxObjectMap=void 0;var b=n.getLogger("object-proxy");t.controlTag2FauxObjectMap={"qp-branch-selector":u.FauxObjectBranchSelector,"qp-color-picker":l.FauxObjectColorPicker,"qp-text-editor":r.FauxObjectTextEditor,"qp-number-editor":d.FauxObjectNumberEditor,"qp-calendar":a.FauxObjectCalendar,"qp-datetime-edit":s.FauxObjectDatetimeEdit,"qp-check-box":c.FauxObjectCheckBox,"qp-drop-down":p.FauxObjectDropDown,"qp-selector":h.FauxObjectSelector,"qp-workflow-diagram":i.FauxObjectBaseEditor,"qp-button":f.FauxObjectButton,"qp-screen-title":g.FauxObjectScreenTitle,"qp-tool-bar":m.FauxObjectToolBar,"qp-long-run":v.FauxObjectLongRun};var y={get:function(e,t,i){var n=Reflect.get(e,t,i);b.info("proxy get",t,n);return n},set:function(e,t,i,n){var r=Reflect.set(e,t,i,n);b.info("proxy set",t,i,r);return r}};function x(e,i,n,r){var a=e.tagName.toLowerCase();var s=t.controlTag2FauxObjectMap[a]||o.FauxObjectBase;var l=new s(e,i,n,r);return l}t.getFauxObject=x}));define("compatibility-layer/faux-objects/base-editor",["require","exports","tslib","aurelia-logging","./faux-object","aurelia-framework","aurelia-dependency-injection","apps/enhance/services/control-helper"],(function(e,t,i,n,r,o,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FauxObjectBaseEditor=void 0;var l=n.getLogger("base-editor");var u={dataField:null,enabled:true,readOnly:false,required:false,value:null};var c;(function(e){e["valueChanging"]="valueChanging";e["valueChanged"]="valueChanged"})(c||(c={}));var p=function(e){i.__extends(t,e);function t(t,i,n,o){var a=e.call(this,t,i,n)||this;a.element=t;a.screenValues=n;a.bindingEngine=o;a.enabled=true;a.readOnly=false;a.onValueChange=0;a.autoCallBack=new r.CallbackSettings;a.trackValue=false;a[r.propertySetters].set("readOnly",(function(e){return a.setReadOnly(e)}));a[r.propertySetters].set("enabled",(function(e){return a.setEnabled(e)}));a[r.propertySetters].set("value",(function(e){return a.setValue(e)}));a[r.configSetters].set("readOnly",null);a[r.configSetters].set("enabled",null);a.subscription=a.bindingEngine.propertyObserver(a.screenValues,a.ID).subscribe((function(e,t){if(a.trackValue){a.taskQueue.queueMicroTask((function(){return a.updateValue(e)}))}}));var s=a.getExternalProps();a.events.appendEvents([c.valueChanging,c.valueChanged],s?s.clientEvents:null);return a}t.prototype[r.initializeFauxObject]=function(){var t=this;e.prototype[r.initializeFauxObject].call(this);this.px_cm.setStackElements(this);this.saveTextElementRef();this.domEventsElem=new o.ElementEvents(this.element);this.domEventsElem.subscribe("input",(function(){t.px_cm.notifyOwnerTyping(t)}));this.domEventsElem.subscribe("focus",(function(){t.px_cm.notifyOwnerActivate(t)}))};t.prototype.afterInitialize=function(){var t=this;e.prototype.afterInitialize.call(this);this.taskQueue.queueTask((function(){t.value=t.getValue();t.trackValue=true}))};Object.defineProperty(t.prototype,"taskQueue",{get:function(){return a.Container.instance.get(o.TaskQueue)},enumerable:false,configurable:true});t.prototype[r.disposeFauxObject]=function(){e.prototype[r.disposeFauxObject].call(this);this.domEventsElem.disposeAll();this.subscription.dispose()};t.prototype.saveTextElementRef=function(){this.elemText=this.elemFocus=this.getTextElement();if(this.elemText)this.setObjectRef(this.elemText)};t.prototype.getDefaultCallbackProps=function(){return i.__assign(i.__assign({},e.prototype.getDefaultCallbackProps.call(this)),u)};t.prototype.updateState=function(e){};t.prototype.refreshValue=function(){var e=this.getTextElement();if(e===o.PLATFORM.global.document.activeElement){var t=document.createEvent("HTMLEvents");t.initEvent("update",true,false);e.dispatchEvent(t);this.flushMicroTaskQueue()}return false};t.prototype.updateValue=function(e){if(e===undefined)return this.refreshValue();this.updateState(e);if(!s.equals(e,this.value)){var t={oldValue:this.value,value:e};if(this.fireEvent(c.valueChanging,null,t)){this.setValue(this.value);return false}this.setValue(e);if(e===this.value){if(e!==undefined)this.flushMicroTaskQueue();this.fireEvent(c.valueChanged,null,t);this.px_cm.notifyOwnerChanged(this);this.px_cm.processPostData(this)}}return true};t.prototype.focus=function(){var e=this.getTextElement();try{e.focus()}catch(e){}};t.prototype.getTextElement=function(){return this.element.querySelector("input")};t.prototype.setVisible=function(t){e.prototype.setVisible.call(this,t);this.px_cm.setStackElementsVisible(this,t)};t.prototype.getEnabled=function(){return this[r.configRef].enabled};t.prototype.setEnabled=function(e){this.enabled=this[r.configRef].enabled=!!e};t.prototype.getReadOnly=function(){return this[r.configRef].readOnly};t.prototype.setReadOnly=function(e){this.readOnly=this[r.configRef].readOnly=!!e};t.prototype.getValue=function(e){if(e===void 0){e=undefined}if(e)this.refreshValue();return this.screenValues[this[r.configRef].id]};t.prototype.setValue=function(e){var t=this;var i=this.trackValue;this.trackValue=false;this.screenValues[this[r.configRef].id]=e;this.value=e;if(i)setTimeout((function(){return t.trackValue=i}),0)};t.prototype.initStateBag=function(e){this.stateBag=this.px.topWin().Object.create(this.px.topWin().PXStateBag.prototype);this.stateBag.constructor(this,"PText")};t.prototype.flushMicroTaskQueue=function(){var e=a.Container.instance.get(o.TaskQueue);if(e)e.flushMicroTaskQueue()};return t}(r.FauxObjectBase);t.FauxObjectBaseEditor=p}));define("compatibility-layer/faux-objects/branch-selector",["require","exports","tslib","./base-editor","./faux-object"],(function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FauxObjectBranchSelector=void 0;var o=function(e){i.__extends(t,e);function t(t,i,n,o){var a=e.call(this,t,i,n,o)||this;a.autoCallBack=new r.CallbackSettings;a[r.propertySetters].set("branchName",(function(e){return false}));a[r.configSetters].set("value",(function(e){return a.setValue(e)}));return a}t.prototype[r.initializeFauxObject]=function(){e.prototype[r.initializeFauxObject].call(this);this.elemWrapper=this.element.querySelector(".editor");this.elemText=this.element.querySelector("input")};t.prototype[r.disposeFauxObject]=function(){e.prototype[r.disposeFauxObject].call(this)};t.prototype.setValue=function(t){if(t instanceof Object){e.prototype.setValue.call(this,t)}else{if(this.screenValues[this[r.configRef].id]instanceof Object&&this.screenValues[this[r.configRef].id].id===t){return}var i={id:t,text:"no branch name"};e.prototype.setValue.call(this,i)}};t.prototype.getValue=function(t){var i;e.prototype.getValue.call(this,t);return(i=this.screenValues[this[r.configRef].id])===null||i===void 0?void 0:i.id};t.prototype.setProperties=function(t){var n=t.branchName,r=t.value,o=i.__rest(t,["branchName","value"]);if(n&&r){o.value={id:r,text:n};e.prototype.setProperties.call(this,o)}else{e.prototype.setProperties.call(this,t)}};t.prototype.copyPropertiesToConfig=function(t){var n=t.branchName,r=t.value,o=i.__rest(t,["branchName","value"]);if(n&&r){o.value={id:r,text:n};e.prototype.copyPropertiesToConfig.call(this,o)}else{e.prototype.copyPropertiesToConfig.call(this,t)}};return t}(n.FauxObjectBaseEditor);t.FauxObjectBranchSelector=o}));define("compatibility-layer/faux-objects/button",["require","exports","tslib","aurelia-pal","./faux-object","aurelia-framework","aurelia-logging"],(function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FauxObjectMenu=t.FauxObjectButton=void 0;var s=a.getLogger("button__faux-object");var l={hidden:false,enabled:true,queryString:""};var u=function(e){i.__extends(t,e);function t(t,i,n){var o=e.call(this,t,i,n)||this;o.enabled=true;o.readOnly=false;o.commandState=null;o.autoCallBack=new r.CallbackSettings;o.popupCommand=new r.CallbackSettings;o.syncText=true;o.syncVisible=true;o.labelWrapper=undefined;o.hideEnterKey=true;o.collectParams=0;o.openFrameset=false;o.navigateUrl="";o.popupPanel="";o.dependOnGrid=undefined;o.stateColumn=undefined;o.linkedGrid=undefined;o.sourceName=i.name;o[r.propertySetters].set("enabled",(function(e){return o.setEnabled(e)}));var a=o.getExternalProps();o.events.appendEvents(["click","mouseUp"],a?a.clientEvents:null);return o}t.prototype[r.initializeFauxObject]=function(){var t=this;e.prototype[r.initializeFauxObject].call(this);this.px_cm.setStackElements(this);this.px_cm.registerCommandExecutor(this);this.domEvents=new o.ElementEvents(this.element);this.domEvents.subscribe("mouseup",(function(e){if(t.fireEvent("mouseUp",e,{})){t.px.cancelEvent(e);return}}));this.elemButton=this.element.querySelector("button");if(this.elemButton)this.setObjectRef(this.elemButton);if(this.dependOnGrid){var i=this.linkedGrid=this.px_all[this.dependOnGrid];if(i){this.setEnabled(this.getEnabledState(null));var n=function(e,i){if(t.linkedGrid===e)t.setEnabled(t.getEnabledState(null))};i.events.addEventHandler("afterRepaint",n);i.events.addEventHandler("afterRepaintRow",n)}}this.domEvents.subscribe("buttonpressed",(function(e){var i=e.detail.event;if(t[r.configRef].toggleMode){t.setPushed(e.detail.value)}if(t.fireEvent("click",i,{})){t.px.cancelEvent(i);return}if(t.getEnabled()){if(e.detail.isMenuItem){t.execMenu(i,i.detail)}else{t.exec(i,undefined)}}}))};t.prototype[r.disposeFauxObject]=function(){e.prototype[r.disposeFauxObject].call(this)};t.prototype.getDefaultCallbackProps=function(){return l};t.prototype.commandStateCallback=function(e,t){this.setEnabled(this.getEnabledState(e));if(this.syncVisible)this.setVisible(e.getVisible());var i=e.getDisplayName();if(i!=null){var n=i.indexOf("action")===0;if(!n&&this.syncText)this.setText(i)}var r=e.getTooltip();if(r!=null)this.setTooltip(r)};t.prototype.focus=function(){var e;try{(e=this.elemButton)===null||e===void 0?void 0:e.focus()}catch(e){}};t.prototype.getMenu=function(){return this._dropMenu};t.prototype.initMenu=function(e,t,i){this._dropMenu=new c(e,this,t.options,i);this.px_all[e]=this._dropMenu};t.prototype.setText=function(e){this[r.configRef].text=e};t.prototype.getText=function(){return this[r.configRef].text};t.prototype.setTooltip=function(e){this[r.configRef].toolTip=e};Object.defineProperty(t.prototype,"dialogResult",{get:function(){return this[r.configRef].dialogResult},set:function(e){this[r.configRef].dialogResult=e},enumerable:false,configurable:true});t.prototype.setHidden=function(e){this.setVisible(!e)};t.prototype.setVisible=function(t){e.prototype.setVisible.call(this,t);this.px_cm.setStackElementsVisible(this,t)};t.prototype.getVisible=function(){return!this.hidden};t.prototype.getEnabled=function(){return this[r.configRef].enabled};t.prototype.setEnabled=function(e){if(e&&this.commandState){this.enabled=this[r.configRef].enabled=!!this.getEnabledState(null)}else this.enabled=this[r.configRef].enabled=!!e};t.prototype.setPushed=function(e){var t=this[r.configRef];var i=this.screenValues[this[r.configRef].id];if(t.toggleMode&&e!==i){this.screenValues[this[r.configRef].id]=e}};t.prototype.getPushed=function(){return!!this.screenValues[this[r.configRef].id]};t.prototype.execMenu=function(e,t){var i;var r=n.PLATFORM.global["_"+this.ID+"_menu"];if(!r)return;var o=t.value.command;var a;for(var s in r.items){var l=r.items[s];if(((i=l.autoCallBack)===null||i===void 0?void 0:i.command)===o){a=l;break}}if(!a)return;a.autoCallBack.enabled=t.value.enabled;a.isMenuItem=true;a.ID=this.ID;this.exec(e,a)};t.prototype.exec=function(e,t){if(t===void 0){t=undefined}t=t||this;var i=t.autoCallBack;var n=t.isMenuItem?t:this;var r={cancelPostBack:false,eventArgs:null};var o=t.commandSourceID;if(!o&&this.owner)o=this.owner.commandSourceID;if(t.navigateUrl){if(!r.cancelPostBack){var a=t.queryString;var s=a?t.navigateUrl+"?"+a:t.navigateUrl;if(n.popupPanel){var l=n.px_all[n.popupPanel];if(l.getVisible()&&s===l.getPageUrl()){l.hide()}else{l.setPageUrl(s);l.show(n)}}else{var u=e&&(e.shiftKey||e.ctrlKey);this.px.openUrl(s,t.target,u||t.openFrameset)}}}else if(t.autoPostBack){if(!r.cancelPostBack&&e&&e.target){this.px.doPost(e.target.getAttribute("name"),"click")}}else if(i&&i.enabled&&i.command){var c=i.target&&this.px_all[i.target];if(c&&c.__className==="PXBaseDataSource"){c.callbackFromUI=true}if(!r.cancelCallBack)this.px_callback.exec(n,n.autoCallBack,n.popupCommand)}else if(o&&t.commandName){var p=this.px_all[o];if(p&&p.executeCommand){p.sourceEvent=e;if(p.__className==="PXBaseDataSource"){p.callbackFromUI=true}if(t.commandName){p.executeCommand(t.commandName,t.commandArgument,n.popupCommand)}}}if(n.popupPanel&&!t.autoPostBack&&!t.navigateUrl){var l=this.px_all[n.popupPanel];if(l){if(!l.getVisible()){l.closeCallback=n.popupCommand;l.show(n)}else l.hide()}}};t.prototype.getEnabledState=function(e){if(e!=null)this.commandState=e;var t=this.commandState!=null?this.commandState.getEnabled():null;if(this.linkedGrid&&(t==null||t===true)){var i=this.linkedGrid.activeRow;var n=this.linkedGrid.rows.length>0;if(this.stateColumn&&i){var r=i.getCell(this.stateColumn);if(r)n=Boolean(r.getValue())}t=n}return t};return t}(r.FauxObjectBase);t.FauxObjectButton=u;var c=function(){function e(e,t,i,n){this.ID=e;this.owner=t;this[r.configRef]=i;this.readProperties(this,n)}e.prototype.getItems=function(){return this[r.configRef]};e.prototype.setProperties=function(e){return this._readItemsProps(this[r.configRef],e?e.items:null)};e.prototype.readProperties=function(e,t){var i,n;for(var o in t){var a=e[o];var s=t[o];var l=(i={},i[o]=s,i);if(o==="items"){this._readItemsProps(this[r.configRef],s)}else if(a!=null&&typeof a==="object"){if(a instanceof Date){l=(n={},n[o]=new Date(Date.parse(s)),n);Object.assign(e,l)}else if(a instanceof Array){Object.assign(e,l)}else this.readProperties(a,s)}else if(typeof a==="boolean"){e[o]=!!s}else Object.assign(e,l)}};e.prototype._readItemsProps=function(t,n){for(var r=0;r<t.length;r++){var o=t[r];if(o&&o.value){var a=n?n["i"+r]:{};var s=i.__assign(i.__assign({},e.defaultProperties),a);this.readProperties(o.value,s);if(o.value.hasChild)this._readItemsProps(o.value.childItems,n)}}};e.defaultProperties={enabled:true,visible:true};return e}();t.FauxObjectMenu=c}));define("compatibility-layer/faux-objects/calendar",["require","exports","tslib","./faux-object","aurelia-framework"],(function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FauxObjectCalendar=void 0;var o=function(e){i.__extends(t,e);function t(t,i,n){return e.call(this,t,i,n)||this}t.prototype[n.initializeFauxObject]=function(){var t=this;e.prototype[n.initializeFauxObject].call(this);var i=this.element;this.domEvents=new r.ElementEvents(i);this.domEvents.subscribe("valuechanged",(function(){px_cm.notifyOwnerChanged(t);px_cm.processPostData(t)}))};t.prototype[n.disposeFauxObject]=function(){e.prototype[n.disposeFauxObject].call(this);this.domEvents.disposeAll()};return t}(n.FauxObjectBase);t.FauxObjectCalendar=o}));define("compatibility-layer/faux-objects/check-box",["require","exports","tslib","./faux-object","./base-editor","aurelia-logging"],(function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FauxObjectCheckBox=void 0;var a=o.getLogger("check-box__faux-object");var s=function(e){i.__extends(t,e);function t(t,i,n,r){return e.call(this,t,i,n,r)||this}t.prototype[n.initializeFauxObject]=function(){e.prototype[n.initializeFauxObject].call(this);this.elemText=this.element.querySelector("input")};t.prototype.setValue=function(t){if(typeof t==="string"){if(t.toLowerCase()===this[n.configRef].trueValue.toLowerCase()){return e.prototype.setValue.call(this,true)}else return e.prototype.setValue.call(this,false)}e.prototype.setValue.call(this,t)};t.prototype[n.disposeFauxObject]=function(){e.prototype[n.disposeFauxObject].call(this)};t.prototype.refreshValue=function(){return false};t.prototype.getChecked=function(){return this.getValue()!=0};t.prototype.setChecked=function(e){e?this.setValue(1):this.setValue(0)};return t}(r.FauxObjectBaseEditor);t.FauxObjectCheckBox=s}));define("compatibility-layer/faux-objects/color-picker",["require","exports","tslib","aurelia-framework","./faux-object","./base-editor","aurelia-logging"],(function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FauxObjectColorPicker=void 0;var s=a.getLogger("faux-color-picker");var l=function(e){i.__extends(t,e);function t(t,i,n,r){return e.call(this,t,i,n,r)||this}t.prototype[r.initializeFauxObject]=function(){var t=this;e.prototype[r.initializeFauxObject].call(this);var i=this.element.querySelector("input[type=color]");if(i){this.domEventsColor=new n.ElementEvents(i);this.domEventsColor.subscribe("blur",(function(){t.taskQueue.flushTaskQueue()}))}};t.prototype.getTextElement=function(){return this.element.querySelector("input[type=text]")};t.prototype[r.disposeFauxObject]=function(){e.prototype[r.disposeFauxObject].call(this);if(this.domEventsColor){this.domEventsColor.disposeAll()}};return t}(o.FauxObjectBaseEditor);t.FauxObjectColorPicker=l}));define("compatibility-layer/faux-objects/datetime-edit",["require","exports","tslib","./faux-object","./base-editor","apps/enhance/controls/qp-datetime-edit","aurelia-framework","apps/enhance/services/control-helper","aurelia-logging"],(function(e,t,i,n,r,o,a,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FauxObjectDatetimeEdit=void 0;var u=l.getLogger("date-time__faux-object");var c=function(e){i.__extends(t,e);function t(t,i,r,o){var a=e.call(this,t,i,r,o)||this;a.onValueChange=0;a.allowStrings=false;a.durationMode=false;a.allowCustomItems=false;a[n.configSetters].set("editMask",null);a[n.configSetters].set("displayMask",null);a[n.configSetters].set("nullText",null);a[n.configSetters].set("allowNull",null);a[n.configSetters].set("allowCustomItems",null);a[n.configSetters].set("minValue",(function(e){return a.setMinValue(e)}));a[n.configSetters].set("maxValue",(function(e){return a.setMaxValue(e)}));a[n.configSetters].set("timeMode",null);return a}t.prototype[n.initializeFauxObject]=function(){var t=this;e.prototype[n.initializeFauxObject].call(this);var i=this.elemText=this.element.querySelector("input");this.domEvents=new a.ElementEvents(this.element);this.domEvents.subscribe("paste",(function(){px_cm.notifyOwnerTyping(t)}));this.domEvents.subscribe("usertyping",(function(){px_cm.notifyOwnerTyping(t)}));this.domEvents.subscribe("activated",(function(){px_cm.notifyOwnerActivate(t)}))};t.prototype.setMinValue=function(e){try{this[n.configRef].minValue=new Date(e)}catch(i){var t=this._parseStringValue(e);if(!(t instanceof Date))t=new Date(o.MIN_YEAR,0,1);this[n.configRef].minValue=t}};t.prototype.setMaxValue=function(e){try{this[n.configRef].maxValue=new Date(e)}catch(i){var t=this._parseStringValue(e);if(!(t instanceof Date))t=new Date(o.MAX_YEAR,o.MONTHS_IN_YEAR-1,o.MAX_DAYS_IN_MONTH);this[n.configRef].minValue=t}};t.prototype.setValue=function(t){var i=typeof t==="string"?this._parseStringValue(t):t;var n=i&&i.constructor.name==="Date"?i:null;if(this.allowCustomItems)this.allowStrings=true;if(this.allowCustomItems||t==null||n&&!isNaN(n.getTime())&&s.equals(this._ajustLimits(n),n)){e.prototype.setValue.call(this,i)}};t.prototype.setSize=function(e,t){this[n.configRef].width=e;return};t.prototype[n.disposeFauxObject]=function(){e.prototype[n.disposeFauxObject].call(this);this.domEvents.disposeAll()};t.prototype.setTimeMode=function(e){var t=this[n.configRef];t.timeMode=e};t.prototype.setDateMask=function(e,t){var i=this[n.configRef];i.editMask=e;i.displayMask=t};t.prototype._parseStringValue=function(e){var t=this[n.configRef];var i=null;if(e==null||this.isNullValue(e)){if(t.allowNull)return null;i=new Date}else{if(t.timeMode||e.indexOf(":")>0){var r=Date.parse(e);if(!isNaN(r))i=new Date(r)}else{var o=e.split("/");if(o.length>=3){var a=parseInt(o[2]);var s=parseInt(o[0]);var l=parseInt(o[1]);if(!isNaN(a)&&!isNaN(s)&&!isNaN(l)){i=new Date(a,s-1,l);i.setFullYear(a,s-1,l)}}}}if(t.timeMode&&i instanceof Date&&!isNaN(i.getTime())){i.setFullYear(t.minValue.getFullYear());i.setMonth(0);if(!this.durationMode)i.setDate(1)}if(t.allowCustomItems&&(i==null||isNaN(i.getTime())))return e;return i};t.prototype.isNullValue=function(e){var t=this[n.configRef];var i=String(e);if(e===undefined||i==="")return true;if(t.allowNull&&i===t.nullText)return true;return false};t.prototype._ajustLimits=function(e){var t=this[n.configRef];if(!t.timeMode&&!this.allowCustomItems&&e!=null&&!isNaN(e.getTime())){var i=e.getTime();var r=void 0;var o=void 0;if(t.minValue!=null)r=t.minValue.getTime();if(t.maxValue!=null)o=t.maxValue.getTime();if(r!==undefined&&i<r){e=new Date(r)}if(o!==undefined&&i>o){e=new Date(o)}}return e};return t}(r.FauxObjectBaseEditor);t.FauxObjectDatetimeEdit=c}));define("compatibility-layer/faux-objects/drop-down",["require","exports","tslib","./faux-object","./base-editor","apps/enhance/services/control-helper","apps/enhance/controls/qp-drop-down","aurelia-logging"],(function(e,t,i,n,r,o,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FauxObjectDropDown=void 0;var l=s.getLogger("drop-down__faux-object");var u=0;var c=1;var p=2;var d=3;var h=function(e){i.__extends(t,e);function t(t,i,r,o){var a=e.call(this,t,i,r,o)||this;a.compareItems=function(e,t){if(e.value!==t.value)return false;if(e.text!==t.text)return false;if(e.imageURL!==t.imageURL)return false;var i=e.enabled==null?true:e.enabled;var n=t.enabled==null?true:t.enabled;if(Boolean(i)!==Boolean(n))return false;return true};if(!i.options||!i.options.length){i.options=[]}a.__className="PXDropDown";a[n.propertySetters].set("items",(function(e){return a.setItems(e)}));a.initStateBag("PText");t.style.zIndex=null;return a}t.prototype[n.initializeFauxObject]=function(){e.prototype[n.initializeFauxObject].call(this);this.elemText=this.element.querySelector("input");this.updateState(this.getValue())};t.prototype.updateState=function(e){this.stateBag.update("Value",e!=null?e:"")};t.prototype.setValue=function(t){var i=this[n.configRef];if(!i.allowMultiSelect&&!i.allowNull&&!i.allowEdit&&i.options){if(!i.options.find((function(e){return e.value==t})))return}var r=o.netTypeConvert(t,i.valueType);e.prototype.setValue.call(this,r);this.updateState(r)};t.prototype.getValue=function(t){if(t===void 0){t=undefined}var i=e.prototype.getValue.call(this,t);if(i==null){return null}return i};t.prototype[n.disposeFauxObject]=function(){e.prototype[n.disposeFauxObject].call(this)};t.prototype.refreshValue=function(){return false};t.prototype.setAllowNull=function(e){this[n.configRef].allowNull=e};t.prototype.setAllowEdit=function(e){this[n.configRef].allowEdit=e};t.prototype.setAllowMultiSelect=function(e){this[n.configRef].allowMultiSelect=e};t.prototype.initInlineEditor=function(e){var t=this[n.configRef];var i=e[n.configRef];t.allowMultiSelect=i.allowMultiSelect;t.options.splice(0,t.options.length);for(var r=0,o=i.options;r<o.length;r++){var s=o[r];var l=new a.DDElement;l.value=s.value;l.text=s.text;t.options.push(l)}};t.prototype.getDisplayText=function(e){var t=this[n.configRef];var i;if(typeof e==="string")i=e.split(",");else if(e!=null)i=[e];else i=[];var r="";i.forEach((function(e){var i=t.options.find((function(i,n){if(o.netTypeConvert(i.value,t.valueType)===e){i.selected=true;return true}return false}));if(i){if(r)r+=", ";r+=i.text}}));return r};t.prototype.addItemByValues=function(e,t,i,n){var r=new a.DDElement;r.value=e;r.text=t;r.enabled=i==null?true:i;r.imageUrl=n==null?"":n;return this.addItem(r)};t.prototype.removeItem=function(e){var t=this[n.configRef].options;var i=this.findItemByValue(e);if(i!=null){var r=t[i].value;t.splice(i,1);if(r===e){if(i>=t.length)i=t.length-1;if(i>=0)r=t[i].value;else r=null;this.updateValue(r)}}};t.prototype.parseItem=function(e,t){var i="|";var n=t.split(i);e.value=n.length>u?n[u]:"";e.text=n.length>c?n[c]:e.value;e.enabled=n.length>p?Boolean(n[p]):true;e.imageUrl=n.length>d?n[d]:""};t.prototype.setProperties=function(t){var n=i.__assign(i.__assign({},this.getDefaultCallbackProps()),t);if(n.hasOwnProperty("items")){this.setItems(n["items"]);delete n["items"]}return e.prototype.setProperties.call(this,n)};t.prototype.setItems=function(e){var t;var r=false;var o=this[n.configRef];var s=undefined;if(typeof e==="string"){var l=e.split(";");s=new Array(l.length);for(var u=0;u<l.length;u++){s[u]=new a.DDElement;this.parseItem(s[u],l[u])}if(o.options!=null&&o.options.length===s.length){for(var c=0;c<s.length;c++){if(!this.compareItems(o.options[c],s[c])){r=true;break}}}else r=true}else if(e&&e.constructor.name==="Array"){r=true;s=new Array;for(var p=0,d=e;p<d.length;p++){var h=d[p];if(h.value==null)continue;h.value=h.value.toString();s.push(h)}}else if(e==null){r=true;s=new Array}if(r&&s){(t=o.options).splice.apply(t,i.__spreadArrays([0,o.options.length],s));this.items=s;var f=this.getValue();if(o.allowEdit||this.findItemByValue(f)!=null)this.setValue(f);else if(o.allowNull)this.setValue(null);else this.setValue(s[0].value)}};t.prototype.findItemByValue=function(e){var t=this[n.configRef].options;if(t!=null){var i=0;for(;i<t.length;i++){var r=t[i];if(r.value==e){break}}if(i<t.length)return i}return null};t.prototype.addItem=function(e){var t=this[n.configRef].options;var i=this.findItemByValue(e.value);var r=true;if(i!=null){r=!this.compareItems(t[i],e);t[i]=e}else{i=t.length;t[i]=e}return i};return t}(r.FauxObjectBaseEditor);t.FauxObjectDropDown=h}));define("compatibility-layer/faux-objects/faux-object",["require","exports","tslib","aurelia-logging","aurelia-pal"],(function(require,exports,tslib_1,aurelia_logging_1,aurelia_pal_1){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CallbackCommand=exports.CallbackSettings=exports.CommandState=exports.FauxObjectEventsList=exports.FauxObjectBase=exports.propertySetters=exports.configSetters=exports.configRef=exports.disposeFauxObject=exports.initializeFauxObject=void 0;var logger=aurelia_logging_1.getLogger("faux-object");exports.initializeFauxObject=Symbol("initializeFauxObject");exports.disposeFauxObject=Symbol("disposeFauxObject");exports.configRef=Symbol("configRef");exports.configSetters=Symbol("configSetters");exports.propertySetters=Symbol("propertySetters");var defaultCallbackProperties={hidden:false};var FauxObjectBase=function(){function e(t,i,n){var r=this;this.element=t;this.screenValues=n;this.hidden=false;if(!i.id){logger.error("config without id");throw"wrong config"}this[exports.configRef]=i;this.ID=i.id;this.name=i.name;this.px_context=px_context;this.tabIndex=this[exports.configRef].tabIndex;var o=2;if(i.propsTemplate)this.__className=i.propsTemplate.substring(o);this.sourceID=t.getAttribute("source-id");this[exports.propertySetters]=new Map([["hidden",function(e){return r.setHidden(e)}]]);this[exports.configSetters]=new Map([["hidden",null]]);var a=this.getExternalProps();this.events=new FauxObjectEventsList(this,[e.initEventName],a?a.clientEvents:null)}Object.defineProperty(e.prototype,"px_cm",{get:function(){return px_cm},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"px",{get:function(){return this.px_context.px},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"px_all",{get:function(){return this.px_context.px_all},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"px_callback",{get:function(){return this.px_context.px_callback},enumerable:false,configurable:true});e.prototype.getTemplateProps=function(){return window[this[exports.configRef].propsTemplate]};e.prototype.getExternalProps=function(){var e=this.sourceID?this.sourceID:this.ID;var t=window["_"+e];return t?t:{}};e.prototype.fireEvent=function(e,t,i){if(t===void 0){t=null}if(i===void 0){i=null}return this.events.fireEvent(e,t,i)};e.prototype[exports.initializeFauxObject]=function(){var t=tslib_1.__assign(tslib_1.__assign({},this.getTemplateProps()),this.getExternalProps());this.readProperties(this,t);this.copyPropertiesToConfig(t);this.px_all[this.ID]=this;var i=this.ID.split("_").pop();if(i)px_context.px_alls[i]=this;if(this.bindingContainer)px_cm.notifyOwnerCreated(this);if(this.tabIndex>=0)this.px_cm.tabIndexer.push(this);this.fireEvent(e.initEventName)};e.prototype[exports.disposeFauxObject]=function(){return};e.prototype.destructor=function(){this[exports.disposeFauxObject]()};e.prototype.afterInitialize=function(){return};e.prototype.setObjectRef=function(e){e.object=this};e.prototype.setHidden=function(e){this.setVisible(!e)};e.prototype.setVisible=function(e){this.hidden=this[exports.configRef].hidden=!e};e.prototype.getVisible=function(){return!this.hidden};e.prototype.getDefaultCallbackProps=function(){return defaultCallbackProperties};e.prototype.setProperties=function(e){var t;var i=tslib_1.__assign(tslib_1.__assign({},this.getDefaultCallbackProps()),e);var n=this[exports.propertySetters];var r=this[exports.configRef];for(var o in i){var a=n.get(o);if(a){a(i[o])}else{var s=(t={},t[o]=i[o],t);Object.assign(this,s);if(this[exports.configSetters].has(o)){var l=this[exports.configSetters].get(o);if(l){l(i[o])}else{Object.assign(r,s)}}}}};e.prototype.readProperties=function(e,t){var i,n;for(var r in t){var o=e[r];var a=t[r];var s=(i={},i[r]=a,i);if(o!=null&&typeof o==="object"){if(o instanceof Date){s=(n={},n[r]=new Date(Date.parse(a)),n);Object.assign(e,s)}else if(o instanceof Array){Object.assign(e,s)}else this.readProperties(o,a)}else if(typeof o==="boolean"){e[r]=!!a}else Object.assign(e,s)}};e.prototype.copyPropertiesToConfig=function(e){var t;var i=this[exports.configRef];for(var n in e){if(!this[exports.configSetters].has(n))continue;var r=this[exports.configSetters].get(n);if(r){r(e[n])}else{Object.assign(i,(t={},t[n]=e[n],t))}}};e.initEventName="initialize";return e}();exports.FauxObjectBase=FauxObjectBase;var FauxObjectEventsList=function(){function FauxObjectEventsList(e,t,i){this.owner=e;this.events=new Object;this.handlers=new Object;this.count=0;this.appendEvents(t,i)}FauxObjectEventsList.prototype.dispose=function(){delete this.owner;delete this.handlers;delete this.events};FauxObjectEventsList.prototype.appendEvents=function(events,handlers){if(events==null)return;for(var _i=0,events_1=events;_i<events_1.length;_i++){var name_1=events_1[_i];this.events[name_1]=this.count++}if(handlers==null)return;for(var hn in handlers){if(this.events.hasOwnProperty(hn)){var hlist=handlers[hn].startsWith("(")?[handlers[hn]]:handlers[hn].split(",");for(var _a=0,hlist_1=hlist;_a<hlist_1.length;_a++){var handler=hlist_1[_a];var hf=void 0;var win=aurelia_pal_1.PLATFORM.global;try{hf=win[handler]}catch(e){}try{hf=eval(handler)}catch(e){}if(hf)this.addEventHandler(hn,hf)}}}};FauxObjectEventsList.prototype.addEventHandler=function(e,t){var i=this.events[e];if(i==null||i<0)return;var n=this.handlers[i];if(n==null)n=this.handlers[i]=[];for(var r=0;r<=n.length;r++){if(n[r]==null){n[r]=new Object;n[r].func=t;break}else if(n[r].func===t)break}};FauxObjectEventsList.prototype.removeEventHandler=function(e,t){var i=this.events[e];if(i==null||i<0||i>=this.count)return;var n=this.handlers[i];if(n==null)return;for(var r in n){if(n[r]!=null&&n[r].func===t){delete n[r];n[r]=null;return}}};FauxObjectEventsList.prototype.fireEvent=function(e,t,i){var n=this.events[e];var r=this.initializeEvent(n,t,i);var o=this.handlers[n];var a=o==null?0:o.length;if(a===0)return false;var s=false;try{while(a-- >0){if(o[a]==null)continue;o[a].func(this.owner,r);if(r.cancel)s=true}}catch(e){}return s};FauxObjectEventsList.prototype.initializeEvent=function(e,t,i){this.eventArgs=new Object;this.eventArgs.event=t;this.eventArgs.id=e;this.eventArgs.srcElement=this.owner.element;this.eventArgs.srcArgs=i;if(i!=null)for(var n in i)this.eventArgs[n]=i[n];return this.eventArgs};return FauxObjectEventsList}();exports.FauxObjectEventsList=FauxObjectEventsList;var CommandState=function(){function e(){this._visible=true;this._enabled=true;this._displayName=null;this._tooltip=null}e.prototype.getEnabled=function(){return this._enabled};e.prototype.setEnabled=function(e){this._enabled=e};e.prototype.getVisible=function(){return this._visible};e.prototype.setVisible=function(e){this._visible=e};e.prototype.getDisplayName=function(){return this._displayName};e.prototype.setDisplayName=function(e){this._displayName=e};e.prototype.getTooltip=function(){return this._tooltip};e.prototype.setTooltip=function(e){this._tooltip=e};return e}();exports.CommandState=CommandState;var CallbackSettings=function(){function e(){this.enabled=true;this.activeBehavior=false;this.suppressOnReload=false;this.fromUIOnly=false;this.behavior=new CallbackCommand}return e}();exports.CallbackSettings=CallbackSettings;var CallbackCommand=function(){function e(){this.blockPage=false;this.repaintControls=0;this.commitChanges=false;this.postData=1;this.postDataControls=true;this.closePopup=false;this.hideText=false;this.optimizePostData=true;this.popupCheckSave=true;this.showProcessInfo=false}return e}();exports.CallbackCommand=CallbackCommand}));define("compatibility-layer/faux-objects/long-run",["require","exports","tslib","./faux-object","aurelia-logging","aurelia-framework"],(function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FauxObjectLongRun=void 0;var a=r.getLogger("long-run__faux-object");var s=function(e){i.__extends(t,e);function t(t,i,n){var r=e.call(this,t,i,n)||this;r.spin=new u(r);r.time=new c(r);return r}t.prototype[n.initializeFauxObject]=function(){var t=this;e.prototype[n.initializeFauxObject].call(this);this.domEvents=new o.ElementEvents(this.element);this.domEvents.subscribe("cancel-long-run",(function(e){a.debug("cancel-long-run",e.detail);t.cancelLongRun(e.detail.event)}))};t.prototype.cancelLongRun=function(e){var t=this.ID.substr(0,this.ID.length-"_LongRun".length);var i=this.px_all[t];i.sourceEvent=e;i.executeCommand("LongRun")};return t}(n.FauxObjectBase);t.FauxObjectLongRun=s;var l=function(){function e(e){this.parent=e}Object.defineProperty(e.prototype,"element",{get:function(){return this},enumerable:false,configurable:true});e.prototype.setAttribute=function(e,t){switch(e){case"error":this.error=t;break;case"status":switch(t){case"completed":case"aborted":case"inprocess":this.parent[n.configRef].status=t;break;default:a.error("WRONG LongRun status value: ",t)}break;default:a.error("WRONG LongRun attribute assignment: ",e," - ",t)}};e.prototype.removeAttribute=function(e){return this.setAttribute(e)};e.prototype.setVisible=function(e){this.parent[n.configRef].hidden=!e};e.prototype.setText=function(e){this.parent[n.configRef].longRunCompleted=e};e.prototype.setTooltip=function(e){this.parent[n.configRef].longRunMessage=e};e.prototype.setEnabled=function(e){this.parent[n.configRef].enabled=e};return e}();var u=function(e){i.__extends(t,e);function t(t){var i=e.call(this,t)||this;i.parent=t;return i}t.prototype.setVisible=function(e){this.parent[n.configRef].spinHidden=!e};return t}(l);var c=function(e){i.__extends(t,e);function t(t){var i=e.call(this,t)||this;i.parent=t;return i}return t}(l)}));define("compatibility-layer/faux-objects/number-editor",["require","exports","tslib","./text-editor","./faux-object"],(function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FauxObjectNumberEditor=void 0;var o=function(e){i.__extends(t,e);function t(t,i,n,o){var a=e.call(this,t,i,n,o)||this;a.decimals=0;a[r.configSetters].set("decimals",null);a[r.configSetters].set("minValue",null);a[r.configSetters].set("maxValue",null);a[r.configSetters].set("valueType",null);a[r.configSetters].set("editFormat",null);a[r.configSetters].set("displayFormat",null);return a}t.prototype.initInlineEditor=function(e){this.setDecimals(e.getDecimals());this.setMaxValue(e.getMaxValue());this.setMinValue(e.getMinValue())};t.prototype.setValue=function(t){if(!isNaN(t))e.prototype.setValue.call(this,t)};t.prototype.getDecimals=function(e){return this[r.configRef].decimals};t.prototype.setDecimals=function(e){this[r.configRef].decimals=this.decimals=e};t.prototype.getMinValue=function(e){return this[r.configRef].minValue};t.prototype.setMinValue=function(e){this[r.configRef].minValue=e};t.prototype.getMaxValue=function(e){return this[r.configRef].maxValue};t.prototype.setMaxValue=function(e){this[r.configRef].maxValue=e};return t}(n.FauxObjectTextEditor);t.FauxObjectNumberEditor=o}));define("compatibility-layer/faux-objects/screen-title",["require","exports","tslib","./faux-object","./base-editor","aurelia-logging"],(function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FauxObjectScreenTitle=void 0;var a=o.getLogger("screen-title__faux-object");var s=function(e){i.__extends(t,e);function t(t,i,r,o){var a=e.call(this,t,i,r,o)||this;a[n.propertySetters].set("value",(function(e){if(e){var t=JSON.parse(e);t.caption=decodeURIComponent(t.caption);t.title=decodeURIComponent(t.title);t.isFavorite=t.isFavorite=="True";t.isFavoritable=t.isFavoritable=="True";t.hasCaption=t.hasCaption=="True";if(t.Tooltip){t.AddToFavorites=t.Tooltip.AddToFavorites;t.RemoveFromFavorites=t.Tooltip.RemoveFromFavorites}a.setValue(t)}}));return a}return t}(r.FauxObjectBaseEditor);t.FauxObjectScreenTitle=s}));define("compatibility-layer/faux-objects/selector",["require","exports","tslib","./base-editor","./faux-object"],(function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FauxObjectSelector=void 0;var o=function(e){i.__extends(t,e);function t(t,i,n,o){var a=e.call(this,t,i,n,o)||this;a.autoCallBack=new r.CallbackSettings;a[r.propertySetters].set("hintText",(function(e){return false}));a[r.configSetters].set("value",(function(e){return a.setValue(e)}));a.initStateBag("PXSelector");return a}t.prototype[r.initializeFauxObject]=function(){e.prototype[r.initializeFauxObject].call(this)};t.prototype[r.disposeFauxObject]=function(){e.prototype[r.disposeFauxObject].call(this)};t.prototype.updateState=function(e){this.stateBag.update("Value",e.id)};t.prototype.setValue=function(t){if(t instanceof Object){e.prototype.setValue.call(this,t)}else{if(this.screenValues[this[r.configRef].id]instanceof Object&&this.screenValues[this[r.configRef].id].id===t){return}var i={id:t,text:"no branch name"};e.prototype.setValue.call(this,i)}};t.prototype.setProperties=function(t){var n=t.hintText,r=t.value,o=i.__rest(t,["hintText","value"]);if(n&&r){o.value={id:r,text:n};e.prototype.setProperties.call(this,o)}else{e.prototype.setProperties.call(this,t)}};t.prototype.copyPropertiesToConfig=function(t){var n=t.hintText,r=t.value,o=i.__rest(t,["hintText","value"]);if(n&&r){o.value={value:r,text:n};e.prototype.copyPropertiesToConfig.call(this,o)}else{e.prototype.copyPropertiesToConfig.call(this,t)}};return t}(n.FauxObjectBaseEditor);t.FauxObjectSelector=o}));define("compatibility-layer/faux-objects/text-editor",["require","exports","tslib","./faux-object","./base-editor","aurelia-pal"],(function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FauxObjectTextEditor=void 0;var a={defaultLocale:"",language:"",localizationInfo:null};var s=function(e){i.__extends(t,e);function t(t,i,r,o){var a=e.call(this,t,i,r,o)||this;a.linkCommand=new n.CallbackSettings;a[n.configSetters].set("selectOnFocus",null);a[n.configSetters].set("allowNull",null);a[n.configSetters].set("nullText",null);a[n.configSetters].set("required",null);a[n.configSetters].set("asciiCharSet",null);a[n.configSetters].set("validateExp",null);return a}t.prototype[n.initializeFauxObject]=function(){var t=this;e.prototype[n.initializeFauxObject].call(this);this.defaultLocale=null;this.px_cm.registerRequiresOnLoad(this,this.ID);this.px_cm.registerAutoSize(this,this.getExternalProps());this.wrapLanguage();var i=new MutationObserver((function(e){t.onMutationCallback(e)}));i.observe(this.element,{childList:true,subtree:true});this.domEventsElem.subscribe("click",(function(e){var i=e.target;if(i&&i.tagName==="A")t.px_callback.exec(t,t.linkCommand)}));this.domEventsElem.subscribe("focus",(function(e){t.hasFocus=true}));this.domEventsElem.subscribe("blur",(function(e){t.hasFocus=false}))};t.prototype[n.disposeFauxObject]=function(){e.prototype[n.disposeFauxObject].call(this)};t.prototype.onMutationCallback=function(e){var t=false;for(var i=0,n=e;i<n.length;i++){var r=n[i];if(r.type==="childList"){if(r.addedNodes.length>0||r.removedNodes.length>0){t=true;break}}}if(t)this.saveTextElementRef()};t.prototype.getDefaultCallbackProps=function(){return i.__assign(i.__assign({},e.prototype.getDefaultCallbackProps.call(this)),a)};t.prototype.getTextElement=function(){var e=this.element.querySelector("input");return e?e:this.element.querySelector("textarea")};t.prototype.onLoad=function(){if(this.syncStateWithCommand)this.px_cm.registerCommandExecutor(this)};t.prototype.setProperties=function(t){if(this.syncStateWithCommand)t.readOnly=this.getReadOnly();e.prototype.setProperties.call(this,t);this.wrapLanguage()};t.prototype.initInlineEditor=function(e){var t=this.getTextElement();if(t.tagName==="TEXTAREA"){this.px.registerAutoSizedText(t)}this.saveTextElementRef()};t.prototype.commandStateCallback=function(e){this.setReadOnly(!e.getEnabled())};t.prototype.setVisible=function(t){if(!!t!==this.getVisible()){var i=t?"":"none";if(this.boundImage)this.boundImage.style.display=i;if(this.labelID){var n=this.px.elemByID(this.labelID);if(n)n.style.display=i}var r=this.element.nextElementSibling;if(r&&r.getAttribute("data-lang")==="indi"){r.style.display=i}}e.prototype.setVisible.call(this,t)};t.prototype.setReadOnly=function(t){e.prototype.setReadOnly.call(this,t);this.wrapLanguage()};t.prototype.setValue=function(t){e.prototype.setValue.call(this,t);this.repaintText(t)};t.prototype.repaintText=function(e){return};t.prototype.getSelectedText=function(){var e=this.getTextElement();this.selStart=e.selectionStart||0;this.selEnd=e.selectionEnd||0;return e.value.substring(this.selStart,this.selEnd)};t.prototype.select=function(e,t){if(e===void 0){e=null}if(t===void 0){t=null}var i=this.getTextElement();if(e==null||t==null){if(e!=null){i.setSelectionRange(e,e)}else{i.select()}}else i.setSelectionRange(e,t)};t.prototype.getPositioning=function(e){return o.PLATFORM.global.getComputedStyle(e).position};t.prototype.removeLanguage=function(){if(this.elemLanguage&&this.elemLanguage.parentNode){this.elemLanguage.parentNode.removeChild(this.elemLanguage)}};t.prototype.wrapLanguage=function(e){if(e===void 0){e=null}var t=e||this.language||this.defaultLocale;if(!!t){if(this.elemLanguage&&this.elemLanguage.parentNode){this.elemLanguage.innerHTML=t;this.elemLanguage.style.display=this.getReadOnly()?"none":"";return}var i=this.elemText&&this.elemText.nextElementSibling;var n=this.elemText&&this.elemText.parentNode;if(n){this.elemLanguage=o.PLATFORM.global.document.createElement("a");this.elemLanguage.className="langindi2";this.elemLanguage.innerHTML=t;this.elemLanguage.href="javascript:void 0";this.elemLanguage.style.display=this.getReadOnly()?"none":"";var r=this.getPositioning(n);if(r==="static")n.style.position="relative";this.elemLanguage.setAttribute("style","position:absolute;top:2px; /* background-color: rgba(255,255,255,0.8);*/ ");this.elemLanguage.style[this.px.isRTL()?"left":"right"]="-30px";n.insertBefore(this.elemLanguage,i);this.px.addEventHandler(this.elemLanguage,"click",this.localeEditor.bind(this))}}};t.prototype.localeEditor=function(e){var t=this.px_all[this.bindingContainer];if(t&&t.__className==="PXGrid"){t.localizedInlineEditor=this;if(t.activeCell.language||t.activeRow.isNew()&&t.activeCell.column.defaultLocale&&!t.activeCell.getReadOnly()){this.px_cm.showLocalizePopup(t.dataSourceID,t.dataMember,t.activeCell.column.getKey(),t,this.getValue(),t.activeCell.language)}}else if(t&&this.language){if(!this.getReadOnly()){this.px_cm.showLocalizePopup(t.dataSourceID,t.dataMember,this.dataField,this,this.getValue(),this.language)}}else if(this.localizationInfo){var i=this.localizationInfo.split(";");this.px_cm.showLocalizePopup(i[0],i[1],i[2],this,this.getValue(),this.language)}e.preventDefault();e.stopPropagation();return false};t.prototype.localeUpdated=function(e){if(!e)return;var t=e.split(";");if(t.length>1){this.language=t[0];this.setValue(t[1])}};t.prototype.adjustInline=function(e){this.wrapLanguage(e);if(this.elemLanguage&&this.elemLanguage.parentNode){this.elemLanguage.style.display="";var t=this.px.isRTL()?["multiLangRTL"]:["multiLang"];if(this.elemText)this.px.appendCss(this.elemText,t,true);var i=this.getPositioning(this.elemLanguage.parentNode);if((i==="absolute"||i==="relative")&&this.elemText!=null){var n=window.getComputedStyle(this.elemText);var r=6;var o=27;var a=3;var s=this.px.isRTL()?(this.elemText.offsetLeft||0)+r:(this.elemText.offsetLeft||0)+parseInt(n.width,10)-o;this.elemLanguage.style.right="";this.elemLanguage.style.left=s+"px";this.elemLanguage.style.top=this.elemText.offsetTop+a+"px";if(this.elemText.style.zIndex)this.elemLanguage.style.zIndex=String(parseInt(this.elemText.style.zIndex)+1)}}};t.prototype.hideInline=function(){if(this.elemLanguage){this.elemLanguage.style.display="none";if(this.elemText)this.px.excludeCss(this.elemText,["multiLang","multiLangRTL"],true)}};return t}(r.FauxObjectBaseEditor);t.FauxObjectTextEditor=s}));define("compatibility-layer/faux-objects/tool-bar",["require","exports","tslib","./faux-object","aurelia-framework","aurelia-logging","./../../apps/enhance/controls/qp-tool-bar","./button","./../../apps/enhance/services/control-helper"],(function(e,t,i,n,r,o,a,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FauxObjectToolBar=void 0;var u=o.getLogger("tool-bar__faux-object");var c={hidden:false,disabled:false,connotation:"",favorite:false,showInToolbar:false};var p=function(e){i.__extends(t,e);function t(t,i,n,r){var o=e.call(this,t,i,n)||this;o.tq=r;o.commandState=null;o._items=[];var a=o.getExternalProps();o.events.appendEvents(["buttonClick","menuShow"],a?a.clientEvents:null);return o}Object.defineProperty(t.prototype,"items",{get:function(){return this._items},set:function(e){this._items=e},enumerable:false,configurable:true});t.prototype[n.initializeFauxObject]=function(){var t=this;this.initItems(this[n.configRef].items);e.prototype[n.initializeFauxObject].call(this);this.paramsCall=this.px_callback.createCommand("CollectParams",true,false,false,3);this.domEvents=new r.ElementEvents(this.element);this.domEvents.subscribe("mouseup",(function(e){if(t.fireEvent("mouseUp",e,{})){t.px.cancelEvent(e);return}}));this.domEvents.subscribe("buttonpressed",(function(e){u.debug("buttonpressed",e.detail);var i=e.detail.event;var n=e.detail.config;if(a.QpToolBarCustomElement.isEnabled(n)){if(e.detail.isMenuItem){t.execMenu(i,i.detail,n)}else{t.exec(i,n)}}}));this.registerCommands()};t.prototype.registerCommands=function(){var e;for(var t in this[n.configRef].items){var i=(e=this[n.configRef].items[t])===null||e===void 0?void 0:e.config;if(i==null)continue;var r=i.commandSourceID;if(!r)r=this.commandSourceID;if(r){var o=this.px_all[r];if(o&&o.registerCommandControl){var a=i.commandName;if(a)o.registerCommandControl(this,a)}}if(i.autoCallBack&&i.autoCallBack.command&&i.autoCallBack.target){var s=this.px_all[i.autoCallBack.target];if(s&&s.registerCommandControl){s.registerCommandControl(this,i.autoCallBack.command)}}if(i.dependOnGrid){var l=i.linkedGrid=this.px_all[i.dependOnGrid];if(l){i.setEnabled(i.getEnabledState());if(!l.toolBarAttached){l.toolBarAttached=true}}}}};t.prototype.navigate=function(e,t){var i=e.target?e.target:this[n.configRef].target;var r=e.queryString;var o=r?e.navigateUrl+(e.navigateUrl.indexOf("?")===-1?"?":"&")+r:e.navigateUrl;if(e.popupPanel){var a=this.px_all[e.popupPanel];if(a.getVisible()&&o===a.getPageUrl()){a.hide()}else{a.setPageUrl(o);a.show(this)}}else{var s=t&&(t.shiftKey||t.ctrlKey);this.px.openUrl(o,i,s||e.openFrameset)}};Object.defineProperty(t.prototype,"commandSourceID",{get:function(){return this[n.configRef].commandSourceID},set:function(e){this[n.configRef].commandSourceID=e},enumerable:false,configurable:true});t.prototype.execMenu=function(e,t,i){var r;var o=this.items[i.index];var a=o.getMenu();var s=(r=a===null||a===void 0?void 0:a.getItems()[t.value.index])===null||r===void 0?void 0:r.value;if(!s||!a)return;var l=s.autoPostBack;if(l==null)l=i.autoPostBack;if(l==null)l=this[n.configRef].autoPostBack;var u=false;var c=s.commandSourceID;if(!c)c=i.commandSourceID;if(!c)c=o.owner.commandSourceID;var p=s.autoCallBack||i.autoCallBack||o.autoCallBack;if(p.enabled==null)p.enabled=true;if(s.navigateUrl){if(!u){if(s.popupPanel){var d=this.px_all[s.popupPanel];if(d.getVisible()&&s.navigateUrl===d.getPageUrl()){d.hide()}else{d.setPageUrl(s.navigateUrl);d.show(o?o:a)}}else{var h=e&&(e.shiftKey||e.ctrlKey);this.px.openUrl(s.navigateUrl,s.target,h||s.openFrameset)}}}else if(l){if(!u){var f=e.target.getAttribute("name");this.px.doPost(f,"click|"+(s.value?"val|"+s.value:this.element.id))}}else if(p&&p.enabled&&p.command){this.px_callback.exec(s,s.autoCallBack,s.popupCommand)}else if(c&&s.commandName){var g=this.px_all[c];if(g&&g.executeCommand){g.sourceEvent=e;g.executeCommand(s.commandName,s.commandArgument,s.popupCommand)}}if(s.popupPanel&&!l&&!s.navigateUrl){var d=this.px_all[s.popupPanel];if(d){if(!d.getVisible()){d.closeCallback=s.popupCommand;d.show(s)}else d.hide()}}};t.prototype.exec=function(e,i){var r=i;var o={button:i};if(i.suppressActions||this.fireEvent("buttonClick",e,o))return;var a=i.autoPostBack;var s=false;if(a==null)a=this[n.configRef].autoPostBack;var l=i.commandSourceID;var u=i.autoCallBack||r.autoCallBack;if(!l)l=this.commandSourceID;if(i.navigateUrl){if(!s){if(r.collectParams===1){var c={};c.button=r;var p=t._processCollect;this.px_callback.execI(this,this.paramsCall,i.index,p,c)}else this.navigate(i,e)}}else if(a){if(!s){var d=this.element.getAttribute("name");this.px.doPost.doPost(d,"click:"+i.index)}}else if(u&&u.enabled&&u.command){if(e)e.openFrameset=r.openFrameset;if(!e.cancelCallBack)this.px_callback.exec(this,r.autoCallBack,r.popupCommand)}else if(l&&i.commandName){var h=this.px_all[l];if(h&&h.executeCommand){h.sourceEvent=e;h.executeCommand(i.commandName,i.commandArgument,r.popupCommand)}}if(r.popupPanel&&!a&&!r.navigateUrl){var f=this.px_all[r.popupPanel];if(f){if(!f.getVisible()){f.closeCallback=r.popupCommand;f.show(this)}else f.hide()}}};t._processCollect=function(e,t){var i=t.button;if(i&&e){i.queryString=e;i.navigate()}};t.prototype.readProperties=function(e,t){var i,n;for(var r in t){var o=e[r];var a=t[r];var s=(i={},i[r]=a,i);if(o!=null&&typeof o==="object"){if(o instanceof Date){s=(n={},n[r]=new Date(Date.parse(a)),n);Object.assign(e,s)}else if(r==="items"){this.readProperties(o,a)}else if(o instanceof Array){Object.assign(e,s)}else this.readProperties(o,a)}else if(typeof o==="boolean"){e[r]=!!a}else Object.assign(e,s)}};t.prototype.copyPropertiesToConfig=function(t){e.prototype.copyPropertiesToConfig.call(this,t)};t.prototype.setProperties=function(t){u.error("PROPS:",t);if(this[n.configRef])this[n.configRef].changed=true;if(t&&t.items){for(var r in t.items){var o=t.items[r];o.config=i.__assign(i.__assign({},c),o.config);var a=this[n.configRef].items[r];if(!a)a=this[n.configRef].items[r]={};delete a.index;if(a.type==="qp-button"){e.prototype.readProperties.call(this,a,o)}else if(a.type==="label"){e.prototype.readProperties.call(this,a,o)}else e.prototype.readProperties.call(this,a,o)}}if(t&&t.categories){this[n.configRef].categories=[];this.readProperties(this[n.configRef].categories,t.categories)}this.registerCommands()};t.prototype.commandStateCallback=function(e,t){for(var i in this[n.configRef].items){var r=this[n.configRef].items[i].config;var o=r.commandName;if(l.compareStrings(o,t,true)){this.setItemState(r,e);break}}};t.prototype.setItemState=function(e,t){e.disabled=!t.getEnabled();e.hidden=!t.getVisible();var i=t.getDisplayName();if(e.syncText&&i!=null&&e.displayStyle!==1){e.text=i}var n=t.getTooltip();if(n!=null)e.toolTip=n};t.prototype.getEnabled=function(){return this[n.configRef].enabled};t.prototype.setEnabled=function(e){this[n.configRef].enabled=!!e};t.prototype.getEnabledState=function(e){if(e!=null)this.commandState=e;var t=this.commandState!=null?this.commandState.getEnabled():null;return t};t.prototype.getButton=function(e){var t=this.items;if(t&&e){for(var i=0,r=t;i<r.length;i++){var o=r[i];if(!(o instanceof s.FauxObjectButton))continue;var a=o[n.configRef];var u=o.autoCallBack;if(a.key===e||l.compareStrings(a.commandName,e,true)||u&&l.compareStrings(u.command,e,true)){return o}}}return null};t.prototype.arrangeOverflowItems=function(){u.error("ARRANGE OVERFLOW is not yet implemented. ")};t.prototype.initItems=function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t];if(n==null)continue;if(!this.items[n.index]){if(n.type==="qp-button"||n.type==="PXToolBarButton"){var o=r.DOM.getElementById(n.id)}else if(n.type==="label"||n.type==="PXToolBarLabel"){var o=r.DOM.getElementById(n.id);this.items[n.index]=new h(o,n)}}else{this.items[n.index].setProperties(n)}}};return t}(n.FauxObjectBase);t.FauxObjectToolBar=p;var d=function(){function e(e){this.enabled=true;this.readOnly=false;this.commandState=null;this.autoCallBack=new n.CallbackSettings;this.popupCommand=new n.CallbackSettings;this.navigateUrl="";this.popupPanel="";this.id=e}return e}();var h=function(){function e(e,t){this.config=t;this.itemCell=e.parentElement;this.element=e}Object.defineProperty(e.prototype,"type",{get:function(){return"PXToolBarSeperator"},set:function(e){},enumerable:false,configurable:true});e.prototype.setProperties=function(e){var t;for(var i in e){var n=(t={},t[i]=e[i],t);Object.assign(this,n)}};e.prototype.setText=function(e){this.config.text=e};return e}()}));define("compatibility-layer/faux-screen",["require","exports","tslib","aurelia-framework","./faux-objects/faux-object","./faux-object-factory"],(function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FauxScreenCustomAttribute=void 0;var a=function(){function e(e,t,i){this.element=e;this.bindingEngine=t;this.tq=i}e.prototype.bind=function(e){var t=e.elements[this.config.id];if(t!==undefined){Object.assign(t,this.config);t.value=this.config.value;this.config=t}else e.elements[this.config.id]=this.config;var i=this.config.value;e.values[this.config.id]=i;this.values=e.values;this.elements=e.elements};e.prototype.attached=function(){var e=o.getFauxObject(this.element,this.config,this.values,this.bindingEngine);var t=this.element;t.object=e;e[r.initializeFauxObject]();this.tq.queueMicroTask((function(){return e.afterInitialize()}))};e.prototype.unbind=function(){this.values[this.config.id]=undefined;this.elements[this.config.id]=undefined};e.prototype.detached=function(){var e=this.element;e.object[r.disposeFauxObject]()};i.__decorate([n.bindable({defaultBindingMode:n.bindingMode.oneTime,primaryProperty:true}),i.__metadata("design:type",Object)],e.prototype,"config",void 0);e=i.__decorate([n.autoinject,n.customAttribute("faux-screen"),i.__metadata("design:paramtypes",[Element,n.BindingEngine,n.TaskQueue])],e);return e}();t.FauxScreenCustomAttribute=a}));define("environment",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default={debug:false,testing:false}}));define("plugins/enhance-n-watch/index",["require","exports","tslib","./mutation-enhancer"],(function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.configure=void 0;function r(e){e.aurelia.enhanceAndWatch=function(t,r){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(i){e.aurelia.__me=new n.MutationEnhancer(e.aurelia,t);e.aurelia.__me.watch(r);return[2,this.enhance(t,r)]}))}))};e.aurelia.stopWatch=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){if(e.aurelia.__me instanceof n.MutationEnhancer){e.aurelia.__me.unwatch()}return[2]}))}))}}t.configure=r}));define("plugins/enhance-n-watch/mutation-enhancer",["require","exports","aurelia-framework","aurelia-logging"],(function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.MutationEnhancer=void 0;var r=n.getLogger("enhance-watch");var o=function(){function e(e,t){this.au=e;this.bindingContext=t;this.enhanceSelector="";this.container=e.container;this.engine=e.container.get(i.TemplatingEngine)}e.prototype.watch=function(e){var t=this;this.enhanceSelector=Object.keys(this.au.resources.elements).filter((function(e){return["compose","router-view"].indexOf(e)===-1})).map((function(e){return e.toLowerCase()})).join(",");this.observer=new MutationObserver((function(e){t.onMutationcallback(e)}));this.observer.observe(i.PLATFORM.global.document,{childList:true,subtree:true})};e.prototype.unwatch=function(){if(this.observer){this.observer.disconnect()}};e.prototype.onMutationcallback=function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t];if(n.type==="childList"){for(var o=0;o<n.addedNodes.length;o++){var a=n.addedNodes[o];if(a.nodeType!==Node.ELEMENT_NODE){continue}var s=void 0;if(this.au.resources.getElement(a.nodeName.toLowerCase())){s=[a]}else{s=a.querySelectorAll(this.enhanceSelector)}for(var l=0;l<s.length;l++){var u=s[l];if(u.getAttribute("au-target-id")){u.au.controller.attached()}else{this.engine.enhance({element:u,container:this.container,resources:this.au.resources,bindingContext:this.bindingContext})}}}for(var o=0;o<n.removedNodes.length;o++){var a=n.removedNodes[o];if(a.nodeType!==Node.ELEMENT_NODE){continue}var s=void 0;if(this.au.resources.getElement(a.nodeName.toLowerCase())){s=[a]}else{s=a.querySelectorAll(this.enhanceSelector)}for(var l=0;l<s.length;l++){var u=s[l];if(!u.au){r.warn("no au-target-id on removed node",u)}if(u.getAttribute("au-target-id")){u.au.controller.detached()}}}}}};return e}();t.MutationEnhancer=o}));define("plugins/glue/glue-to-custom-attribute",["require","exports","tslib","aurelia-templating","aurelia-logging","aurelia-pal","aurelia-event-aggregator","./index"],(function(e,t,i,n,r,o,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.GlueToCustomAttribute=void 0;var l=r.getLogger("glue-to-attribute");var u=function(){function e(e,t){var i=this;this.ea=t;this.element=e;this.readyPromise=new Promise((function(e,t){i.signalReady=e}))}e.prototype.targetChanged=function(e,t){if(this.coordinateSystemSubscription){this.coordinateSystemSubscription.dispose();this.coordinateSystemSubscription=undefined}this.glueAndObserve()};e.prototype.glueAndObserve=function(){var e=this;this.readyPromise.then((function(){if(e.target){e.coordinateSystemSubscription=e.ea.subscribe(s.COORDINATE_SYSTEM_CHANGED_EVENT_NAME,(function(t){e.reconSquad();e.glueNow()}));e.reconSquad();e.initGlue();e.glueNow()}}))};e.prototype.attached=function(){this.signalReady();this.glueAndObserve()};e.prototype.initGlue=function(){var e=this.element.style;var t=e.maxWidth||e.width;var i=e.maxHeight||e.height;var n=this.element.getBoundingClientRect(),r=n.width,a=n.height;this.maxWidth=t&&parseInt(t)||r;this.maxHeight=i&&parseInt(i)||a;var s=o.PLATFORM.global.innerHeight-this.glueRect.bottom;var l=this.glueRect.top;this.direction=s>this.maxHeight||l<this.maxHeight?"down":"up"};e.prototype.reconSquad=function(){this.docRect=o.PLATFORM.global.document.documentElement.getBoundingClientRect();this.glueRect=this.target.getBoundingClientRect()};e.prototype.detached=function(){if(this.coordinateSystemSubscription){this.coordinateSystemSubscription.dispose();this.coordinateSystemSubscription=undefined}if(this.resizeObserver){this.resizeObserver.unobserve(this.element)}};e.prototype.glueNow=function(){var e=this.element;var t=e.getBoundingClientRect().width;var i;var n;var r;var o=this.glueRect.width||this.glueRect.right-this.glueRect.left;var a=this.glueRect.left+Math.min(this.maxWidth,t)>this.docRect.width;if(a){var s=Math.max(this.glueRect.right,this.docRect.right);n=s}else{n=this.glueRect.left}var l=e.style;if(this.direction==="up"){i=this.glueRect.top;r=a?"translate(-100%,-100%)":"translateY(-100%)"}else{i=this.glueRect.bottom;r=a?"translateX(-100%)":""}if(!l.minWidth){l.minWidth=o+"px"}l.position="fixed";l.left=n+"px";l.top=i+"px";l.transform=r};i.__decorate([n.bindable({primaryProperty:true}),i.__metadata("design:type",Object)],e.prototype,"target",void 0);e=i.__decorate([n.customAttribute("glue-to"),i.__metadata("design:paramtypes",[Element,a.EventAggregator])],e);return e}();t.GlueToCustomAttribute=u}));define("plugins/glue/index",["require","exports","aurelia-framework","./glue-to-custom-attribute","aurelia-event-aggregator"],(function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.configure=t.COORDINATE_SYSTEM_CHANGED_EVENT_NAME=void 0;t.COORDINATE_SYSTEM_CHANGED_EVENT_NAME="absolute-positions-are-screwed";function o(e){e.globalResources([n.GlueToCustomAttribute]);var o=e.container.get(r.EventAggregator);e.postTask((function(){i.PLATFORM.global.document.addEventListener("scroll",(function(e){a(e)}),{capture:true,passive:true});i.PLATFORM.global.addEventListener("resize",(function(e){a(e)}),{passive:true})}));function a(e){o.publish(t.COORDINATE_SYSTEM_CHANGED_EVENT_NAME,e)}}t.configure=o}));define("plugins/happeded-on-body/index",["require","exports","aurelia-framework","aurelia-event-aggregator"],(function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.configure=t.RESIZE_WINDOW=t.MOUSE_DOWN_REACHED_BODY=void 0;t.MOUSE_DOWN_REACHED_BODY="mouse-down-reached-body";t.RESIZE_WINDOW="resize-window";function r(e){var r=e.container.get(n.EventAggregator);e.postTask((function(){i.PLATFORM.global.document.addEventListener("mousedown",(function(e){o(e)}))}));function o(e){r.publish(t.MOUSE_DOWN_REACHED_BODY,e)}e.postTask((function(){i.PLATFORM.global.addEventListener("resize",(function(){a()}))}));function a(){var e={delay:250,timeoutId:undefined};if(e.timeoutId)clearTimeout(e.timeoutId);e.timeoutId=setTimeout((function(){r.publish(t.RESIZE_WINDOW)}),e.delay)}}t.configure=r}));define("plugins/selector-service/index",["require","exports","./selector-service"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.configure=void 0;function n(e){e.singleton(i.SelectorService)}t.configure=n}));define("plugins/selector-service/selector-dialog",["require","exports","tslib","aurelia-framework","aurelia-dialog"],(function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SelectorDialog=void 0;var o=function(){function e(e){this.controller=e}e.prototype.activate=function(e){this.gridConfig=e};e.prototype.selected=function(e){if(e.activeRow!==undefined){var t=e.getCell(this.gridConfig.valueField);var i=e.getCell(this.gridConfig.descriptionName);if(t)this.controller.ok({id:t.value,text:i?t.value+" - "+i.value:""})}};e=i.__decorate([n.autoinject,i.__metadata("design:paramtypes",[r.DialogController])],e);return e}();t.SelectorDialog=o}));define("text!plugins/selector-service/selector-dialog.html",[],(function(){return'<template><ux-dialog><ux-dialog-body><qp-grid style="max-width:90vw;max-height:70vh;height:300px;background-color:#fff" config.bind="gridConfig" on-default-action.call="selected(args)"></qp-grid></ux-dialog-body><ux-dialog-footer><button click.trigger="controller.cancel()">Cancel</button> <button click.trigger="controller.ok(person)">Ok</button></ux-dialog-footer></ux-dialog></template>'}));define("plugins/selector-service/selector-service",["require","exports","tslib","aurelia-framework","aurelia-logging","aurelia-dialog","./selector-dialog"],(function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SelectorService=void 0;var s="selector-service-panel-container";var l=r.getLogger("selector service");var u=function(){function e(e){this.dialogService=e;this.selectors=new Map}e.prototype.getSelectorValue=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r;return i.__generator(this,(function(i){switch(i.label){case 0:r=new Promise((function(e,i){t=e;n=i}));this.dialogService.open({viewModel:a.SelectorDialog,model:e}).whenClosed((function(e){if(!e.wasCancelled){t(e.output)}else{n("because reason")}}));return[4,r];case 1:return[2,i.sent()]}}))}))};e.prototype.getValueFromSelector=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.ensureSelectorInTheDom(e)];case 1:t=i.sent();o=new Promise((function(e,i){n=e;r=i;t.resolvers={resolve:n,reject:r}}));this.querySelector(t,e);return[2,o]}}))}))};e.prototype.querySelector=function(e,t){var i=__px(document).getDropDownPos(t.inputElement,e.panelElement,2);document.dropDownElem=e.panelElement;e.panelElement.setAttribute("controlID",e.panelObject.ID);e.panelElement.style.left=i.left+"px";e.panelElement.style.top=i.top+"px";e.panelElement.style.position="absolute";e.panelElement.style.display="";e.activeQuery=true;var n=e.gridObject;n.clearFastFilter();n.search(t.value,t.valueColumn);var r=e.gridObject;setTimeout((function(){if(r.filterBar&&!__px(document).IsTablet)r.filterBar.focus();else r.focus()}),1)};e.prototype.ensureSelectorInTheDom=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o;var a=this;return i.__generator(this,(function(i){r=new Promise((function(e,i){t=e;n=i}));if(!this.selectors.has(e.controlId)){o={name:"DropDown",blockPage:true,commitChanges:false,repaintControls:0,postData:1,postDataControls:true,container:"",repaintControlsIDs:"",selectControlsIDs:"",commitChangesIDs:"",optimizePostData:false};__px_callback(window).execI({ID:e.controlId,sourceName:e.controlName},o,"",(function(i){a.selectors.set(e.controlId,a.callbackHandler(i,e));t(a.selectors.get(e.controlId))}))}else{t(this.selectors.get(e.controlId))}return[2,r]}))}))};e.prototype.callbackHandler=function(e,t){__px_cm(window).processHtmlData(e,t.controlId+"_selector_dialog");var i=document.querySelector("#"+t.controlId+"_selector_dialog");var n=document.querySelector("#"+t.controlId+"_pnl_gr");var r=n.object;var o=r.events;var a=document.querySelector("#"+t.controlId+"_pnl");var s=a.object;var l=s.events(document).querySelector("form").appendChild(a);var u={selectorElement:i,grid:n,gridObject:r,panelElement:a,panelObject:s,resolvers:undefined,activeQuery:false};var c=function(){var e=r.activeRow.getCell(t.valueColumn).getValue();var i=r.activeRow.getCell(t.textColumn).getValue();if(u.resolvers&&u.activeQuery){u.resolvers.resolve({id:e,text:i})}u.panelElement.style.display="none";document.dropDownElem=undefined};var p=function(e){u.resolvers.reject(new Error(e));u.panelElement.style.display="none";document.dropDownElem=undefined};u.panelObject.hideDropDown=function(){p("outer click")};l.addEventHandler("beforeHide",(function(){p("Close")}));o.addEventHandler("keyDown",(function(e,t){switch(t.key){case 13:t.cancel=true;c();break;case 27:t.cancel=true;p("Close");break}}));r.extToolbar.events.addEventHandler("buttonClick",(function(e,t){switch(t.button.key){case"Select":c();break}}));o.addEventHandler("cellClick",(function(e,t){if(t.event.clickCount===2){c()}}));return u};e=i.__decorate([n.autoinject,i.__metadata("design:paramtypes",[o.DialogService])],e);return e}();t.SelectorService=u}));define("plugins/tooltip-service/index",["require","exports","./tooltip-service"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.configure=void 0;function n(e){e.singleton(i.TooltipService)}t.configure=n}));define("plugins/tooltip-service/tooltip-service",["require","exports","aurelia-framework"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TooltipService=void 0;var n=500;var r=32;var o=function(){function e(){var e=this;this.subscribersOptions=new Map;var t=function(t){return e.hoverStart(t)};var n=function(t){return e.keyPressed(t)};var r=function(){return e.scrollHappened()};var o=function(){return e.resizeHappened()};i.DOM.addEventListener("mousemove",t,true);i.DOM.addEventListener("keydown",n,true);i.DOM.addEventListener("scroll",r,true);i.PLATFORM.global.addEventListener("resize",o,{passive:true})}e.prototype.scrollHappened=function(){this.notifyUserActivityHappened()};e.prototype.resizeHappened=function(){this.notifyUserActivityHappened()};e.prototype.keyPressed=function(e){this.cancelTooltip()};e.prototype.hoverStart=function(e){var t=this;var n;if(i.PLATFORM.global.__suppressTooltip){return}if(!this.legacyTM&&i.PLATFORM.global.px_tm){this.legacyTM=i.PLATFORM.global.px_tm;this.legacyHideTooltip=this.legacyTM.hideTooltip;if(this.legacyTM){i.PLATFORM.global.px_tm.hideTooltip=function(){t.cancelTooltip();t.legacyHideTooltip.call(t.legacyTM)}}}var o=e.target;if(this.currentTarget===o){return}else{if(this.activeSubscriber){var a=(n=this.activeSubscriber.options)===null||n===void 0?void 0:n.elementToIgnore;if(this.activeSubscriber.activator.contains(o)||(a===null||a===void 0?void 0:a.contains(o))){return}else{this.cancelTooltip()}}clearTimeout(this.actionTriggerTimer);this.actionTriggerTimer=setTimeout((function(){return t.countDownForTarget(o)}),r)}};e.prototype.countDownForTarget=function(e){var t=this;this.currentTarget=e;clearTimeout(this.actionTriggerTimer);this.activeSubscriber=this.findSubscriber(e);if(this.activeSubscriber&&!this.activeSubscriber.options.manualShowOnly){var i=this.activeSubscriber.options.triggerDelay||n;this.actionTriggerTimer=setTimeout((function(){var e,i;return(i=(e=t.activeSubscriber)===null||e===void 0?void 0:e.options)===null||i===void 0?void 0:i.onShow()}),i)}};e.prototype.findSubscriber=function(e){var t=e;while(t){if(t.getAttribute("error")){t=undefined}else{var i=this.subscribersOptions.get(t);if(i){return{activator:t,options:i}}else{t=t.parentElement||undefined}}}return undefined};e.prototype.cancelTooltip=function(){var e,t;(t=(e=this.activeSubscriber)===null||e===void 0?void 0:e.options)===null||t===void 0?void 0:t.onHide();this.activeSubscriber=undefined};e.prototype.subscribe=function(e,t){var i=this;this.subscribersOptions.set(e,t);return{dispose:function(){if(i.activeSubscriber===i.subscribersOptions.get(e)){i.activeSubscriber=undefined}i.subscribersOptions.delete(e)}}};e.prototype.notifyUserActivityHappened=function(e){clearTimeout(this.actionTriggerTimer);this.cancelTooltip()};e.prototype.selfActivate=function(e){var t,i,n;console.log("self activated",e);clearTimeout(this.actionTriggerTimer);var r=this.subscribersOptions.get(e);if(((t=this.activeSubscriber)===null||t===void 0?void 0:t.options)!==r){(n=(i=this.activeSubscriber)===null||i===void 0?void 0:i.options)===null||n===void 0?void 0:n.onHide()}if(r){this.activeSubscriber={activator:e,options:r};this.activeSubscriber.options.onShow()}this.currentTarget=undefined};e.prototype.selfHide=function(e){var t;var i=this.subscribersOptions.get(e);i===null||i===void 0?void 0:i.onHide();if(((t=this.activeSubscriber)===null||t===void 0?void 0:t.options)===i){this.activeSubscriber=undefined}};return e}();t.TooltipService=o}));define("plugins/happeded-on-body",["plugins/happeded-on-body/index"],(function(e){return e}));